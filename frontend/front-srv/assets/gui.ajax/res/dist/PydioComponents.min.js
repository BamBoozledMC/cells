!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.PydioComponents=f()}}(function(){var define;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_ChatClient=require("./ChatClient"),_ChatClient2=_interopRequireDefault(_ChatClient),_Message=require("./Message"),_Message2=_interopRequireDefault(_Message),_viewsEmptyStateView=require("../views/EmptyStateView"),_viewsEmptyStateView2=_interopRequireDefault(_viewsEmptyStateView),_materialUi=require("material-ui"),_ChatUsers=require("./ChatUsers"),_ChatUsers2=_interopRequireDefault(_ChatUsers),_Pydio$requireLib=_pydio2.default.requireLib("boot"),PydioContextConsumer=_Pydio$requireLib.PydioContextConsumer,moment=_Pydio$requireLib.moment,LoadSize=40,Chat=function(_React$Component){_inherits(Chat,_React$Component);function Chat(props){_classCallCheck(this,Chat),_React$Component.call(this,props),this.client=null,this.state={messages:[],room:null,value:""},this._newMessageListener=this.onNewMessage.bind(this)}return Chat.prototype.componentDidMount=function(){this.join(this.props.roomType,this.props.roomObjectId)},Chat.prototype.componentWillUnmount=function(){this.stop()},Chat.prototype.componentDidUpdate=function(prevProps,prevState){if(prevState.messages.length<=this.state.messages.length){var prevLastStamp=prevState.messages.length>0?parseFloat(prevState.messages[prevState.messages.length-1].Timestamp):0;(this.state.messages.length>0?parseFloat(this.state.messages[this.state.messages.length-1].Timestamp):0)>prevLastStamp&&(this.refs.comments.scrollTop=1e5)}},Chat.prototype.componentWillReceiveProps=function(nextProps){var roomType=(nextProps.pydio,nextProps.roomType),roomObjectId=nextProps.roomObjectId;roomType===this.props.roomType&&roomObjectId===this.props.roomObjectId||(this.client&&this.client.leaveRoom(this.props.roomType,this.props.roomObjectId,this._newMessageListener),this.setState({messages:[],room:null,value:""}),roomType&&roomObjectId&&this.join(roomType,roomObjectId))},Chat.prototype.onRoomMessage=function(msg){msg&&this.setState({room:msg.Room})},Chat.prototype.onNewMessage=function(msg){var deleteMsg=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(msg)if(deleteMsg)this.setState({messages:this.state.messages.filter(function(m){return m.Uuid!==msg.Uuid})});else{var messages=[].concat(this.state.messages,[msg]).filter(function(m){return!!m.Message});messages.sort(function(mA,mB){return mA.Timestamp===mB.Timestamp?0:parseFloat(mA.Timestamp)>parseFloat(mB.Timestamp)?1:-1}),this.setState({messages:messages})}},Chat.prototype.join=function(roomType,roomObjectId){if(roomObjectId){var pydio=this.props.pydio;this.client=_ChatClient2.default.getInstance(pydio);var room=this.client.joinRoom(roomType,roomObjectId,this._newMessageListener,this.onRoomMessage.bind(this));null!==room&&this.setState({room:room}),this.client.loadHistory(roomType,roomObjectId,0,LoadSize)}},Chat.prototype.more=function(){var _props=this.props,roomType=_props.roomType,roomObjectId=_props.roomObjectId,messages=this.state.messages;this.client&&this.client.loadHistory(roomType,roomObjectId,messages.length-1,LoadSize)},Chat.prototype.stop=function(){var _props2=this.props,roomType=_props2.roomType,roomObjectId=_props2.roomObjectId;this.client&&this.client.leaveRoom(roomType,roomObjectId,this._newMessageListener)},Chat.prototype.postMessage=function(){if(this.state.value){var room=this.state.room;if(!room||!room.Uuid)return void console.error("Cannot find cell info");var message={"@type":"POST",Message:{RoomUuid:room.Uuid,Message:this.state.value}};this.client.send(JSON.stringify(message)),this.setState({value:""})}},Chat.prototype.deleteMessage=function(msg){var room=this.state.room;if(!room||!room.Uuid)return void console.error("Cannot find cell info");var message={"@type":"DELETE_MSG",Message:msg};this.client.send(JSON.stringify(message))},Chat.prototype.keyDown=function(event){"Enter"===event.key&&(event.preventDefault(),this.postMessage())},Chat.prototype.render=function(){var _this=this,_props3=this.props,style=_props3.style,msgContainerStyle=_props3.msgContainerStyle,chatUsersStyle=_props3.chatUsersStyle,fieldContainerStyle=_props3.fieldContainerStyle,fieldHint=_props3.fieldHint,textFieldProps=_props3.textFieldProps,emptyStateProps=_props3.emptyStateProps,pydio=_props3.pydio,pushMessagesToBottom=_props3.pushMessagesToBottom,computePresenceFromACLs=_props3.computePresenceFromACLs,_state=this.state,messages=_state.messages,room=_state.room,data=[],previousMDate=void 0,previousAuthor=void 0,showLoader=messages.length>=LoadSize;messages.forEach(function(m){var mDate=moment(1e3*parseFloat(m.Timestamp)).fromNow(),hideDate=previousMDate&&previousMDate===mDate,sameAuthor=previousAuthor&&previousAuthor===m.Author&&hideDate;data.push(_react2.default.createElement(_Message2.default,{key:m.Uuid,message:m,hideDate:hideDate,sameAuthor:sameAuthor,onDeleteMessage:function(){_this.deleteMessage(m)},moreLoader:showLoader?function(){_this.more()}:null})),showLoader=!1,previousMDate=mDate,previousAuthor=m.Author});var pushStyle=void 0,pusher=void 0;pushMessagesToBottom&&(pushStyle={display:"flex",flexDirection:"column"},data&&data.length&&(pusher=_react2.default.createElement("span",{style:{flex:1}})));var emptyState=void 0;return!emptyStateProps||data&&data.length||(emptyState=_react2.default.createElement(_viewsEmptyStateView2.default,_extends({pydio:pydio},emptyStateProps))),_react2.default.createElement("div",{style:_extends({padding:0},style)},void 0!==computePresenceFromACLs&&_react2.default.createElement(_ChatUsers2.default,{pydio:pydio,ACLs:computePresenceFromACLs,roomUsers:room?room.Users:[],style:chatUsersStyle}),_react2.default.createElement("div",{ref:"comments",className:"comments_feed",style:_extends({maxHeight:300,overflowY:"auto"},pushStyle,msgContainerStyle)},pusher,data,emptyState),_react2.default.createElement("div",{style:_extends({backgroundColor:"white",paddingLeft:16,paddingRight:16,borderTop:"1px solid #e0e0e0"},fieldContainerStyle)},_react2.default.createElement(_materialUi.TextField,_extends({hintText:fieldHint,hintStyle:{whiteSpace:"nowrap"},value:this.state.value,onChange:function(event,newValue){_this.setState({value:newValue})},multiLine:!0,ref:"new_comment",onKeyDown:this.keyDown.bind(this),fullWidth:!0,underlineShow:!1},textFieldProps))))},Chat}(_react2.default.Component);Chat.PropTypes={roomType:_propTypes2.default.string,roomObjectId:_propTypes2.default.string},exports.default=Chat=PydioContextConsumer(Chat),exports.default=Chat,module.exports=exports.default},{"../views/EmptyStateView":63,"./ChatClient":2,"./ChatUsers":4,"./Message":5,"material-ui":"material-ui","prop-types":"prop-types",pydio:"pydio",react:"react"}],2:[function(require,module,exports){"use strict";exports.__esModule=!0;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _pydioHttpWebsocket=require("pydio/http/websocket"),_pydioHttpWebsocket2=_interopRequireDefault(_pydioHttpWebsocket),_reconnectingWebsocket=require("reconnecting-websocket"),_reconnectingWebsocket2=_interopRequireDefault(_reconnectingWebsocket),ChatClient=function(_PydioWebSocket){_inherits(ChatClient,_PydioWebSocket),ChatClient.getInstance=function(pydioObject){return void 0!==ChatClient._instance?ChatClient._instance:(ChatClient._instance=new ChatClient(pydioObject),ChatClient._instance)};function ChatClient(pydioObject){_classCallCheck(this,ChatClient),_PydioWebSocket.call(this,pydioObject),this.currentRepo=pydioObject.repositoryId,this.subscriptions={},this.rooms={},this.roomInfos={},this.open()}return ChatClient.prototype.getIdentifier=function(roomType,objectId){return roomType+":"+objectId},ChatClient.prototype.getRoomInfoFromIdentifier=function(identifier){var _identifier$split=identifier.split(":");return{roomType:_identifier$split[0],objectId:_identifier$split[1]}},ChatClient.prototype.onRoomMessage=function(msg){if(msg){var room=msg.Room,identifier=this.getIdentifier(room.Type,room.RoomTypeObject);this.roomInfos[identifier]=room}},ChatClient.prototype.joinRoom=function(roomType,objectId,messageHandler,roomUpdateHandler){var _this=this,retry=arguments.length<=4||void 0===arguments[4]?0:arguments[4],identifier=this.getIdentifier(roomType,objectId);if(this.subscriptions[identifier]){var already=!1;return this.subscriptions[identifier].map(function(v){v.messageHandler===messageHandler&&(already=!0)}),already||this.subscriptions[identifier].push({messageHandler:messageHandler,roomUpdateHandler:roomUpdateHandler}),this.roomInfos[identifier]}if(this.connecting){if(retry<3)return setTimeout(function(){_this.joinRoom(roomType,objectId,messageHandler,roomUpdateHandler,retry+1)},1500),null}else if(!this.connOpen)return this.open(),setTimeout(function(){_this.joinRoom(roomType,objectId,messageHandler,roomUpdateHandler,retry+1)},1500),null;this.subscriptions[roomType+":"+objectId]=[{messageHandler:messageHandler,roomUpdateHandler:roomUpdateHandler}];var message={"@type":"JOIN",Room:{Type:roomType,RoomTypeObject:objectId}};return this.ws.send(JSON.stringify(message)),this.roomInfos[identifier]},ChatClient.prototype.loadHistory=function(roomType,objectId){var offset=arguments.length<=2||void 0===arguments[2]?0:arguments[2],_this2=this,limit=arguments.length<=3||void 0===arguments[3]?40:arguments[3],retry=arguments.length<=4||void 0===arguments[4]?0:arguments[4];if(this.connecting&&retry<3)return void setTimeout(function(){_this2.loadHistory(roomType,objectId,offset,limit,retry+1)},1500);var message={"@type":"HISTORY",Room:{Type:roomType,RoomTypeObject:objectId},Message:{Message:JSON.stringify({Offset:offset,Limit:limit})}};this.ws.send(JSON.stringify(message))},ChatClient.prototype.leaveRoom=function(roomType,objectId){var _this3=this,messageHandler=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2],keep=!1,identifier=this.getIdentifier(roomType,objectId);if(this.subscriptions[identifier]&&(messageHandler?(this.subscriptions[identifier]=this.subscriptions[identifier].filter(function(v){return v.messageHandler!==messageHandler}),this.subscriptions[identifier].length?keep=!0:delete this.subscriptions[identifier]):delete this.subscriptions[identifier]),!keep&&(Object.keys(this.rooms).map(function(k){_this3.rooms[k]===identifier&&delete _this3.rooms[k]}),this.connOpen)){var message={"@type":"LEAVE",Room:{Type:roomType,RoomTypeObject:objectId}};this.ws.send(JSON.stringify(message))}},ChatClient.prototype.handleMessageReceived=function(msg){var _this4=this,data=JSON.parse(msg.data);if("ROOM_UPDATE"===data["@type"]){var identifier=this.getIdentifier(data.Room.Type,data.Room.RoomTypeObject);this.subscriptions[identifier]&&(this.rooms[data.Room.Uuid]||(this.rooms[data.Room.Uuid]=identifier),this.onRoomMessage(data),this.subscriptions[identifier].map(function(v){if(v.roomUpdateHandler)try{v.roomUpdateHandler(data)}catch(e){}}))}else!function(){var deleteMsg=!1,wsMessage=void 0;if("DELETE_MSG"===data["@type"]?(deleteMsg=!0,wsMessage=data.Message):wsMessage=data,wsMessage.RoomUuid&&_this4.rooms[wsMessage.RoomUuid]){var subs=_this4.subscriptions[_this4.rooms[wsMessage.RoomUuid]],withRoomUpdateHandler=subs.filter(function(v){return v.roomUpdateHandler});withRoomUpdateHandler.length&&(subs=withRoomUpdateHandler),subs.map(function(v){try{v.messageHandler(wsMessage,deleteMsg)}catch(e){}})}}()},ChatClient.prototype.send=function(message){this.ws.send(message)},ChatClient.prototype.open=function(){var _this5=this;if(this.close(),this.currentRepo){var wsPath=this.pydio.Parameters.get("ENDPOINT_WEBSOCKET").replace("/event","/chat");wsPath&&"/"===wsPath[0]&&(wsPath=wsPath.substr(1));var location=this.pydio.getFrontendUrl(),protocol="https:"===location.protocol?"wss":"ws",url=protocol+"://"+location.host+"/"+wsPath;this.ws=new _reconnectingWebsocket2.default(url,[],{maxReconnectionDelay:6e4,reconnectionDelayGrowFactor:1.6,maxRetries:10}),this.connecting=!0,this.ws.addEventListener("open",function(){_pydioHttpWebsocket2.default.subscribeJWT(_this5.ws).then(function(){_this5.connecting=!1,_this5.connOpen=!0}).catch(function(){_this5.connecting=!1,_this5.connOpen=!1})}),this.ws.addEventListener("message",function(msg){_this5.handleMessageReceived(msg)}),this.ws.addEventListener("close",function(event){_this5.connOpen=!1,_this5.connecting=!1,_pydioHttpWebsocket2.default.logClose(event)}),this.ws.addEventListener("error",function(error){"EHOSTDOWN"===error.code&&console.error("WebSocket maxRetries reached, host is down!")}),this.hbInterval=setInterval(function(){return _this5.heartbeat()},15e3),window.onbeforeunload=function(){_this5.close()}}},ChatClient.prototype.close=function(){var _this6=this;null!==this.ws&&(Object.keys(this.subscriptions).map(function(k){var _getRoomInfoFromIdentifier=_this6.getRoomInfoFromIdentifier(k),roomType=_getRoomInfoFromIdentifier.roomType,objectId=_getRoomInfoFromIdentifier.objectId;_this6.leaveRoom(roomType,objectId)}),this.ws.close(1e3,"Closing",{keepClosed:!0}),this.hbInterval&&clearInterval(this.hbInterval))},ChatClient.prototype.heartbeat=function(){var _this7=this;Object.keys(this.subscriptions).map(function(k){var _getRoomInfoFromIdentifier2=_this7.getRoomInfoFromIdentifier(k),roomType=_getRoomInfoFromIdentifier2.roomType,objectId=_getRoomInfoFromIdentifier2.objectId,message={"@type":"JOIN",Room:{Type:roomType,RoomTypeObject:objectId},Message:{Message:"PING"}};try{_this7.ws.send(JSON.stringify(message))}catch(e){}})},ChatClient}(_pydioHttpWebsocket2.default);exports.default=ChatClient,module.exports=exports.default},{"pydio/http/websocket":"pydio/http/websocket","reconnecting-websocket":86}],3:[function(require,module,exports){"use strict";exports.__esModule=!0;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_ChatClient=require("./ChatClient"),_ChatClient2=_interopRequireDefault(_ChatClient),ChatIcon=function(_React$Component){_inherits(ChatIcon,_React$Component);function ChatIcon(props){_classCallCheck(this,ChatIcon),_React$Component.call(this,props),this.state={newMessages:0},this._messageListener=this.onMessage.bind(this)}return ChatIcon.prototype.onMessage=function(msg){arguments.length<=1||void 0===arguments[1]||!arguments[1]?this.setState({newMessages:this.state.newMessages+1}):this.setState({newMessages:Math.max(0,this.state.newMessages-1)})},ChatIcon.prototype.listenToRoom=function(roomType,objectId){_ChatClient2.default.getInstance(this.props.pydio).joinRoom(roomType,objectId,this._messageListener,null)},ChatIcon.prototype.leaveRoom=function(roomType,objectId){_ChatClient2.default.getInstance(this.props.pydio).leaveRoom(roomType,objectId,this._messageListener)},ChatIcon.prototype.componentDidMount=function(){var _props=this.props,roomType=_props.roomType,objectId=_props.objectId;this.listenToRoom(roomType,objectId)},ChatIcon.prototype.componentWillUnmount=function(){var _props2=this.props,roomType=_props2.roomType,objectId=_props2.objectId;this.leaveRoom(roomType,objectId)},ChatIcon.prototype.componentWillReceiveProps=function(nextProps){var _this=this,_props3=this.props,roomType=_props3.roomType,objectId=_props3.objectId;nextProps.roomType===roomType&&nextProps.objectId===objectId||(this.leaveRoom(roomType,objectId),this.setState({newMessages:0},function(){_this.listenToRoom(nextProps.roomType,nextProps.objectId)}))},ChatIcon.prototype.onClick=function(){this.props.pydio.Controller.fireAction("toggle_chat_panel"),this.setState({newMessages:0})},ChatIcon.prototype.render=function(){var newMessages=this.state.newMessages;if(0===newMessages)return null;var green="#8BC34A",style={display:"inline-block",padding:"0 5px",fontSize:15,textAlign:"center",color:green,fontWeight:500,position:"relative"},innerStyle={fontSize:13,display:"inline-block",position:"absolute",top:-1,marginLeft:2};return _react2.default.createElement("span",{onClick:this.onClick.bind(this),className:"mdi mdi-comment",style:style},_react2.default.createElement("span",{style:innerStyle},newMessages))},ChatIcon}(_react2.default.Component);exports.default=ChatIcon,module.exports=exports.default},{"./ChatClient":2,react:"react"}],4:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_pydioModelIdmObjectHelper=require("pydio/model/idm-object-helper"),_pydioModelIdmObjectHelper2=_interopRequireDefault(_pydioModelIdmObjectHelper),ChatUsers=function(_React$Component){_inherits(ChatUsers,_React$Component);function ChatUsers(){_classCallCheck(this,ChatUsers),_React$Component.apply(this,arguments)}return ChatUsers.prototype.render=function(){var _props=this.props,ACLs=_props.ACLs,roomUsers=_props.roomUsers,pydio=_props.pydio,style=_props.style,styles={user:{margin:5,whiteSpace:"nowrap",padding:"5px 10px",backgroundColor:"rgb(255 255 255 / 53%)",borderRadius:16},online:{color:"#4CAF50",marginLeft:5},offline:{marginLeft:5}},users=Object.keys(ACLs).map(function(roleId){var acl=ACLs[roleId],online=void 0,label=_pydioModelIdmObjectHelper2.default.extractLabel(pydio,acl);return acl.User&&(online=roomUsers&&roomUsers.indexOf(acl.User.Login)>-1),_react2.default.createElement("span",{style:styles.user},label,void 0!==online&&_react2.default.createElement("span",{className:"mdi mdi-checkbox-blank-circle"+(online?"":"-outline"),style:online?styles.online:styles.offline}),void 0===online&&_react2.default.createElement("span",{className:"mdi mdi-account-multiple-outline",style:styles.offline}))});return _react2.default.createElement("div",{style:_extends({padding:16,fontWeight:500,color:"#757575",borderBottom:"1px solid #e0e0e0"},style)},users)},ChatUsers}(_react2.default.Component);exports.default=ChatUsers,module.exports=exports.default},{"pydio/model/idm-object-helper":"pydio/model/idm-object-helper",react:"react"}],5:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_usersAvatarUserAvatar=require("../users/avatar/UserAvatar"),_usersAvatarUserAvatar2=_interopRequireDefault(_usersAvatarUserAvatar),_materialUi=require("material-ui"),_pydioUtilDom=require("pydio/util/dom"),_pydioUtilDom2=_interopRequireDefault(_pydioUtilDom),_Pydio$requireLib=_pydio2.default.requireLib("boot"),PydioContextConsumer=_Pydio$requireLib.PydioContextConsumer,moment=_Pydio$requireLib.moment,Message=function(_React$Component){_inherits(Message,_React$Component);function Message(props){_classCallCheck(this,Message),_React$Component.call(this,props),this.state={hover:!1}}return Message.prototype.render=function(){var _this=this,_props=this.props,message=_props.message,pydio=_props.pydio,hideDate=_props.hideDate,sameAuthor=_props.sameAuthor,onDeleteMessage=_props.onDeleteMessage,moreLoader=_props.moreLoader,mDate=moment(1e3*parseFloat(message.Timestamp)),styles={date:{color:"rgba(0,0,0,.23)",textAlign:"center",display:"flex",margin:"5px 0"},dateLine:{flex:1,margin:"10px 20px",borderBottom:"1px solid #eee"},loader:{paddingTop:8,opacity:.8,textAlign:"center"},comment:{padding:"6px 8px",display:"flex",alignItems:"flex-start"},commentContent:{flex:"1",marginLeft:8,position:"relative",padding:"8px 10px",backgroundColor:"#eee",userSelect:"text",webkitUserSelect:"text"},commentDeleteBox:{position:"absolute",top:9,right:5,cursor:"pointer",fontSize:20,color:"#424242",opacity:0,transition:_pydioUtilDom2.default.getBeziersTransition()}},authorIsLogged=!1;pydio.user.id===message.Author&&(authorIsLogged=!0);var avatar=_react2.default.createElement("div",{style:sameAuthor?{visibility:"hidden"}:{paddingTop:2}},_react2.default.createElement(_usersAvatarUserAvatar2.default,{avatarSize:30,pydio:pydio,userId:message.Author,displayLabel:!1,richOnHover:!0,avatarLetters:!0})),textStyle=_extends({},styles.commentContent);authorIsLogged&&(textStyle=_extends({},textStyle,{marginLeft:0,marginRight:8})),sameAuthor&&(textStyle=_extends({},textStyle,{borderRadius:0}));var deleteBox=void 0;if(authorIsLogged){var hover=this.state.hover,deleteStyle=styles.commentDeleteBox;hover&&(deleteStyle.opacity=1),deleteBox=_react2.default.createElement("span",{onClick:onDeleteMessage,className:"mdi mdi-close",style:styles.commentDeleteBox,title:pydio.MessageHash[7]})}var text=_react2.default.createElement(_materialUi.Paper,{zDepth:0,style:textStyle},deleteBox,message.Message);return _react2.default.createElement("div",{style:sameAuthor?{marginTop:-16}:{},onMouseOver:function(){_this.setState({hover:!0})},onMouseOut:function(){_this.setState({hover:!1})},onContextMenu:function(e){e.stopPropagation()}},moreLoader&&_react2.default.createElement("div",{style:styles.loader},_react2.default.createElement(_materialUi.FlatButton,{primary:!0,label:_pydio2.default.getMessages()["chat.load-older"],onClick:moreLoader})),!hideDate&&_react2.default.createElement("div",{style:styles.date},_react2.default.createElement("span",{style:styles.dateLine}),_react2.default.createElement("span",null,mDate.fromNow()),_react2.default.createElement("span",{style:styles.dateLine})),authorIsLogged&&_react2.default.createElement("div",{style:styles.comment},text," ",avatar),!authorIsLogged&&_react2.default.createElement("div",{style:styles.comment},avatar," ",text))},Message}(_react2.default.Component);Message.PropTypes={message:_propTypes2.default.object,hideDate:_propTypes2.default.bool,sameAuthor:_propTypes2.default.bool},exports.default=Message=PydioContextConsumer(Message),exports.default=Message,module.exports=exports.default},{"../users/avatar/UserAvatar":61,"material-ui":"material-ui","prop-types":"prop-types",pydio:"pydio","pydio/util/dom":"pydio/util/dom",react:"react"}],6:[function(require,module,exports){(function(global){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _pydioHttpResourcesManager=require("pydio/http/resources-manager"),_pydioHttpResourcesManager2=_interopRequireDefault(_pydioHttpResourcesManager),_Store=require("./Store"),_Store2=_interopRequireDefault(_Store),_GridBuilder=require("./GridBuilder"),_GridBuilder2=_interopRequireDefault(_GridBuilder),React=require("react"),Pydio=require("pydio"),_require=require("react-grid-layout"),Responsive=_require.Responsive,WidthProvider=_require.WidthProvider,_Pydio$requireLib=Pydio.requireLib("boot"),PydioContextConsumer=_Pydio$requireLib.PydioContextConsumer,CardsGrid=function(_React$Component){_inherits(CardsGrid,_React$Component);function CardsGrid(props,context){_classCallCheck(this,CardsGrid),_React$Component.call(this,props,context),this._storeObserver=function(e){var _this=this;this._forceUpdate=!0,this.setState({cards:props.store.getCards()},function(){_this._forceUpdate=!1})}.bind(this),props.store.observe("cards",this._storeObserver),this.state={cards:props.store.getCards()}}return CardsGrid.prototype.saveFullLayouts=function(allLayouts){this.props.store.getUserPreference("Layout")&&this.previousLayout&&this.previousLayout==JSON.stringify(allLayouts)||(this.previousLayout=JSON.stringify(allLayouts),this.props.store.saveUserPreference("Layout",allLayouts))},CardsGrid.prototype.onLayoutChange=function(currentLayout,allLayouts){this._blockLayoutSave||this.saveFullLayouts(allLayouts)},CardsGrid.prototype.componentWillUnmount=function(){this.props.store.stopObserving("cards",this._storeObserver)},CardsGrid.prototype.componentWillReceiveProps=function(nextProps){this.props&&nextProps.editMode!==this.props.editMode&&Object.keys(this.refs).forEach(function(k){this.refs[k].toggleEditMode(nextProps.editMode)}.bind(this))},CardsGrid.prototype.shouldComponentUpdate=function(nextProps,nextState){return this._forceUpdate||!1},CardsGrid.prototype.removeCard=function(itemKey){this.props.removeCard(itemKey)},CardsGrid.prototype.buildCards=function(cards){var _this2=this,index=0,layouts={lg:[],md:[],sm:[],xs:[],xxs:[]},items=[],additionalNamespaces=[],savedLayouts=(Math.random(),this.props.store.getUserPreference("Layout")),buildLayout=function(classObject,itemKey,item,x,y){var layout=classObject.getGridLayout(x,y);return layout.handle="h4",item.gridHandle&&(layout.handle=item.gridHandle),layout.i=itemKey,layout};return cards.map(function(item){var classObject,parts=item.componentClass.split("."),classNS=parts[0],className=parts[1];if(!global[classNS]||!global[classNS][className])return void(global[classNS]||additionalNamespaces.push(classNS));classObject=global[classNS][className];var props=_extends({},item.props),itemKey=props.key=item.id||"item_"+index;props.ref=itemKey,props.pydio=_this2.props.pydio,props.onCloseAction=function(){_this2.removeCard(itemKey)},props.preferencesProvider=_this2.props.store;var defaultX=0,defaultY=0;item.defaultPosition&&(defaultX=item.defaultPosition.x,defaultY=item.defaultPosition.y);var defaultLayout=buildLayout(classObject,itemKey,item,defaultX,defaultY);for(var breakpoint in layouts)if(layouts.hasOwnProperty(breakpoint)){var existing,breakLayout=layouts[breakpoint];if(savedLayouts&&savedLayouts[breakpoint]&&savedLayouts[breakpoint].map(function(gridData){gridData.i==itemKey&&gridData.h==defaultLayout.h&&(existing=gridData)}),existing)breakLayout.push(existing);else if(item.defaultLayouts&&item.defaultLayouts[breakpoint]){var crtLayout=buildLayout(classObject,itemKey,item,item.defaultLayouts[breakpoint].x,item.defaultLayouts[breakpoint].y);breakLayout.push(crtLayout)}else breakLayout.push(defaultLayout)}index++,items.push(React.createElement(classObject,props))}),additionalNamespaces.length&&(this._blockLayoutSave=!0,_pydioHttpResourcesManager2.default.loadClassesAndApply(additionalNamespaces,function(){this.setState({additionalNamespacesLoaded:additionalNamespaces},function(){this._blockLayoutSave=!1}.bind(this))}.bind(this))),{cards:items,layouts:layouts}},CardsGrid.prototype.render=function(){var _buildCards=this.buildCards(this.state.cards),cards=_buildCards.cards,layouts=_buildCards.layouts,ResponsiveGridLayout=WidthProvider(Responsive);return React.createElement(ResponsiveGridLayout,{className:"dashboard-layout",cols:this.props.cols||{lg:10,md:8,sm:8,xs:4,xxs:2},layouts:layouts,rowHeight:5,onLayoutChange:this.onLayoutChange.bind(this),isDraggable:!this.props.disableDrag,style:this.props.style,autoSize:!1},cards)},CardsGrid}(React.Component),DynamicGrid=function(_React$Component2){_inherits(DynamicGrid,_React$Component2)
;function DynamicGrid(props){_classCallCheck(this,DynamicGrid),_React$Component2.call(this,props);var store=new _Store2.default(props.storeNamespace,props.defaultCards,props.pydio);this.state={editMode:!1,store:store}}return DynamicGrid.prototype.removeCard=function(cardId){this.state.store.removeCard(cardId)},DynamicGrid.prototype.addCard=function(cardDefinition){this.state.store.addCard(cardDefinition)},DynamicGrid.prototype.resetCardsAndLayout=function(){this.state.store.saveUserPreference("Layout",null),this.state.store.setCards(this.props.defaultCards)},DynamicGrid.prototype.toggleEditMode=function(){this.setState({editMode:!this.state.editMode})},DynamicGrid.prototype.render=function(){var _this3=this,monitorWidgetEditing=function(status){this.setState({widgetEditing:status})}.bind(this),builder=void 0;this.props.builderNamespaces&&this.state.editMode&&(builder=React.createElement(_GridBuilder2.default,{className:"admin-helper-panel",namespaces:this.props.builderNamespaces,onCreateCard:this.addCard.bind(this),onResetLayout:this.resetCardsAndLayout.bind(this),onEditStatusChange:monitorWidgetEditing,getMessage:function(id){var ns=arguments.length<=1||void 0===arguments[1]?"ajxp_admin":arguments[1];return _this3.props.getMessage(id,ns)}}));var rglStyle=this.props.rglStyle||{};return React.createElement("div",{style:_extends({},this.props.style,{width:"100%",flex:"1"}),className:this.state.editMode?"builder-open":""},!this.props.disableEdit&&React.createElement("div",{style:{position:"absolute",bottom:30,right:18,zIndex:11}},React.createElement(MaterialUI.FloatingActionButton,{tooltip:this.props.getMessage("home.49"),onClick:this.toggleEditMode.bind(this),iconClassName:this.state.editMode?"icon-ok":"mdi mdi-pencil",mini:this.state.editMode,disabled:this.state.editMode&&this.state.widgetEditing})),builder,React.createElement("div",{className:"home-dashboard",style:{height:"100%"}},React.createElement(CardsGrid,{disableDrag:this.props.disableDrag,cols:this.props.cols,store:this.state.store,style:rglStyle,pydio:this.props.pydio,editMode:this.state.editMode,removeCard:this.removeCard.bind(this)})))},DynamicGrid}(React.Component);exports.default=DynamicGrid=PydioContextConsumer(DynamicGrid),exports.default=DynamicGrid,module.exports=exports.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./GridBuilder":7,"./Store":9,pydio:"pydio","pydio/http/resources-manager":"pydio/http/resources-manager",react:"react","react-grid-layout":79}],7:[function(require,module,exports){(function(global){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _materialUi=require("material-ui"),React=require("react"),Pydio=require("pydio"),_Pydio$requireLib=Pydio.requireLib("boot"),PydioContextConsumer=_Pydio$requireLib.PydioContextConsumer,AsyncComponent=_Pydio$requireLib.AsyncComponent,GridBuilder=function(_React$Component){_inherits(GridBuilder,_React$Component),GridBuilder.prototype.listAvailableWidgets=function(){var secondPass=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],widgets=[],additionalNamespaces=[];return this.props.namespaces.map(function(ns){if(!global[ns])return void additionalNamespaces.push(ns);for(var k in global[ns])if(global[ns].hasOwnProperty(k)){var widgetClass=global[ns][k];widgetClass.hasBuilderFields&&widgetClass.hasBuilderFields()&&widgets.push({reactClass:widgetClass,fullName:ns+"."+widgetClass.displayName})}}),additionalNamespaces.length&&!secondPass&&ResourcesManager.loadClassesAndApply(additionalNamespaces,function(){this.setState({availableWidgets:this.listAvailableWidgets(!0)})}.bind(this)),widgets},GridBuilder.prototype.onDropDownChange=function(event,index,item){var defaultValues={};0!=index&&item.payload.reactClass.getBuilderFields().map(function(f){f.default&&(defaultValues[f.name]=f.default)}),this.props.onEditStatusChange&&this.props.onEditStatusChange(0!=index),this.setState({selectedIndex:index,selectedWidget:item.payload,currentFormValues:defaultValues})},GridBuilder.prototype.cancel=function(){this.props.onEditStatusChange&&this.props.onEditStatusChange(!1),this.setState({selectedIndex:0})},GridBuilder.prototype.onFormValueChange=function(newValues){this.setState({currentFormValues:newValues})},GridBuilder.prototype.onFormSubmit=function(){var values=this.state.currentFormValues,selectedWidget=this.state.selectedWidget,title=values.title?values.title:values.legend;title||(title=this.state.selectedWidget.reactClass.builderDisplayName),this.props.onCreateCard({componentClass:selectedWidget.fullName,title:title,props:values}),this.cancel()},GridBuilder.prototype.resetLayout=function(){window.confirm(this.props.getMessage("home.51"))&&this.props.onResetLayout()};function GridBuilder(props){_classCallCheck(this,GridBuilder),_React$Component.call(this,props),this.state={selectedIndex:0,availableWidgets:this.listAvailableWidgets()}}return GridBuilder.prototype.render=function(){var form,add,getMessage=this.props.getMessage,selector=([{payload:0,text:getMessage("home.50")}].concat(this.state.availableWidgets.map(function(w,index){return{payload:w,text:w.reactClass.builderDisplayName}})),React.createElement("div",null,"DropDownMenu (to be re-implemented)"));if(0!==this.state.selectedIndex){var fields=this.state.selectedWidget.reactClass.getBuilderFields(),defaultValues={};fields.map(function(f){f.default&&(defaultValues[f.name]=f.default)}),this.state.currentFormValues&&(defaultValues=LangUtils.mergeObjectsRecursive(defaultValues,this.state.currentFormValues)),form=React.createElement(AsyncComponent,{namespace:"PydioForm",componentName:"FormPanel",parameters:fields,depth:-1,values:defaultValues,onChange:this.onFormValueChange}),add=React.createElement("div",{style:{textAlign:"center",paddingBottom:100}},React.createElement(_materialUi.RaisedButton,{label:getMessage("home.52"),onClick:this.onFormSubmit})," ",React.createElement(_materialUi.RaisedButton,{label:getMessage("54",""),onClick:this.cancel}))}return React.createElement(_materialUi.Paper,_extends({},this.props,{zDepth:3}),React.createElement("h3",null,getMessage("home.53")),React.createElement("div",{className:"legend"},getMessage("home.54"),React.createElement("br",null),getMessage("home.55")),selector,form,add,React.createElement("div",{style:{position:"absolute",bottom:30,left:10}},React.createElement(_materialUi.FlatButton,{disabled:0!=this.state.selectedIndex,label:getMessage("home.56"),secondary:!0,onClick:this.resetLayout})))},GridBuilder}(React.Component);exports.default=GridBuilder=PydioContextConsumer(GridBuilder),exports.default=GridBuilder,module.exports=exports.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"material-ui":"material-ui",pydio:"pydio",react:"react"}],8:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_materialUi=require("material-ui");exports.default={propTypes:{showCloseAction:_propTypes2.default.bool,onCloseAction:_propTypes2.default.func},focusItem:function(){this.setState({focus:!0})},blurItem:function(){this.setState({focus:!1})},mergeStyleWithFocus:function(){return _extends({},this.props.style,{zIndex:this.state.focus?1:null})},getInitialSate:function(){return{focus:!1,showCloseAction:!1}},toggleEditMode:function(){var value=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];void 0===value?this.setState({showCloseAction:!(this.state&&this.state.showCloseAction)}):this.setState({showCloseAction:value})},getCloseButton:function(){if(this.state&&this.state.showCloseAction){var closeAction=this.props.onCloseAction||function(){},overlayStyle={position:"absolute",backgroundColor:"rgba(0,0,0,0.53)",zIndex:10,top:0,left:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center"};return React.createElement("div",{style:overlayStyle},React.createElement(_materialUi.FlatButton,{label:_pydio2.default.getInstance().MessageHash["ajxp_admin.home.48"],className:"card-close-button",onClick:closeAction,style:{color:"white"}}))}return null},statics:{getGridLayout:function(x,y){return{x:x||0,y:y||0,w:this.gridWidth||4,h:this.gridHeight||12,isResizable:!1}},hasBuilderFields:function(){return!!this.builderFields},getBuilderFields:function(){return this.builderFields}}},module.exports=exports.default},{"material-ui":"material-ui","prop-types":"prop-types",pydio:"pydio"}],9:[function(require,module,exports){"use strict";exports.__esModule=!0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Store=function(_Observable){_inherits(Store,_Observable);function Store(prefNamespace,defaultCards,pydioObject){_classCallCheck(this,Store),_Observable.call(this),this._namespace=prefNamespace,this._pydio=pydioObject,this._cards=this.getUserPreference("Cards"),this._cards||(this._cards=defaultCards)}return Store.prototype.getUserPreference=function(prefName){var prefKey=this._namespace+prefName,guiPrefs=this._pydio.user.getPreference("gui_preferences",!0);return guiPrefs&&guiPrefs[prefKey]?guiPrefs[prefKey]:null},Store.prototype.saveUserPreference=function(prefName,prefValue){var prefKey=this._namespace+prefName,guiPrefs=this._pydio.user.getPreference("gui_preferences",!0);guiPrefs||(guiPrefs={}),guiPrefs[prefKey]=prefValue,this._pydio.user.setPreference("gui_preferences",guiPrefs,!0),this._pydio.user.savePreference("gui_preferences")},Store.prototype.saveCards=function(cards){this.saveUserPreference("Cards",cards)},Store.prototype.resetCards=function(){this.saveUserPreference("Cards",null)},Store.prototype.setCards=function(newCards){this._cards=newCards,this.notify("cards",this._cards),this.saveCards(newCards)},Store.prototype.getCards=function(){return this._cards},Store.prototype.removeCard=function(cardId){var index=-1,currentCards=this.getCards();if(currentCards.map(function(card,arrayIndex){card.id==cardId&&(index=arrayIndex)}),-1==index)return void console.warn("Card ID not found, this is strange.",cardId);var newCards;newCards=0==index?currentCards.slice(1):index==currentCards.length-1?currentCards.slice(0,-1):currentCards.slice(0,index).concat(currentCards.slice(index+1)),this.setCards(newCards)},Store.prototype.createCardId=function(cardDefinition){var randomize=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],id=LangUtils.computeStringSlug(cardDefinition.title);randomize&&(id+="-"+Math.round(100*Math.random()+10));var alreadyExists=!1;return this._cards.map(function(card){card.id==id&&(alreadyExists=!0)}.bind(this)),alreadyExists&&(id=this.createCardId(cardDefinition,!0)),id},Store.prototype.addCard=function(cardDefinition){cardDefinition.id=this.createCardId(cardDefinition),this.setCards(this._cards.concat([cardDefinition]))},Store}(Observable);exports.default=Store,module.exports=exports.default},{}],10:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var PropTypes=require("prop-types"),_require=require("react"),Component=_require.Component,_require2=require("material-ui"),FlatButton=_require2.FlatButton,_require3=require("material-ui/styles"),muiThemeable=_require3.muiThemeable;exports.default=function(PydioComponent,displayName){var gridDimension=arguments.length<=2||void 0===arguments[2]?{gridWidth:4,gridHeight:12}:arguments[2],builderFields=arguments.length<=3||void 0===arguments[3]?void 0:arguments[3],originalDisplayName=PydioComponent.displayName||PydioComponent.name;PydioComponent=muiThemeable()(PydioComponent);var GridItem=function(_Component){_inherits(GridItem,_Component);function GridItem(props,context){_classCallCheck(this,GridItem),_Component.call(this,props,context),this.state={focus:!1,showCloseAction:!1}}return GridItem.prototype.focusItem=function(){this.setState({focus:!0})},GridItem.prototype.blurItem=function(){this.setState({focus:!1})},GridItem.prototype.mergeStyleWithFocus=function(){return _extends({},this.props.style,{zIndex:this.state.focus?1:null})},GridItem.prototype.toggleEditMode=function(){var value=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];void 0===value?this.setState({showCloseAction:!(this.state&&this.state.showCloseAction)}):this.setState({showCloseAction:value})},GridItem.prototype.getCloseButton=function(){var closeAction=function(){};this.props.onCloseAction&&(closeAction=this.props.onCloseAction);var overlayStyle={position:"absolute",backgroundColor:"rgba(0,0,0,0.53)",zIndex:10,top:0,left:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center"};return React.createElement("div",{style:overlayStyle},React.createElement(FlatButton,{label:this.props.pydio.MessageHash["ajxp_admin.home.48"],className:"card-close-button",onClick:closeAction,style:{color:"white"}}))},GridItem.prototype.render=function(){var props=_extends({},this.props,{style:this.mergeStyleWithFocus(),closeButton:this.state.showCloseAction?this.getCloseButton():null,onFocusItem:this.focusItem.bind(this),onBlurItem:this.blurItem.bind(this)});return React.createElement(PydioComponent,props)},GridItem}(Component);return GridItem.propTypes={onCloseAction:PropTypes.func},GridItem.displayName=originalDisplayName,GridItem.builderDisplayName=displayName,GridItem.getGridLayout=function(x,y){return{x:x||0,y:y||0,w:gridDimension.gridWidth||4,h:gridDimension.gridHeight||12,isResizable:!1}},GridItem.hasBuilderFields=function(){return void 0!==builderFields},GridItem.getBuilderFields=function(){return builderFields},GridItem},module.exports=exports.default},{"material-ui":"material-ui","material-ui/styles":"material-ui/styles","prop-types":"prop-types",react:"react"}],11:[function(require,module,exports){"use strict";exports.__esModule=!0;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_react=require("react"),_react2=_interopRequireDefault(_react),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_materialUi=require("material-ui"),_materialUiStyles=require("material-ui/styles"),PaperEditorLayout=function(_React$Component){_inherits(PaperEditorLayout,_React$Component);function PaperEditorLayout(props){_classCallCheck(this,PaperEditorLayout),_React$Component.call(this,props),this.state={forceLeftOpen:!1}}return PaperEditorLayout.prototype.toggleMenu=function(){var crtLeftOpen=this.state&&this.state.forceLeftOpen;this.setState({forceLeftOpen:!crtLeftOpen})},PaperEditorLayout.prototype.render=function(){var _props=this.props,muiTheme=_props.muiTheme,closeAction=_props.closeAction,className=_props.className,title=_props.title,titleActionBar=_props.titleActionBar,leftNav=_props.leftNav,contentFill=_props.contentFill,children=_props.children,forceLeftOpen=this.state.forceLeftOpen,styles={title:{backgroundColor:muiTheme.palette.accent2Color,borderRadius:"2px 2px 0 0",display:"flex",alignItems:"center",height:56,padding:"0 20px"},titleH2:{color:"white",flex:1,fontSize:18,padding:0,margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},titleBar:{display:"flex",alignItems:"center"}},closeButton=void 0;return closeAction&&(closeButton=_react2.default.createElement(_materialUi.IconButton,{tooltip:_pydio2.default.getMessages()[86],iconClassName:"mdi mdi-close",onClick:closeAction,iconStyle:{color:"white"}})),_react2.default.createElement("div",{className:"paper-editor-content layout-fill vertical-layout"+(className?" "+className:"")},_react2.default.createElement("div",{className:"paper-editor-title",style:styles.title},_react2.default.createElement("h2",{style:styles.titleH2},title," ",_react2.default.createElement("div",{className:"left-picker-toggle"},_react2.default.createElement(_materialUi.IconButton,{iconClassName:"icon-caret-down",onClick:this.toggleMenu.bind(this)}))),_react2.default.createElement("div",{style:styles.titleBar},titleActionBar),closeButton),_react2.default.createElement("div",{className:"layout-fill main-layout-nav-to-stack"},leftNav&&_react2.default.createElement("div",{className:"paper-editor-left"+(forceLeftOpen?" picker-open":""),onClick:this.toggleMenu.bind(this)},leftNav),_react2.default.createElement("div",{className:"layout-fill paper-editor-right"+(contentFill?" vertical-layout":""),style:contentFill?{}:{overflowY:"auto"}},children)))},PaperEditorLayout}(_react2.default.Component);PaperEditorLayout.propTypes={title:_propTypes2.default.any,titleActionBar:_propTypes2.default.any,closeAction:_propTypes2.default.func,leftNav:_propTypes2.default.any,contentFill:_propTypes2.default.bool,className:_propTypes2.default.string},exports.PaperEditorLayout=PaperEditorLayout=_materialUiStyles.muiThemeable()(PaperEditorLayout),PaperEditorLayout.actionButton=function(label,icon,action){var disabled=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];return _react2.default.createElement(_materialUi.IconButton,{tooltip:label,iconClassName:icon,disabled:disabled,onClick:action,iconStyle:{color:disabled?"rgba(255,255,255,0.5)":"white"}})};var PaperEditorNavHeader=function(_React$Component2){_inherits(PaperEditorNavHeader,_React$Component2);function PaperEditorNavHeader(){_classCallCheck(this,PaperEditorNavHeader),_React$Component2.apply(this,arguments)}return PaperEditorNavHeader.prototype.render=function(){return _react2.default.createElement("div",{className:"mui-subheader",style:{fontSize:13,fontWeight:500,color:"rgba(0, 0, 0, 0.25)",lineHeight:"48px",paddingLeft:16}},this.props.children,this.props.label)},PaperEditorNavHeader}(_react2.default.Component),PaperEditorNavEntry=function(_React$Component3){_inherits(PaperEditorNavEntry,_React$Component3);function PaperEditorNavEntry(){_classCallCheck(this,PaperEditorNavEntry),_React$Component3.apply(this,arguments)}return PaperEditorNavEntry.prototype.onClick=function(){this.props.onClick(this.props.keyName)},PaperEditorNavEntry.prototype.captureDropDownClick=function(){if(this.preventClick)return void(this.preventClick=!1);this.props.onClick(this.props.keyName)},PaperEditorNavEntry.prototype.dropDownChange=function(event,index,item){this.preventClick=!0,this.props.dropDownChange(item)},PaperEditorNavEntry.prototype.render=function(){if(!this.props.dropDown||!this.props.dropDownData)return _react2.default.createElement("div",{className:"menu-entry"+(this.props.keyName===this.props.selectedKey?" menu-entry-selected":"")+(this.props.isLast?" last":""),onClick:this.onClick.bind(this)},this.props.children,this.props.label);var menuItemsTpl=[{text:this.props.label,payload:"-1"}];return this.props.dropDownDefaultItems&&(menuItemsTpl=menuItemsTpl.concat(this.props.dropDownDefaultItems)),this.props.dropDownData.forEach(function(v,k){menuItemsTpl.push({text:v.label,payload:v})}),_react2.default.createElement("div",{onClick:this.captureDropDownClick.bind(this),className:"menu-entry-dropdown"+(this.props.keyName===this.props.selectedKey?" menu-entry-selected":"")+(this.props.isLast?" last":"")},_react2.default.createElement(_materialUi.DropDownMenu,{menuItems:menuItemsTpl,className:"dropdown-full-width",style:{width:256},autoWidth:!1,onChange:this.dropDownChange.bind(this)}))},PaperEditorNavEntry}(_react2.default.Component);exports.PaperEditorLayout=PaperEditorLayout,exports.PaperEditorNavEntry=PaperEditorNavEntry,exports.PaperEditorNavHeader=PaperEditorNavHeader},{"material-ui":"material-ui","material-ui/styles":"material-ui/styles","prop-types":"prop-types",pydio:"pydio",react:"react"}],12:[function(require,module,exports){"use strict";exports.__esModule=!0;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),propTypes={node:_propTypes2.default.instanceOf(AjxpNode).isRequired,registry:_propTypes2.default.instanceOf(Registry).isRequired,editorData:_propTypes2.default.object.isRequired,icon:_propTypes2.default.bool},defaultProps={icon:!1},ReactEditorOpener=function(_React$Component){_inherits(ReactEditorOpener,_React$Component);function ReactEditorOpener(props){_classCallCheck(this,ReactEditorOpener),_React$Component.call(this,props);props.node,props.editorData;this.state={ready:!1}}return ReactEditorOpener.prototype.componentDidMount=function(){var _this=this,_props=this.props,editorData=_props.editorData;_props.registry.loadEditorResources(editorData.resourcesManager,function(){return _this.setState({ready:!0})})},ReactEditorOpener.prototype.render=function(){var editorData=this.props.editorData;if(!this.state.ready)return null;var EditorClass=null;return(EditorClass=FuncUtils.getFunctionByName(editorData.editorClass,window))?_react2.default.createElement(EditorClass.Editor,this.props):_react2.default.createElement("div",null,"Cannot find editor component ("+editorData.editorClass+")!")},ReactEditorOpener}(_react2.default.Component);ReactEditorOpener.propTypes=propTypes,ReactEditorOpener.defaultProps=defaultProps,exports.default=ReactEditorOpener,module.exports=exports.default},{"prop-types":"prop-types",react:"react"}],13:[function(require,module,exports){(function(global){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_propTypes=require("prop-types"),_materialUi=(_interopRequireDefault(_propTypes),require("material-ui")),ClipboardTextField=function(_React$Component){_inherits(ClipboardTextField,_React$Component);function ClipboardTextField(props){_classCallCheck(this,ClipboardTextField),_React$Component.call(this,props),this.state={copyMessage:null}}return ClipboardTextField.prototype.componentDidMount=function(){this.attachClipboard()},ClipboardTextField.prototype.componentDidUpdate=function(){this.attachClipboard()},ClipboardTextField.prototype.attachClipboard=function(){this._clip&&this._clip.destroy(),this.refs["copy-button"]&&(this._clip=new Clipboard(this.refs["copy-button"],{text:function(trigger){return this.props.inputValue}.bind(this)}),this._clip.on("success",function(){this.setState({copyMessage:this.props.getMessage(this.props.inputCopyMessage||"192")},this.clearCopyMessage.bind(this))}.bind(this)),this._clip.on("error",function(){var copyMessage;copyMessage=0===global.navigator.platform.indexOf("Mac")?this.props.getMessage("144"):this.props.getMessage("143"),this.refs.input.focus(),this.setState({copyMessage:copyMessage},this.clearCopyMessage.bind(this))}.bind(this)))},ClipboardTextField.prototype.clearCopyMessage=function(){global.setTimeout(function(){this.setState({copyMessage:""})}.bind(this),3e3)},ClipboardTextField.prototype.render=function(){var select=function(e){e.currentTarget.select()},copyMessage=null;if(this.state.copyMessage){var setHtml=function(){return{__html:this.state.copyMessage}}.bind(this);copyMessage=_react2.default.createElement("div",{style:{color:"rgba(0,0,0,0.23)"},className:"copy-message",dangerouslySetInnerHTML:setHtml()})}var buttonStyle=_extends({position:"absolute",right:-8,bottom:13,fontSize:15,color:this.props.buttonColor||"rgba(0, 150, 136, 0.52)",height:26,width:26,lineHeight:"28px",textAlign:"center",cursor:"pointer",borderRadius:"50%"},this.props.buttonStyle);return _react2.default.createElement("div",null,_react2.default.createElement("div",{style:{position:"relative"}},_react2.default.createElement(_materialUi.TextField,{fullWidth:!0,ref:"input",floatingLabelText:this.props.floatingLabelText,floatingLabelStyle:{whiteSpace:"nowrap"},underlineShow:this.props.underlineShow,defaultValue:this.props.inputValue,className:this.props.inputClassName,multiLine:this.props.multiLine,rows:this.props.rows,rowsMax:this.props.rowsMax,readOnly:!0,onClick:select,style:{marginTop:-10,width:"92%",fontSize:14}}),_react2.default.createElement("span",{ref:"copy-button",style:buttonStyle,title:this.props.getMessage("191"),className:"copy-button mdi mdi-content-copy"})),copyMessage)},ClipboardTextField}(_react2.default.Component);exports.default=ClipboardTextField,module.exports=exports.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"material-ui":"material-ui","prop-types":"prop-types",react:"react"}],14:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_materialUi=require("material-ui"),_materialUiStyles=require("material-ui/styles"),_Pydio$requireLib=_pydio2.default.requireLib("hoc"),PlaceHolder=_Pydio$requireLib.PlaceHolder,PhRoundShape=_Pydio$requireLib.PhRoundShape,PhTextRow=_Pydio$requireLib.PhTextRow,globalStyles={globalLeftMargin:64},GenericLine=function(_React$Component){_inherits(GenericLine,_React$Component);function GenericLine(){_classCallCheck(this,GenericLine),_React$Component.apply(this,arguments)}return GenericLine.prototype.render=function(){var _props=this.props,iconClassName=_props.iconClassName,legend=_props.legend,data=_props.data,dataStyle=_props.dataStyle,legendStyle=_props.legendStyle,iconStyle=_props.iconStyle,placeHolder=_props.placeHolder,placeHolderReady=_props.placeHolderReady,style={icon:_extends({margin:"16px 20px 0"},iconStyle),legend:_extends({fontSize:12,color:"#aaaaaa",fontWeight:500},legendStyle),data:_extends({fontSize:15,paddingRight:6,overflow:"hidden",textOverflow:"ellipsis"},dataStyle)},contents=_react2.default.createElement("div",{style:_extends({display:"flex",marginBottom:8,overflow:"hidden"},this.props.style)},_react2.default.createElement("div",{style:{width:globalStyles.globalLeftMargin}},_react2.default.createElement(_materialUi.FontIcon,{color:"#aaaaaa",className:iconClassName,style:style.icon})),_react2.default.createElement("div",{style:{flex:1}},_react2.default.createElement("div",{style:style.legend},legend),_react2.default.createElement("div",{style:style.data},data)));if(placeHolder){var linePH=_react2.default.createElement("div",{style:_extends({display:"flex",marginBottom:16,overflow:"hidden"},this.props.style)},_react2.default.createElement("div",{style:{width:globalStyles.globalLeftMargin}},_react2.default.createElement(PhRoundShape,{style:{width:35,height:35,margin:"10px 15px 0"}})),_react2.default.createElement("div",{style:{flex:1}},_react2.default.createElement("div",{style:_extends({},style.legend,{maxWidth:100})},_react2.default.createElement(PhTextRow,null)),_react2.default.createElement("div",{style:_extends({},style.data,{marginRight:24})},_react2.default.createElement(PhTextRow,{style:{height:"1.3em",
marginTop:"0.4em"}}))));return _react2.default.createElement(PlaceHolder,{ready:placeHolderReady,showLoadingAnimation:!0,customPlaceholder:linePH},contents)}return contents},GenericLine}(_react2.default.Component),GenericCard=function(_React$Component2){_inherits(GenericCard,_React$Component2);function GenericCard(){_classCallCheck(this,GenericCard),_React$Component2.apply(this,arguments)}return GenericCard.prototype.render=function(){var _props2=this.props,title=_props2.title,onDismissAction=_props2.onDismissAction,onEditAction=_props2.onEditAction,onDeleteAction=_props2.onDeleteAction,otherActions=_props2.otherActions,moreMenuItems=_props2.moreMenuItems,children=_props2.children,muiTheme=_props2.muiTheme,style=_props2.style,headerSmall=_props2.headerSmall,editTooltip=_props2.editTooltip,deleteTooltip=_props2.deleteTooltip,primary1Color=muiTheme.palette.primary1Color,styles={headerHeight:100,buttonBarHeight:60,buttonBar:{display:"flex",height:60},fabTop:80,button:{style:{},iconStyle:{color:"white"}}};return headerSmall&&(styles={headerHeight:"auto",buttonBar:{display:"flex",alignItems:"center",height:46,padding:"0 7px 0 16px"},fabTop:60,button:{style:{width:38,height:38,padding:9},iconStyle:{color:"white",fontSize:18}}}),_react2.default.createElement(_materialUi.Paper,{zDepth:0,style:_extends({width:"100%",position:"relative"},style)},onEditAction&&!headerSmall&&_react2.default.createElement(_materialUi.FloatingActionButton,{onClick:onEditAction,mini:!0,style:{position:"absolute",top:styles.fabTop,left:10}},_react2.default.createElement(_materialUi.FontIcon,{className:"mdi mdi-pencil"})),_react2.default.createElement(_materialUi.Paper,{zDepth:0,style:{backgroundColor:primary1Color,color:"white",height:styles.headerHeight,borderRadius:"2px 2px 0 0"}},_react2.default.createElement("div",{style:styles.buttonBar},headerSmall&&_react2.default.createElement("span",{style:{flex:1,fontSize:14,fontWeight:500}},title),!headerSmall&&_react2.default.createElement("span",{style:{flex:1}}),onEditAction&&headerSmall&&_react2.default.createElement(_materialUi.IconButton,{style:styles.button.style,iconStyle:styles.button.iconStyle,iconClassName:"mdi mdi-pencil",onClick:onEditAction,tooltip:editTooltip,tooltipPosition:"bottom-left"}),onDeleteAction&&_react2.default.createElement(_materialUi.IconButton,{style:styles.button.style,iconStyle:styles.button.iconStyle,iconClassName:"mdi mdi-delete",onClick:onDeleteAction,tooltip:deleteTooltip,tooltipPosition:"bottom-left"}),otherActions,moreMenuItems&&moreMenuItems.length>0&&_react2.default.createElement(_materialUi.IconMenu,{anchorOrigin:{vertical:"top",horizontal:headerSmall?"right":"left"},targetOrigin:{vertical:"top",horizontal:headerSmall?"right":"left"},iconButtonElement:_react2.default.createElement(_materialUi.IconButton,{style:styles.button.style,iconStyle:styles.button.iconStyle,iconClassName:"mdi mdi-dots-vertical"})},moreMenuItems),onDismissAction&&_react2.default.createElement(_materialUi.IconButton,{style:styles.button.style,iconStyle:styles.button.iconStyle,iconClassName:"mdi mdi-close",onClick:onDismissAction})),!headerSmall&&_react2.default.createElement("div",{style:{paddingLeft:onEditAction?globalStyles.globalLeftMargin:20,fontSize:20}},title)),_react2.default.createElement("div",{style:{paddingTop:12,paddingBottom:8}},children))},GenericCard}(_react2.default.Component);exports.GenericCard=GenericCard=_materialUiStyles.muiThemeable()(GenericCard),exports.GenericCard=GenericCard,exports.GenericLine=GenericLine},{"material-ui":"material-ui","material-ui/styles":"material-ui/styles",pydio:"pydio",react:"react"}],15:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),LabelWithTip=function(_React$Component){_inherits(LabelWithTip,_React$Component);function LabelWithTip(){_classCallCheck(this,LabelWithTip),_React$Component.apply(this,arguments)}return LabelWithTip.prototype.show=function(){this.setState({show:!0})},LabelWithTip.prototype.hide=function(){this.setState({show:!1})},LabelWithTip.prototype.render=function(){if(this.props.tooltip){var tooltipStyle={};this.props.label||this.props.labelElement?this.state.show&&(tooltipStyle={bottom:-10,top:"inherit"}):tooltipStyle={position:"relative"};var label=void 0;this.props.label?label=_react2.default.createElement("span",{className:"ellipsis-label"},this.props.label):this.props.labelElement&&(label=this.props.labelElement);var style=this.props.style||{position:"relative"};return _react2.default.createElement("span",{onMouseEnter:this.show.bind(this),onMouseLeave:this.hide.bind(this),style:style,className:this.props.className},label,this.props.children,_react2.default.createElement("div",{label:this.props.tooltip,style:_extends({},tooltipStyle,{display:this.state.show?"block":"none"}),className:this.props.tooltipClassName}))}return this.props.label?_react2.default.createElement("span",null,this.props.label):this.props.labelElement?this.props.labelElement:_react2.default.createElement("span",null,this.props.children)},LabelWithTip}(_react2.default.Component);exports.default=LabelWithTip,module.exports=exports.default},{react:"react"}],16:[function(require,module,exports){"use strict";exports.__esModule=!0;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_materialUi=require("material-ui"),_GenericCard=require("./GenericCard"),_pydioUtilPath=require("pydio/util/path"),_pydioUtilPath2=_interopRequireDefault(_pydioUtilPath),QuotaUsageLine=function(_React$Component){_inherits(QuotaUsageLine,_React$Component);function QuotaUsageLine(){_classCallCheck(this,QuotaUsageLine),_React$Component.apply(this,arguments)}return QuotaUsageLine.prototype.render=function(){var node=this.props.node,usage=parseInt(node.getMetadata().get("ws_quota_usage")),quota=parseInt(node.getMetadata().get("ws_quota"));usage=Math.min(usage,quota);var percent=Math.round(usage/quota*100),color="#4caf50";percent>90?color="#e53935":percent>60&&(color="#ff9800");var label=_pydio2.default.getMessages()["workspace.quota-usage"]+" ("+_pydioUtilPath2.default.roundFileSize(quota)+")",data=_react2.default.createElement("div",{style:{borderRadius:4,display:"flex",marginRight:25,alignItems:"center",marginTop:5,backgroundColor:"#f5f5f5",padding:"7px 8px"}},_react2.default.createElement("div",{style:{flex:1,paddingRight:12}},_react2.default.createElement(_materialUi.LinearProgress,{mode:"determinate",min:0,max:quota,value:usage,color:color})),_react2.default.createElement("div",{style:{color:"#bdbdbd",fontWeight:500,fontSize:18}},percent,"%"));return _react2.default.createElement(_GenericCard.GenericLine,{iconClassName:"mdi mdi-gauge",legend:label,data:data,iconStyle:{marginTop:30}})},QuotaUsageLine}(_react2.default.Component);exports.default=QuotaUsageLine,module.exports=exports.default},{"./GenericCard":14,"material-ui":"material-ui",pydio:"pydio","pydio/util/path":"pydio/util/path",react:"react"}],17:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_materialUi=require("material-ui"),SimpleFigureBadge=function(_React$Component){_inherits(SimpleFigureBadge,_React$Component);function SimpleFigureBadge(props){_classCallCheck(this,SimpleFigureBadge),_React$Component.call(this,_extends({colorIndicator:""},props))}return SimpleFigureBadge.prototype.render=function(){return _react2.default.createElement(_materialUi.Paper,{style:{display:"inline-block",marginLeft:16}},_react2.default.createElement("div",{className:"figure-badge",style:this.props.colorIndicator?{borderLeftColor:this.props.colorIndicator}:{}},_react2.default.createElement("div",{className:"figure"},this.props.figure),_react2.default.createElement("div",{className:"legend"},this.props.legend)))},SimpleFigureBadge}(_react2.default.Component);exports.default=SimpleFigureBadge,module.exports=exports.default},{"material-ui":"material-ui",react:"react"}],18:[function(require,module,exports){"use strict";exports.__esModule=!0;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _listSortableList=require("./list/SortableList"),_listSortableList2=_interopRequireDefault(_listSortableList),_listSimpleList=require("./list/SimpleList"),_listSimpleList2=_interopRequireDefault(_listSimpleList),_listNodeListCustomProvider=require("./list/NodeListCustomProvider"),_listNodeListCustomProvider2=_interopRequireDefault(_listNodeListCustomProvider),_listListEntry=require("./list/ListEntry"),_listListPaginator=require("./list/ListPaginator"),_listListPaginator2=_interopRequireDefault(_listListPaginator),_listMaterialTable=require("./list/MaterialTable"),_listMaterialTable2=_interopRequireDefault(_listMaterialTable),_viewsTreeView=require("./views/TreeView"),_elementsLabelWithTip=require("./elements/LabelWithTip"),_elementsLabelWithTip2=_interopRequireDefault(_elementsLabelWithTip),_elementsSimpleFigureBadge=require("./elements/SimpleFigureBadge"),_elementsSimpleFigureBadge2=_interopRequireDefault(_elementsSimpleFigureBadge),_elementsClipboardTextField=require("./elements/ClipboardTextField"),_elementsClipboardTextField2=_interopRequireDefault(_elementsClipboardTextField),_elementsGenericCard=require("./elements/GenericCard"),_elementsQuotaUsageLine=require("./elements/QuotaUsageLine"),_elementsQuotaUsageLine2=_interopRequireDefault(_elementsQuotaUsageLine),_viewsEmptyStateView=require("./views/EmptyStateView"),_viewsEmptyStateView2=_interopRequireDefault(_viewsEmptyStateView),_viewsModalAppBar=require("./views/ModalAppBar"),_viewsModalAppBar2=_interopRequireDefault(_viewsModalAppBar),_editorReactEditorOpener=require("./editor/ReactEditorOpener"),_editorReactEditorOpener2=_interopRequireDefault(_editorReactEditorOpener),_editorPaperEditor=require("./editor/PaperEditor"),_dynamicGridDynamicGrid=require("./dynamic-grid/DynamicGrid"),_dynamicGridDynamicGrid2=_interopRequireDefault(_dynamicGridDynamicGrid),_dynamicGridStore=require("./dynamic-grid/Store"),_dynamicGridStore2=_interopRequireDefault(_dynamicGridStore),_dynamicGridGridItemMixin=require("./dynamic-grid/GridItemMixin"),_dynamicGridGridItemMixin2=_interopRequireDefault(_dynamicGridGridItemMixin),_dynamicGridAsGridItem=require("./dynamic-grid/asGridItem"),_dynamicGridAsGridItem2=_interopRequireDefault(_dynamicGridAsGridItem),_utilDND=require("./util/DND"),_usersAvatarUserAvatar=require("./users/avatar/UserAvatar"),_usersAvatarUserAvatar2=_interopRequireDefault(_usersAvatarUserAvatar),_usersUsersCompleter=require("./users/UsersCompleter"),_usersUsersCompleter2=_interopRequireDefault(_usersUsersCompleter),_usersTeamCreationForm=require("./users/TeamCreationForm"),_usersTeamCreationForm2=_interopRequireDefault(_usersTeamCreationForm),_menuButtonMenu=require("./menu/ButtonMenu"),_menuButtonMenu2=_interopRequireDefault(_menuButtonMenu),_menuContextMenu=require("./menu/ContextMenu"),_menuContextMenu2=_interopRequireDefault(_menuContextMenu),_menuIconButtonMenu=require("./menu/IconButtonMenu"),_menuIconButtonMenu2=_interopRequireDefault(_menuIconButtonMenu),_menuToolbar=require("./menu/Toolbar"),_menuToolbar2=_interopRequireDefault(_menuToolbar),_menuMenuItemsConsumer=require("./menu/MenuItemsConsumer"),_menuMenuItemsConsumer2=_interopRequireDefault(_menuMenuItemsConsumer),_menuUtils=require("./menu/Utils"),_menuUtils2=_interopRequireDefault(_menuUtils),_usersAddressbookAddressBook=require("./users/addressbook/AddressBook"),_usersAddressbookAddressBook2=_interopRequireDefault(_usersAddressbookAddressBook),_usersAddressbookListStylesCompact=require("./users/addressbook/ListStylesCompact"),_usersAddressbookListStylesCompact2=_interopRequireDefault(_usersAddressbookListStylesCompact),_chatChatClient=require("./chat/ChatClient"),_chatChatClient2=_interopRequireDefault(_chatChatClient),_chatChat=require("./chat/Chat"),_chatChat2=_interopRequireDefault(_chatChat),_chatChatIcon=require("./chat/ChatIcon"),_chatChatIcon2=_interopRequireDefault(_chatChatIcon),_policiesResourcePoliciesPanel=require("./policies/ResourcePoliciesPanel"),_policiesResourcePoliciesPanel2=_interopRequireDefault(_policiesResourcePoliciesPanel),_usersAvatarCellActionsRenderer=require("./users/avatar/CellActionsRenderer"),_usersAvatarCellActionsRenderer2=_interopRequireDefault(_usersAvatarCellActionsRenderer),_stepperPanelBigButtons=require("./stepper/PanelBigButtons"),_stepperPanelBigButtons2=_interopRequireDefault(_stepperPanelBigButtons),_stepperDialog=require("./stepper/Dialog"),_stepperDialog2=_interopRequireDefault(_stepperDialog),PydioComponents={SortableList:_listSortableList2.default,SimpleList:_listSimpleList2.default,NodeListCustomProvider:_listNodeListCustomProvider2.default,ListEntry:_listListEntry.ListEntry,ListPaginator:_listListPaginator2.default,MaterialTable:_listMaterialTable2.default,TreeView:_viewsTreeView.TreeView,DNDTreeView:_viewsTreeView.DNDTreeView,FoldersTree:_viewsTreeView.FoldersTree,ClipboardTextField:_elementsClipboardTextField2.default,LabelWithTip:_elementsLabelWithTip2.default,EmptyStateView:_viewsEmptyStateView2.default,SimpleFigureBadge:_elementsSimpleFigureBadge2.default,ModalAppBar:_viewsModalAppBar2.default,GenericCard:_elementsGenericCard.GenericCard,GenericLine:_elementsGenericCard.GenericLine,QuotaUsageLine:_elementsQuotaUsageLine2.default,ReactEditorOpener:_editorReactEditorOpener2.default,PaperEditorLayout:_editorPaperEditor.PaperEditorLayout,PaperEditorNavEntry:_editorPaperEditor.PaperEditorNavEntry,PaperEditorNavHeader:_editorPaperEditor.PaperEditorNavHeader,DynamicGrid:_dynamicGridDynamicGrid2.default,DynamicGridItemMixin:_dynamicGridGridItemMixin2.default,asGridItem:_dynamicGridAsGridItem2.default,DynamicGridStore:_dynamicGridStore2.default,DND:{Types:_utilDND.Types,collect:_utilDND.collect,collectDrop:_utilDND.collectDrop,nodeDragSource:_utilDND.nodeDragSource,nodeDropTarget:_utilDND.nodeDropTarget,DNDActionParameter:_utilDND.DNDActionParameter},DNDActionParameter:_utilDND.DNDActionParameter,UserAvatar:_usersAvatarUserAvatar2.default,UsersCompleter:_usersUsersCompleter2.default,TeamCreationForm:_usersTeamCreationForm2.default,AddressBook:_usersAddressbookAddressBook2.default,ListStylesCompact:_usersAddressbookListStylesCompact2.default,ContextMenu:_menuContextMenu2.default,Toolbar:_menuToolbar2.default,ButtonMenu:_menuButtonMenu2.default,IconButtonMenu:_menuIconButtonMenu2.default,MenuItemsConsumer:_menuMenuItemsConsumer2.default,MenuUtils:_menuUtils2.default,Chat:_chatChat2.default,ChatIcon:_chatChatIcon2.default,ChatClient:_chatChatClient2.default,ResourcePoliciesPanel:_policiesResourcePoliciesPanel2.default,CellActionsRenderer:_usersAvatarCellActionsRenderer2.default,Stepper:{PanelBigButtons:_stepperPanelBigButtons2.default,Dialog:_stepperDialog2.default}};exports.default=PydioComponents,module.exports=exports.default},{"./chat/Chat":1,"./chat/ChatClient":2,"./chat/ChatIcon":3,"./dynamic-grid/DynamicGrid":6,"./dynamic-grid/GridItemMixin":8,"./dynamic-grid/Store":9,"./dynamic-grid/asGridItem":10,"./editor/PaperEditor":11,"./editor/ReactEditorOpener":12,"./elements/ClipboardTextField":13,"./elements/GenericCard":14,"./elements/LabelWithTip":15,"./elements/QuotaUsageLine":16,"./elements/SimpleFigureBadge":17,"./list/ListEntry":21,"./list/ListPaginator":22,"./list/MaterialTable":23,"./list/NodeListCustomProvider":24,"./list/SimpleList":26,"./list/SortableList":28,"./menu/ButtonMenu":33,"./menu/ContextMenu":34,"./menu/IconButtonMenu":35,"./menu/MenuItemsConsumer":37,"./menu/Toolbar":39,"./menu/Utils":40,"./policies/ResourcePoliciesPanel":41,"./stepper/Dialog":42,"./stepper/PanelBigButtons":43,"./users/TeamCreationForm":44,"./users/UsersCompleter":46,"./users/addressbook/AddressBook":47,"./users/addressbook/ListStylesCompact":49,"./users/avatar/CellActionsRenderer":59,"./users/avatar/UserAvatar":61,"./util/DND":62,"./views/EmptyStateView":63,"./views/ModalAppBar":64,"./views/TreeView":66}],19:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_pydioModelNode=require("pydio/model/node"),_pydioModelNode2=_interopRequireDefault(_pydioModelNode),_InlineEditor=require("./InlineEditor"),_InlineEditor2=_interopRequireDefault(_InlineEditor),_ListEntry=require("./ListEntry"),_materialUi=require("material-ui"),_withNodeListenerEntry=require("./withNodeListenerEntry"),_withNodeListenerEntry2=_interopRequireDefault(_withNodeListenerEntry),ConfigurableListEntry=function(_React$Component){_inherits(ConfigurableListEntry,_React$Component);function ConfigurableListEntry(){_classCallCheck(this,ConfigurableListEntry),_React$Component.apply(this,arguments)}return ConfigurableListEntry.prototype.render=function(){var _props=this.props,secondLine=_props.secondLine,thirdLine=_props.thirdLine,_props$style=_props.style,style=void 0===_props$style?{}:_props$style,actions=_props.actions,_props2=this.props,renderIcon=_props2.renderIcon,node=_props2.node,renderFirstLine=_props2.renderFirstLine,renderSecondLine=_props2.renderSecondLine,renderThirdLine=_props2.renderThirdLine,renderActions=_props2.renderActions,icon=void 0,firstLine=void 0;if(renderIcon)icon=renderIcon(node,this.props);else{var iconClass=node.getMetadata().get("icon_class")?node.getMetadata().get("icon_class"):node.isLeaf()?"icon-file-alt":"icon-folder-close";icon=_react2.default.createElement(_materialUi.FontIcon,{className:iconClass})}return firstLine=renderFirstLine?renderFirstLine(this.props.node):node.getLabel(),this.props.inlineEdition&&(firstLine=_react2.default.createElement("span",null,_react2.default.createElement(_InlineEditor2.default,{node:this.props.node,onClose:this.props.inlineEditionDismiss,callback:this.props.inlineEditionCallback}),firstLine),style.position="relative"),renderSecondLine&&(secondLine=renderSecondLine(node)),renderThirdLine&&(thirdLine=renderThirdLine(node)),renderActions&&(actions=renderActions(node)),_react2.default.createElement(_ListEntry.DragDropListEntry,_extends({},this.props,{iconCell:icon,firstLine:firstLine,secondLine:secondLine,thirdLine:thirdLine,actions:actions,style:style}))},ConfigurableListEntry}(_react2.default.Component);ConfigurableListEntry.propTypes={node:_propTypes2.default.instanceOf(_pydioModelNode2.default),renderIcon:_propTypes2.default.func,renderFirstLine:_propTypes2.default.func,renderSecondLine:_propTypes2.default.func,renderThirdLine:_propTypes2.default.func,renderActions:_propTypes2.default.func,style:_propTypes2.default.object},ConfigurableListEntry=_withNodeListenerEntry2.default(ConfigurableListEntry),exports.default=ConfigurableListEntry,module.exports=exports.default},{"./InlineEditor":20,"./ListEntry":21,"./withNodeListenerEntry":31,"material-ui":"material-ui","prop-types":"prop-types","pydio/model/node":"pydio/model/node",react:"react"}],20:[function(require,module,exports){"use strict";exports.__esModule=!0;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_pydioUtilDom=require("pydio/util/dom"),_pydioUtilDom2=_interopRequireDefault(_pydioUtilDom),_react=require("react"),_react2=_interopRequireDefault(_react),_Pydio$requireLib=_pydio2.default.requireLib("boot"),PydioContextConsumer=_Pydio$requireLib.PydioContextConsumer,_require=require("material-ui"),Paper=_require.Paper,FlatButton=_require.FlatButton,_Pydio$requireLib2=_pydio2.default.requireLib("hoc"),ModernTextField=_Pydio$requireLib2.ModernTextField,InlineEditor=function(_React$Component){_inherits(InlineEditor,_React$Component);function InlineEditor(){_classCallCheck(this,InlineEditor),_React$Component.apply(this,arguments)}return InlineEditor.prototype.submit=function(){var value=void 0;this.state&&this.state.value&&(value=this.state.value);var messages=_pydio2.default.getMessages();value&&value!==this.props.node.getLabel()?value&&value.indexOf("/")>-1?this.setState({errorString:messages["filename.forbidden.slash"]}):(this.props.callback(value),this.props.onClose()):this.setState({errorString:messages["rename.newvalue.error.similar"]})},InlineEditor.prototype.componentDidMount=function(){this.refs.text&&(_pydioUtilDom2.default.selectBaseFileName(this.refs.text.getInput()),this.refs.text.focus())},InlineEditor.prototype.catchClicks=function(e){e.stopPropagation()},InlineEditor.prototype.onKeyDown=function(e){e.stopPropagation(),"Enter"===e.key?this.submit():this.setState({errorString:""})},InlineEditor.prototype.render=function(){var _this=this,messages=_pydio2.default.getMessages();return _react2.default.createElement(Paper,{className:"inline-editor"+(this.props.detached?" detached":""),style:{padding:8},zDepth:2},_react2.default.createElement(ModernTextField,{ref:"text",defaultValue:this.props.node.getLabel(),onChange:function(e,value){_this.setState({value:value})},onClick:this.catch,onDoubleClick:function(e){return _this.catchClicks(e)},tabIndex:"0",onKeyDown:function(e){return _this.onKeyDown(e)},errorText:this.state?this.state.errorString:null}),_react2.default.createElement("div",{style:{textAlign:"right",paddingTop:8}},_react2.default.createElement(FlatButton,{label:messages[54],onClick:this.props.onClose}),_react2.default.createElement(FlatButton,{label:messages[48],onClick:function(){return _this.submit()}})))},InlineEditor}(_react2.default.Component);exports.default=InlineEditor=PydioContextConsumer(InlineEditor),exports.default=InlineEditor,module.exports=exports.default},{"material-ui":"material-ui",pydio:"pydio","pydio/util/dom":"pydio/util/dom",react:"react"}],21:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _reactDom=require("react-dom"),_reactDom2=_interopRequireDefault(_reactDom),_utilDND=require("../util/DND"),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_reactDnd=require("react-dnd"),_materialUi=require("material-ui"),_materialUiStyles=require("material-ui/styles"),_color=require("color"),_color2=_interopRequireDefault(_color),ListEntry=function(_React$Component){_inherits(ListEntry,_React$Component);function ListEntry(){_classCallCheck(this,ListEntry),_React$Component.apply(this,arguments)}return ListEntry.prototype.onClick=function(event){if(this.props.showSelector){if(this.props.selectorDisabled)return;this.props.onSelect(this.props.node,event),event.stopPropagation(),event.preventDefault()}else this.props.onClick&&this.props.onClick(this.props.node,event)},ListEntry.prototype.onDoubleClick=function(event){this.props.onDoubleClick&&this.props.onDoubleClick(this.props.node,event)},ListEntry.prototype.render=function(){var _this=this,selector=void 0,icon=void 0,_props=this.props,node=_props.node,showSelector=_props.showSelector,selected=_props.selected,selectorDisabled=_props.selectorDisabled,firstLine=_props.firstLine,secondLine=_props.secondLine,thirdLine=_props.thirdLine,style=_props.style,actions=_props.actions,iconCell=_props.iconCell,mainIcon=_props.mainIcon,className=_props.className,canDrop=_props.canDrop,isOver=_props.isOver,connectDragSource=_props.connectDragSource,connectDropTarget=_props.connectDropTarget,mainClasses=["material-list-entry","material-list-entry-"+(thirdLine?3:secondLine?2:1)+"-lines"];if(className&&mainClasses.push(className),showSelector&&(selector=React.createElement("div",{className:"material-list-selector"},React.createElement(_materialUi.Checkbox,{checked:selected,ref:"selector",disabled:selectorDisabled}))),iconCell)icon=this.props.iconCell;else if(this.props.mainIcon){var _style={fontSize:18,color:"#FFF",display:"inline-block",margin:16,backgroundColor:"rgb(189, 189, 189)",padding:"7px 3px",width:33,height:33,textAlign:"center"};icon=React.createElement(_materialUi.FontIcon,{className:"mui-font-icon "+this.props.mainIcon,style:_style})}canDrop&&isOver&&mainClasses.push("droppable-active"),node&&(mainClasses.push("listentry"+node.getPath().replace(/\//g,"_")),mainClasses.push("ajxp_node_"+(node.isLeaf()?"leaf":"collection")),node.getAjxpMime()&&mainClasses.push("ajxp_mime_"+node.getAjxpMime()));var additionalStyle={};if(this.state&&this.state.hover&&!this.props.noHover&&(additionalStyle=_extends({},additionalStyle,{backgroundColor:"rgba(0,0,0,0.05)",borderBottom:"1px solid transparent"})),selected){var selectionColor=this.props.muiTheme.palette.accent2Color,selectionColorDark=_color2.default(selectionColor).dark();additionalStyle=_extends({},additionalStyle,{backgroundColor:selectionColor,color:selectionColorDark?"white":"rgba(0,0,0,.87)"}),mainClasses.push("selected"),mainClasses.push("selected-"+(selectionColorDark?"dark":"light"))}return React.createElement(ContextMenuWrapper,_extends({},this.props,{ref:function(instance){var node=_reactDom2.default.findDOMNode(instance);"function"==typeof connectDropTarget&&connectDropTarget(node),"function"==typeof connectDragSource&&connectDragSource(node)},onClick:this.onClick.bind(this),onDoubleClick:showSelector?null:this.onDoubleClick.bind(this),className:mainClasses.join(" "),onMouseOver:function(){_this.setState({hover:!0})},onMouseOut:function(){_this.setState({hover:!1})},style:_extends({},style,additionalStyle)}),selector,React.createElement("div",{className:"material-list-icon"+(mainIcon||iconCell?"":" material-list-icon-none")},icon),React.createElement("div",{className:"material-list-text"},React.createElement("div",{key:"line-1",className:"material-list-line-1"},firstLine),React.createElement("div",{key:"line-2",className:"material-list-line-2"},secondLine),React.createElement("div",{key:"line-3",className:"material-list-line-3"},thirdLine)),React.createElement("div",{className:"material-list-actions"},actions))},ListEntry}(React.Component),ContextMenuWrapper=function(props){return React.createElement("div",props)};ContextMenuWrapper=PydioHOCs.withContextMenu(ContextMenuWrapper),ListEntry.propTypes={showSelector:_propTypes2.default.bool,selected:_propTypes2.default.bool,selectorDisabled:_propTypes2.default.bool,onSelect:_propTypes2.default.func,onClick:_propTypes2.default.func,iconCell:_propTypes2.default.element,mainIcon:_propTypes2.default.string,firstLine:_propTypes2.default.node,secondLine:_propTypes2.default.node,thirdLine:_propTypes2.default.node,actions:_propTypes2.default.element,activeDroppable:_propTypes2.default.bool,className:_propTypes2.default.string,style:_propTypes2.default.object,noHover:_propTypes2.default.bool},exports.ListEntry=ListEntry=_materialUiStyles.muiThemeable()(ListEntry);var DragDropListEntry=_reactDnd.flow(_reactDnd.DragSource(_utilDND.Types.NODE_PROVIDER,_utilDND.nodeDragSource,_utilDND.collect),_reactDnd.DropTarget(_utilDND.Types.NODE_PROVIDER,_utilDND.nodeDropTarget,_utilDND.collectDrop))(ListEntry);exports.DragDropListEntry=DragDropListEntry,exports.ListEntry=ListEntry},{"../util/DND":62,color:"color","material-ui":"material-ui","material-ui/styles":"material-ui/styles","prop-types":"prop-types","react-dnd":"react-dnd","react-dom":"react-dom"}],22:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){
for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_materialUi=require("material-ui"),ListPaginator=function(_React$Component){_inherits(ListPaginator,_React$Component);function ListPaginator(props){_classCallCheck(this,ListPaginator),_React$Component.call(this,props),this.state={node:this.props.node}}return ListPaginator.prototype.componentDidMount=function(){var _this=this;this.props.node||function(){var dm=_this.props.dataModel;_this._dmObserver=function(){_this.setState({node:dm.getContextNode()})},dm.observe("context_changed",_this._dmObserver),_this.setState({node:dm.getContextNode()})}()},ListPaginator.prototype.componentWillUnmount=function(){this._dmObserver&&this.props.dataModel.stopObserving("context_changed",this._dmObserver)},ListPaginator.prototype.changePage=function(event){this.state.node.getMetadata().get("paginationData").set("new_page",event.currentTarget.getAttribute("data-page")),this.props.dataModel.requireContextChange(this.state.node)},ListPaginator.prototype.onMenuChange=function(event,index,value){this.state.node.getMetadata().get("paginationData").set("new_page",value),this.props.dataModel.requireContextChange(this.state.node)},ListPaginator.prototype.render=function(){var _this2=this,node=this.state.node,_props=this.props,toolbarDisplay=_props.toolbarDisplay,toolbarColor=_props.toolbarColor,smallDisplay=_props.smallDisplay,style=_props.style,id=_props.id;if(!node||!node.getMetadata().get("paginationData"))return null;for(var pData=node.getMetadata().get("paginationData"),current=parseInt(pData.get("current")),total=parseInt(pData.get("total")),pages=[],next=void 0,previous=void 0,pageWord=_pydio2.default.getMessages()[331],i=1;i<=total;i++)pages.push(_react2.default.createElement(_materialUi.MenuItem,{value:i,primaryText:pageWord+" "+i+(i===current?" / "+total:"")}));if(pages.length<=1)return null;var whiteStyle=void 0,smallButtonsLabel=void 0,smallButtonsIcStyle=void 0;return toolbarDisplay&&(whiteStyle={color:toolbarColor||"white"},smallDisplay&&(smallButtonsLabel={fontSize:13},smallButtonsIcStyle={fontSize:20})),previous=_react2.default.createElement(_materialUi.IconButton,{onClick:function(){_this2.onMenuChange(null,0,current-1)},iconClassName:"mdi mdi-chevron-left",disabled:1===current,iconStyle:_extends({},whiteStyle,smallButtonsIcStyle),style:smallDisplay?{marginRight:-20,width:40,height:40}:null}),next=_react2.default.createElement(_materialUi.IconButton,{onClick:function(){_this2.onMenuChange(null,0,current+1)},iconClassName:"mdi mdi-chevron-right",disabled:current===total,style:smallDisplay?{marginLeft:-40,width:40,height:40}:{marginLeft:-20},iconStyle:_extends({},whiteStyle,smallButtonsIcStyle)}),_react2.default.createElement("div",{id:id,style:_extends({display:"flex",alignItems:"center"},style)},previous,_react2.default.createElement(_materialUi.DropDownMenu,{style:{width:150,marginTop:-6},onChange:this.onMenuChange.bind(this),value:current,underlineStyle:{display:"none"},labelStyle:_extends({},whiteStyle,smallButtonsLabel)},pages),next)},ListPaginator}(_react2.default.Component);exports.default=ListPaginator,module.exports=exports.default},{"material-ui":"material-ui",pydio:"pydio",react:"react"}],23:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _react=require("react"),_react2=_interopRequireDefault(_react),_materialUi=require("material-ui"),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_Pydio$requireLib=_pydio2.default.requireLib("boot"),moment=_Pydio$requireLib.moment,_Pydio$requireLib2=_pydio2.default.requireLib("hoc"),ModernStyles=_Pydio$requireLib2.ModernStyles,Sorter=function(){function Sorter(state,onSort){var defaultCol=arguments.length<=2||void 0===arguments[2]?null:arguments[2],defaultDir=arguments.length<=3||void 0===arguments[3]?null:arguments[3];_classCallCheck(this,Sorter),this.state=_extends({},state),!state.sortCol&&defaultCol&&(this.state.sortCol=defaultCol,this.state.sortDir=defaultDir||"asc"),this.onSort=onSort}return Sorter.prototype.renderHeader=function(name,label){var _this=this,_state=this.state,sortCol=_state.sortCol,sortDir=_state.sortDir,hStyle={cursor:"pointer",position:"relative"},icStyle={left:-17,position:"absolute"};if(sortCol!==name||""===sortDir)return _react2.default.createElement("span",{onClick:function(){_this.onSort(name,"asc")},style:hStyle},label);var header=label;return"asc"===sortDir?header=_react2.default.createElement("span",{onClick:function(){_this.onSort(name,"desc")},style:hStyle},label," ",_react2.default.createElement("span",{style:icStyle,className:"mdi mdi-arrow-up"})):"desc"===sortDir&&(header=_react2.default.createElement("span",{onClick:function(){_this.onSort(name,"")},style:hStyle},label," ",_react2.default.createElement("span",{style:icStyle,className:"mdi mdi-arrow-down"}))),header},Sorter.prototype.setData=function(columns,data){this.columns=columns,this.data=data},Sorter.prototype.sorted=function(){var _state2=this.state,sortCol=_state2.sortCol,sortDir=_state2.sortDir;if(!sortCol||!sortDir)return this.data;var data=[].concat(this.data),col=this.columns.filter(function(c){return c.name===sortCol})[0],sorter=col.sorter;return sorter?(data.sort(function(a,b){var cpa=void 0,cpb=void 0;return sorter.value?(cpa=sorter.value(a),cpb=sorter.value(b)):col.renderCell?(cpa=col.renderCell(a),cpb=col.renderCell(b)):(cpa=a[sortCol],cpb=b[sortCol]),"string"===sorter.type?(cpa||(cpa=""),cpb||(cpb=""),cpa=cpa.toLowerCase(),cpb=cpb.toLowerCase()):"number"===sorter.type&&(cpa=parseInt(cpa),cpb=parseInt(cpb)),"asc"===sortDir?cpa>cpb?1:cpa<cpb?-1:0:cpa<cpb?1:cpa>cpb?-1:0}),data):this.data},Sorter}(),MaterialTable=function(_React$Component){_inherits(MaterialTable,_React$Component);function MaterialTable(props){_classCallCheck(this,MaterialTable),_React$Component.call(this,props),this.state={}}return MaterialTable.prototype.onRowSelection=function(indexes){var _this2=this,_props=this.props,data=_props.data,onSelectRows=_props.onSelectRows;onSelectRows&&("none"===indexes?onSelectRows([]):"all"===indexes?onSelectRows(data):function(){var src=data,sorter=_this2.computeSorter();sorter&&(src=sorter.sorted());var pagination=_this2.computePagination();pagination.use&&(src=src.slice(pagination.sliceStart,pagination.sliceEnd));var selection=[];indexes.map(function(i){var expanded=src.slice(0,i).filter(function(d){return d.expandedRow}).length;expanded&&(i-=expanded),selection.push(src[i])}),onSelectRows(selection)}())},MaterialTable.prototype.loadStoredValue=function(){var _props2=this.props,storageKey=_props2.storageKey,columns=_props2.columns;if(!storageKey)return null;if(!localStorage.getItem(storageKey+".sort"))return null;try{var _ret2=function(){var _JSON$parse=JSON.parse(localStorage.getItem(storageKey+".sort")),col=_JSON$parse.col,dir=_JSON$parse.dir;return 0===columns.filter(function(c){return c.name===col}).length?{v:null}:-1===["asc","desc",""].indexOf(dir)?{v:null}:{v:{col:col,dir:dir}}}();if("object"==typeof _ret2)return _ret2.v}catch(e){return null}},MaterialTable.prototype.computeSorter=function(){var _this3=this,_props3=this.props,columns=_props3.columns,data=_props3.data,storageKey=_props3.storageKey,sorter=void 0,withSorter=columns.filter(function(c){return c.sorter});if(withSorter.length){var defaultSortColumn=withSorter[0].name,defaultSortDir=void 0,defaultSorter=withSorter.filter(function(c){return c.sorter.default}),storedValue=this.loadStoredValue();if(storedValue){var col=storedValue.col,dir=storedValue.dir;defaultSortColumn=col,defaultSortDir=dir}else defaultSorter.length&&(defaultSortColumn=defaultSorter[0].name,defaultSorter[0].sorter.defaultDir&&(defaultSortDir=defaultSorter[0].sorter.defaultDir));sorter=new Sorter(this.state,function(sortCol,sortDir){_this3.setState({sortCol:sortCol,sortDir:sortDir}),storageKey&&localStorage.setItem(storageKey+".sort",JSON.stringify({col:sortCol,dir:sortDir}))},defaultSortColumn,defaultSortDir),sorter.setData(columns,data)}return sorter},MaterialTable.prototype.computePagination=function(){var _props4=this.props,data=_props4.data,paginate=_props4.paginate,defaultPageSize=_props4.defaultPageSize,pagination=_props4.pagination;if(pagination)return _extends({},pagination,{use:!0});if(!paginate||!data||!data.length)return{use:!1};var pageSize=this.state.pageSize||defaultPageSize||paginate[0];if(data.length<=pageSize)return{use:!1};for(var _state$page=this.state.page,page=void 0===_state$page?1:_state$page,max=Math.ceil(data.length/pageSize),sliceStart=(page-1)*pageSize,sliceEnd=Math.min(page*pageSize,data.length),pages=[],i=1;i<=max;i++)pages.push(i);return{use:!0,sliceStart:sliceStart,sliceEnd:sliceEnd,pages:pages,page:page,pageSize:pageSize,pageSizes:paginate}},MaterialTable.prototype.renderPagination=function(pagination){var _this4=this,data=this.props.data,page=pagination.page,pageSize=pagination.pageSize,pages=pagination.pages,pageSizes=pagination.pageSizes,sliceStart=pagination.sliceStart,sliceEnd=pagination.sliceEnd,nextDisabled=pagination.nextDisabled,prevDisabled=pagination.prevDisabled,onPageNext=pagination.onPageNext,onPagePrev=pagination.onPagePrev,onPageSizeChange=pagination.onPageSizeChange;return _react2.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",color:"#757575"}},pageSizes.length>1&&_react2.default.createElement("div",{style:{paddingRight:10}},_pydio2.default.getMessages()["material.paginator.rows"]," :"),pageSizes.length>1&&_react2.default.createElement("div",{style:{width:90}},_react2.default.createElement(_materialUi.SelectField,_extends({},ModernStyles.selectField,{fullWidth:!0,value:pageSize,onChange:function(e,i,v){onPageSizeChange?onPageSizeChange(v):_this4.setState({page:1,pageSize:v})}}),pageSizes.map(function(ps){return _react2.default.createElement(_materialUi.MenuItem,{value:ps,primaryText:ps})}))),onPagePrev&&_react2.default.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-chevron-left",disabled:prevDisabled,onClick:function(){return onPagePrev()}}),!onPagePrev&&_react2.default.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-chevron-left",disabled:1===page,onClick:function(){return _this4.setState({page:page-1})}}),(sliceStart||sliceEnd)&&_react2.default.createElement("div",null,sliceStart+1,"-",sliceEnd," ",_pydio2.default.getMessages()["material.paginator.of"]," ",data.length),onPageNext&&_react2.default.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-chevron-right",disabled:nextDisabled,onClick:function(){return onPageNext()}}),!onPageNext&&_react2.default.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-chevron-right",disabled:page===pages.length,onClick:function(){return _this4.setState({page:page+1})}}))},MaterialTable.prototype.render=function(){var _props5=this.props,columns=_props5.columns,deselectOnClickAway=_props5.deselectOnClickAway,emptyStateString=_props5.emptyStateString,_props5$masterStyles=_props5.masterStyles,masterStyles=void 0===_props5$masterStyles?{}:_props5$masterStyles,emptyStateStyle=_props5.emptyStateStyle,onSelectRows=_props5.onSelectRows,computeRowStyle=_props5.computeRowStyle,_props6=this.props,actions=_props6.actions,hideHeaders=_props6.hideHeaders,_props7=this.props,data=_props7.data,showCheckboxes=_props7.showCheckboxes,actionsColor=masterStyles.actionsColor||"rgba(0,0,0,.33)",sorter=this.computeSorter();sorter&&(data=sorter.sorted());var pagination=this.computePagination(),paginator=void 0;pagination.use&&(data=data.slice(pagination.sliceStart,pagination.sliceEnd),paginator=this.renderPagination(pagination));var actionsColumn=void 0,actionsSpan=0;actions&&actions.length&&(actionsColumn=!0,actionsSpan=1);var rows=[];data.map(function(model){var rowStyle=void 0;if(computeRowStyle&&(rowStyle=computeRowStyle(model)),model.Subheader){var headerStyle=_extends({fontSize:12,color:"#616161",backgroundColor:"#FAFAFA",fontWeight:500},model.style);return void rows.push(_react2.default.createElement(_materialUi.TableRow,{className:"media-small-hide",style:_extends({},masterStyles.row)},_react2.default.createElement(_materialUi.TableRowColumn,{colSpan:columns.length+actionsSpan,style:headerStyle},model.Subheader)))}if(model.colSpan)return void rows.push(_react2.default.createElement(_materialUi.TableRow,{style:_extends({},model.rowStyle,masterStyles.row)},_react2.default.createElement(_materialUi.TableRowColumn,{colSpan:columns.length+actionsSpan,style:_extends({height:"auto",paddingLeft:0,paddingRight:0,backgroundColor:"transparent"},model.cellStyle)},model.element)));var mainRowStyle=_extends({},rowStyle,masterStyles.row);model.expandedRow&&(mainRowStyle=_extends({},mainRowStyle,masterStyles.expanderRow)),rows.push(_react2.default.createElement(_materialUi.TableRow,{selectable:void 0!==onSelectRows,style:mainRowStyle},columns.map(function(column){var value=model[column.name],tip=value;return column.useMoment&&value?(value=moment(new Date(1e3*parseInt(value))).fromNow(),tip=value):column.renderCell&&(value=column.renderCell(model))&&"object"==typeof value&&value.element&&value.text&&(tip=value.text,value=value.element),_react2.default.createElement(_materialUi.TableRowColumn,{style:column.style||{},title:"object"==typeof tip?null:tip,className:column.hideSmall?"media-small-hide":null},value)}),actionsColumn&&_react2.default.createElement(_materialUi.TableRowColumn,{style:{overflow:"visible",textOverflow:"none",width:48*actions.length+32}},actions.map(function(a){var disabled=!!a.disable&&a.disable(model);return _react2.default.createElement(_materialUi.IconButton,{style:{padding:14,opacity:disabled?.5:null},iconStyle:{fontSize:20,color:actionsColor},onClick:function(e){e.stopPropagation(),a.onClick(model)},iconClassName:a.iconClassName,tooltip:a.tooltip,disabled:disabled})})))),model.expandedRow&&rows.push(_react2.default.createElement(_materialUi.TableRow,{selectable:!1,style:_extends({},masterStyles.row,masterStyles.expandedRow)},_react2.default.createElement(_materialUi.TableRowColumn,{colSpan:columns.length+actionsSpan,style:_extends({height:"auto",paddingLeft:0,paddingRight:0,backgroundColor:"transparent"},model.cellStyle)},model.expandedRow)))});var headers=columns.map(function(column){var label=column.label;return sorter&&column.sorter&&(label=sorter.renderHeader(column.name,column.label)),_react2.default.createElement(_materialUi.TableHeaderColumn,{style:_extends({},column.headerStyle,{height:48,backgroundColor:"#F5F5F5",fontWeight:500},masterStyles.head),className:column.hideSmall?"media-small-hide":null},label)});return actionsColumn&&headers.push(_react2.default.createElement(_materialUi.TableHeaderColumn,{style:_extends({width:48*actions.length+32,height:48,backgroundColor:"#F5F5F5"},masterStyles.head)})),emptyStateString&&!rows.length&&(showCheckboxes=!1,rows=[_react2.default.createElement(_materialUi.TableRow,null,_react2.default.createElement(_materialUi.TableRowColumn,{colSpan:columns.length,style:emptyStateStyle},emptyStateString))]),(data.length&&data[0].Subheader||emptyStateString&&!rows.length)&&rows.unshift(_react2.default.createElement(_materialUi.TableRow,{style:_extends({borderBottom:"none",height:0},masterStyles.row)},columns.map(function(col){var s=col.style||{};return _react2.default.createElement(_materialUi.TableRowColumn,{style:_extends({},s,{height:0}),className:col.hideSmall?"media-small-hide":null})}))),_react2.default.createElement(_materialUi.Table,{onRowSelection:this.onRowSelection.bind(this),multiSelectable:showCheckboxes},!hideHeaders&&_react2.default.createElement(_materialUi.TableHeader,{displaySelectAll:showCheckboxes,adjustForCheckbox:showCheckboxes,enableSelectAll:showCheckboxes},_react2.default.createElement(_materialUi.TableRow,{style:masterStyles.row},headers)),_react2.default.createElement(_materialUi.TableBody,{deselectOnClickaway:deselectOnClickAway,displayRowCheckbox:showCheckboxes},rows),paginator&&_react2.default.createElement(_materialUi.TableFooter,null,_react2.default.createElement(_materialUi.TableRow,{style:{backgroundColor:"#fafafa"}},_react2.default.createElement(_materialUi.TableRowColumn,{colSpan:columns.length},paginator))))},MaterialTable}(_react2.default.Component);MaterialTable.PropTypes={data:_propTypes2.default.array,columns:_propTypes2.default.array,onSelectRows:_propTypes2.default.func,emptyStateString:_propTypes2.default.string},exports.default=MaterialTable,module.exports=exports.default},{"material-ui":"material-ui","prop-types":"prop-types",pydio:"pydio",react:"react"}],24:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_SimpleList=require("./SimpleList"),_SimpleList2=_interopRequireDefault(_SimpleList),NodeListCustomProvider=function(_React$Component){_inherits(NodeListCustomProvider,_React$Component),NodeListCustomProvider.prototype.reload=function(){this.refs.list&&this.isMounted()&&this.refs.list.reload()},NodeListCustomProvider.prototype.componentWillUnmount=function(){if(this._smObs&&(this.props.pydio.stopObserving("server_message",this._smObs),this.props.pydio.stopObserving("server_message:"+this.props.reloadOnServerMessage,this.reload)),this._selObserver){this.state.dataModel.stopObserving("selection_changed",this._selObserver)}},NodeListCustomProvider.prototype.componentWillReceiveProps=function(nextProps){if(this.props.nodeProviderProperties&&this.props.nodeProviderProperties!==nextProps.nodeProviderProperties){var _state=this.state,dataModel=_state.dataModel,node=_state.node,provider=new RemoteNodeProvider(nextProps.nodeProviderProperties);dataModel.setAjxpNodeProvider(provider),node.updateProvider(provider),this.setState({dataModel:dataModel,node:node})}else this.props.presetDataModel!==nextProps.presetDataModel&&this.setState({dataModel:nextProps.presetDataModel,node:nextProps.presetRootNode||nextProps.presetDataModel.getRootNode()})};function NodeListCustomProvider(props){var _this=this;_classCallCheck(this,NodeListCustomProvider),_React$Component.call(this,props);var dataModel=void 0;dataModel=this.props.presetDataModel?this.props.presetDataModel:PydioDataModel.RemoteDataModelFactory(this.props.nodeProviderProperties);var rootNode=this.props.presetRootNode||dataModel.getRootNode();this.props.nodeClicked&&(this.openEditor=function(node){return this.props.nodeClicked(node),!1}.bind(this),this._selObserver=function(event){var selectedNodes=event.memo.getSelectedNodes();selectedNodes.length&&(_this.props.nodeClicked(selectedNodes[0]),event.memo.setSelectedNodes([]))},dataModel.observe("selection_changed",this._selObserver)),this.props.reloadOnServerMessage&&this.props.pydio&&(this._smObs=function(event){XMLUtils.XPathSelectSingleNode(event,this.props.reloadOnServerMessage)&&this.reload()}.bind(this),this.props.pydio.observe("server_message",this._smObs),this.props.pydio.observe("server_message:"+this.props.reloadOnServerMessage,this.reload)),this.state={node:rootNode,dataModel:dataModel}}return NodeListCustomProvider.prototype.render=function(){return _react2.default.createElement("div",{className:this.props.heightAutoWithMax?"":"layout-fill vertical-layout",style:this.props.containerStyle},_react2.default.createElement(_SimpleList2.default,_extends({},this.props,{openEditor:this.openEditor,ref:"list",style:Object.assign({height:"100%"},this.props.style||{}),node:this.state.node,dataModel:this.state.dataModel,actionBarGroups:this.props.actionBarGroups,skipParentNavigation:!0,observeNodeReload:!0,hideToolbar:!0})))},NodeListCustomProvider}(_react2.default.Component);exports.default=NodeListCustomProvider,module.exports=exports.default},{"./SimpleList":26,react:"react"}],25:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default=PlaceHolders;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_react=require("react"),_react2=_interopRequireDefault(_react),_Pydio$requireLib=_pydio2.default.requireLib("hoc"),PlaceHolder=_Pydio$requireLib.PlaceHolder,PhRoundShape=_Pydio$requireLib.PhRoundShape,PhTextRow=_Pydio$requireLib.PhTextRow;function PlaceHolders(props){var displayMode=props.displayMode,elementHeight=props.elementHeight,tableKeys=props.tableKeys,customPH=void 0,multiplePH=[];if("grid"===displayMode){var tSize=Math.max(40,elementHeight);customPH=_react2.default.createElement("div",{style:{width:tSize,height:tSize,display:"flex",flexDirection:"column",alignItems:"center",margin:2}},_react2.default.createElement("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"}},_react2.default.createElement(PhRoundShape,{style:{width:40,height:40}})),_react2.default.createElement(PhTextRow,{style:{fontSize:20}}));for(var i=0;i<10;i++)multiplePH.push(customPH);multiplePH=_react2.default.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},multiplePH)}else if(tableKeys)!function(){var wPercent=100/Object.keys(tableKeys).length;customPH=_react2.default.createElement("div",{style:{width:"100%",display:"flex",alignItems:"baseline",height:50}},Object.keys(tableKeys).map(function(k){var w="ajxp_label"===k?250:wPercent+"%",f="ajxp_label"===k?16:null;return _react2.default.createElement("span",{style:{display:"inline-block",width:w,fontSize:f,paddingLeft:10,paddingRight:10}},_react2.default.createElement(PhTextRow,null))}));for(var i=0;i<5;i++)multiplePH.push(customPH)}();else{customPH=_react2.default.createElement("div",{style:{display:"flex",padding:"0 16px",alignItems:"center",height:elementHeight,borderBottom:"1px solid rgba(0,0,0,.03)"}},_react2.default.createElement(PhRoundShape,{style:{width:40,height:40,marginRight:20}}),_react2.default.createElement("div",{style:{flex:1}},_react2.default.createElement(PhTextRow,{style:{fontSize:16,width:"80%",marginTop:0}}),_react2.default.createElement(PhTextRow,{style:{fontSize:13,width:"70%"}})));for(var i=0;i<5;i++)multiplePH.push(customPH)}return _react2.default.createElement(PlaceHolder,{showLoadingAnimation:!0,customPlaceholder:multiplePH})}module.exports=exports.default},{pydio:"pydio",react:"react"}],26:[function(require,module,exports){(function(global){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=require("react"),_react2=_interopRequireDefault(_react),_createReactClass=require("create-react-class"),_createReactClass2=_interopRequireDefault(_createReactClass),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_reactInfinite=require("react-infinite"),_reactInfinite2=_interopRequireDefault(_reactInfinite),_reactScrollbar=require("react-scrollbar"),_reactScrollbar2=_interopRequireDefault(_reactScrollbar),_materialUi=require("material-ui"),_ListEntry=require("./ListEntry"),_TableListEntry=require("./TableListEntry"),_TableListEntry2=_interopRequireDefault(_TableListEntry),_TableListHeader=require("./TableListHeader"),_TableListHeader2=_interopRequireDefault(_TableListHeader),_ConfigurableListEntry=require("./ConfigurableListEntry"),_ConfigurableListEntry2=_interopRequireDefault(_ConfigurableListEntry),_SortColumns=require("./SortColumns"),_SortColumns2=_interopRequireDefault(_SortColumns),_ListPaginator=require("./ListPaginator"),_ListPaginator2=_interopRequireDefault(_ListPaginator),_viewsSimpleReactActionBar=require("../views/SimpleReactActionBar"),_viewsSimpleReactActionBar2=_interopRequireDefault(_viewsSimpleReactActionBar),_InlineEditor=require("./InlineEditor"),_InlineEditor2=_interopRequireDefault(_InlineEditor),_viewsEmptyStateView=require("../views/EmptyStateView"),_viewsEmptyStateView2=_interopRequireDefault(_viewsEmptyStateView),_PlaceHolders=require("./PlaceHolders"),_PlaceHolders2=_interopRequireDefault(_PlaceHolders),DOMUtils=require("pydio/util/dom"),PydioDataModel=require("pydio/model/data-model"),PeriodicalExecuter=require("pydio/util/periodical-executer"),SimpleList=_createReactClass2.default({displayName:"SimpleList",propTypes:{infiniteSliceCount:_propTypes2.default.number,filterNodes:_propTypes2.default.func,customToolbar:_propTypes2.default.object,tableKeys:_propTypes2.default.object,autoRefresh:_propTypes2.default.number,reloadAtCursor:_propTypes2.default.bool,clearSelectionOnReload:_propTypes2.default.bool,heightAutoWithMax:_propTypes2.default.number,containerHeight:_propTypes2.default.number,observeNodeReload:_propTypes2.default.bool,defaultGroupBy:_propTypes2.default.string,defaultGroupByLabel:_propTypes2.default.string,skipParentNavigation:_propTypes2.default.bool,skipInternalDataModel:_propTypes2.default.bool,delayInitialLoad:_propTypes2.default.number,entryEnableSelector:_propTypes2.default.func,renderCustomEntry:_propTypes2.default.func,entryRenderIcon:_propTypes2.default.func,entryRenderActions:_propTypes2.default.func,entryRenderFirstLine:_propTypes2.default.func,entryRenderSecondLine:_propTypes2.default.func,entryRenderThirdLine:_propTypes2.default.func,entryHandleClicks:_propTypes2.default.func,hideToolbar:_propTypes2.default.bool,computeActionsForNode:_propTypes2.default.bool,multipleActions:_propTypes2.default.array,openEditor:_propTypes2.default.func,openCollection:_propTypes2.default.func,elementStyle:_propTypes2.default.object,passScrollingStateToChildren:_propTypes2.default.bool,elementHeight:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.object]).isRequired},statics:{HEIGHT_ONE_LINE:50,HEIGHT_TWO_LINES:73,CLICK_TYPE_SIMPLE:"simple",CLICK_TYPE_DOUBLE:"double",PARENT_FOLDER_ICON:"mdi mdi-chevron-left"},getDefaultProps:function(){return{infiniteSliceCount:30,clearSelectionOnReload:!0}},getMessage:function(id){return _pydio2.default.getMessages()[id]||id},clickRow:function(gridRow,event){var node=void 0;if(node=gridRow.props?gridRow.props.data.node:gridRow,this.props.entryHandleClicks)return void this.props.entryHandleClicks(node,SimpleList.CLICK_TYPE_SIMPLE,event);if(node.isLeaf()&&this.props.openEditor){if(!1===this.props.openEditor(node))return;var uniqueSelection=new Map;uniqueSelection.set(node,!0),this.setState({selection:uniqueSelection},this.rebuildLoadedElements)}else node.isLeaf()||(this.props.openCollection?this.props.openCollection(node):this.props.dataModel.setSelectedNodes([node]))},doubleClickRow:function(gridRow,event){var node=void 0;node=gridRow.props?gridRow.props.data.node:gridRow,this.props.entryHandleClicks&&this.props.entryHandleClicks(node,SimpleList.CLICK_TYPE_DOUBLE,event)},onColumnSort:function(column){var stateSetCallback=arguments.length<=1||void 0===arguments[1]?null:arguments[1],pagination=this.props.node.getMetadata().get("paginationData");if(pagination&&pagination.get("total")>1&&pagination.get("remote_order")){var dir="asc";this.props.node.getMetadata().get("paginationData").get("currentOrderDir")&&(dir="asc"===this.props.node.getMetadata().get("paginationData").get("currentOrderDir")?"desc":"asc");var orderData=new Map;orderData.set("order_column",column.remoteSortAttribute?column.remoteSortAttribute:column.name),orderData.set("order_direction",dir),this.props.node.getMetadata().set("remote_order",orderData),this.props.dataModel.requireContextChange(this.props.node,!0)}else{var att=column.sortAttribute?column.sortAttribute:column.name,sortingInfo=void 0,_state$sortingInfo=this.state.sortingInfo,attribute=_state$sortingInfo.attribute,direction=_state$sortingInfo.direction;sortingInfo=attribute===att&&direction?"asc"===direction?{attribute:att,sortType:column.sortType,direction:"desc"}:this.props.defaultSortingInfo||{}:{attribute:att,sortType:column.sortType,direction:"asc"},this.setState({sortingInfo:sortingInfo},function(){this.rebuildLoadedElements(),stateSetCallback&&stateSetCallback()}.bind(this))}},computeSelectionFromCurrentPlusTargetNode:function(currentSelection,targetNode){var currentIndexStart=void 0,currentIndexEnd=void 0,nodeBefore=!1;if(!this.indexedElements)return[];for(var firstSelected=currentSelection[0],lastSelected=currentSelection[currentSelection.length-1],newSelection=[],i=0;i<this.indexedElements.length;i++){if(void 0!==currentIndexStart&&newSelection.push(this.indexedElements[i].node),this.indexedElements[i].node===targetNode){if(void 0!==currentIndexStart&&void 0===currentIndexEnd){currentIndexEnd=i;break}currentIndexStart=i,nodeBefore=!0,newSelection.push(this.indexedElements[i].node)}if(this.indexedElements[i].node===firstSelected&&void 0===currentIndexStart&&(currentIndexStart=i,newSelection.push(this.indexedElements[i].node)),this.indexedElements[i].node===lastSelected&&nodeBefore){currentIndexEnd=i;break}}return newSelection},onKeyDown:function(e){var currentIndexStart=void 0,currentIndexEnd=void 0,contextHolder=window.pydio.getContextHolder(),elementsPerLine=this.props.elementsPerLine||1,shiftKey=e.shiftKey,key=e.key;if(!contextHolder.isEmpty()&&this.indexedElements){var downKeys=["ArrowDown","ArrowRight","PageDown","End"],currentSelection=(shiftKey&&downKeys.indexOf(key),
contextHolder.getSelectedNodes()),firstSelected=currentSelection[0],lastSelected=currentSelection[currentSelection.length-1];if("Enter"===key)return void this.doubleClickRow(firstSelected);if("Delete"!==key||!global.pydio.Controller.fireActionByKey("key_delete")){for(var i=0;i<this.indexedElements.length;i++)if(this.indexedElements[i].node===firstSelected&&(currentIndexStart=i),this.indexedElements[i].node===lastSelected){currentIndexEnd=i;break}var selectionIndex=void 0,maxIndex=this.indexedElements.length-1,increment="PageDown"===key||"PageUp"===key?10:1;if("ArrowDown"===key||"PageDown"===key?selectionIndex=Math.min(currentIndexEnd+elementsPerLine*increment,maxIndex):"ArrowUp"===key||"PageUp"===key?selectionIndex=Math.max(currentIndexStart-elementsPerLine*increment,0):"Home"===key?selectionIndex=0:"End"===key&&(selectionIndex=maxIndex),elementsPerLine>1&&("ArrowRight"===key?selectionIndex=currentIndexEnd+1:"ArrowLeft"===key&&(selectionIndex=currentIndexStart-1)),shiftKey&&void 0!==selectionIndex){var min=Math.min(currentIndexStart,currentIndexEnd,selectionIndex),max=Math.max(currentIndexStart,currentIndexEnd,selectionIndex);if(min!==max){for(var selection=[],i=min;i<max+1;i++)this.indexedElements[i]&&selection.push(this.indexedElements[i].node);contextHolder.setSelectedNodes(selection)}}else this.indexedElements[selectionIndex]&&this.indexedElements[selectionIndex].node&&contextHolder.setSelectedNodes([this.indexedElements[selectionIndex].node])}}},getInitialState:function(){this.actionsCache={multiple:new Map},this.props.skipInternalDataModel?this.dm=this.props.dataModel:(this.dm=new PydioDataModel,this.dm.setRootNode(this.props.dataModel.getContextNode()),this.dm.setContextNode(this.props.dataModel.getContextNode()));var state={loaded:this.props.node.isLoaded(),loading:!this.props.node.isLoaded(),showSelector:!1,elements:this.props.node.isLoaded()?this.buildElements(0,this.props.infiniteSliceCount):[],containerHeight:this.props.containerHeight?this.props.containerHeight:this.props.heightAutoWithMax?0:500,sortingInfo:this.props.defaultSortingInfo||null};return this.props.elementHeight instanceof Object&&(state.elementHeight=this.computeElementHeightResponsive()),state.infiniteLoadBeginBottomOffset=200,state},componentWillReceiveProps:function(nextProps){var _this=this;this.indexedElements=null;var currentLength=Math.max(this.state.elements.length,nextProps.infiniteSliceCount);this.setState({loaded:nextProps.node.isLoaded(),loading:!nextProps.node.isLoaded(),showSelector:!1,elements:nextProps.node.isLoaded()?this.buildElements(0,currentLength,nextProps.node):[],infiniteLoadBeginBottomOffset:200,sortingInfo:this.state.sortingInfo||nextProps.defaultSortingInfo||null},function(){nextProps.node.isLoaded()&&_this.updateInfiniteContainerHeight()}),!nextProps.autoRefresh&&this.refreshInterval?(window.clearInterval(this.refreshInterval),this.refreshInterval=null):nextProps.autoRefresh&&!this.refreshInterval&&(this.refreshInterval=window.setInterval(this.reload,nextProps.autoRefresh)),this.patchInfiniteGrid(nextProps.elementsPerLine),this.props.node&&nextProps.node!==this.props.node&&this.observeNodeChildren(this.props.node,!0),this._manualScrollPe&&(this._manualScrollPe.stop(),this._manualScrollPe=null)},observeNodeChildren:function(node){var stop=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];stop&&!this._childrenObserver||(this._childrenObserver||(this._childrenObserver=function(){this.indexedElements=null,this.rebuildLoadedElements()}.bind(this)),this._childrenActionsObserver||(this._childrenActionsObserver=function(eventMemo){"prompt-rename"===eventMemo.type&&this.setState({inlineEditionForNode:eventMemo.child,inlineEditionCallback:eventMemo.callback})}.bind(this)),stop?(node.stopObserving("child_added",this._childrenObserver),node.stopObserving("child_removed",this._childrenObserver),node.stopObserving("child_node_action",this._childrenActionsObserver)):(node.observe("child_added",this._childrenObserver),node.observe("child_removed",this._childrenObserver),node.observe("child_node_action",this._childrenActionsObserver)))},_loadNodeIfNotLoaded:function(){var node=this.props.node;node.isLoaded()?this.observeNodeChildren(node):(node.observeOnce("loaded",function(){this.isMounted()&&(this.props.node===node&&(this.observeNodeChildren(node),this.setState({loaded:!0,loading:!1,elements:this.buildElements(0,this.props.infiniteSliceCount)})),this.props.heightAutoWithMax&&this.updateInfiniteContainerHeight())}.bind(this)),node.load())},_loadingListener:function(){this.observeNodeChildren(this.props.node,!0),this.setState({loaded:!1,loading:!0}),this.indexedElements=null},_loadedListener:function(){var currentLength=Math.max(this.state.elements.length,this.props.infiniteSliceCount);this.setState({loading:!1,elements:this.buildElements(0,currentLength,this.props.node)}),this.props.heightAutoWithMax&&this.updateInfiniteContainerHeight(),this.observeNodeChildren(this.props.node)},reload:function(){if(this.props.reloadAtCursor&&this._currentCursor)return void this.loadStartingAtCursor();this.props.clearSelectionOnReload&&this.props.dataModel.setSelectedNodes([]),this._loadingListener(),this.props.node.observeOnce("loaded",this._loadedListener),this.props.node.reload()},loadStartingAtCursor:function(){this._loadingListener();var node=this.props.node,cachedChildren=node.getChildren(),newChildren=[];node.observeOnce("loaded",function(){var reorderedChildren=new Map;newChildren.map(function(c){reorderedChildren.set(c.getPath(),c)}),cachedChildren.forEach(function(c){reorderedChildren.set(c.getPath(),c)}),node._children=reorderedChildren,this._loadedListener()}.bind(this)),node.setLoaded(!1),node.observe("child_added",function(newChild){newChildren.push(node._children.get(newChild))}),this.props.node.load(null,{cursor:this._currentCursor})},wireReloadListeners:function(){this.wrappedLoading=this._loadingListener,this.wrappedLoaded=this._loadedListener,this.props.node.observe("loading",this.wrappedLoading),this.props.node.observe("loaded",this.wrappedLoaded)},stopReloadListeners:function(){this.props.node.stopObserving("loading",this.wrappedLoading),this.props.node.stopObserving("loaded",this.wrappedLoaded)},toggleSelector:function(){this.setState({showSelector:!this.state.showSelector,selection:new Map},this.rebuildLoadedElements)},toggleSelection:function(node){var selection=this.state.selection||new Map;selection.get(node)?selection.delete(node):selection.set(node,!0),this.refs.all_selector&&this.refs.all_selector.setChecked(!1),this.setState({selection:selection},this.rebuildLoadedElements)},selectAll:function(){var _this2=this;this.refs.all_selector&&!this.refs.all_selector.isChecked()?this.setState({selection:new Map},this.rebuildLoadedElements):function(){var selection=new Map;_this2.props.node.getChildren().forEach(function(child){this.props.filterNodes&&!this.props.filterNodes(child)||child.isLeaf()&&selection.set(child,!0)}.bind(_this2)),_this2.refs.all_selector&&_this2.refs.all_selector.setChecked(!0),_this2.setState({selection:selection},_this2.rebuildLoadedElements)}()},applyMultipleAction:function(ev){if(this.state.selection&&this.state.selection.size){var actionName=ev.currentTarget.getAttribute("data-action"),dm=this.dm||new PydioDataModel;dm.setContextNode(this.props.node);var selNodes=[];this.state.selection.forEach(function(v,node){selNodes.push(node)}),dm.setSelectedNodes(selNodes);var a=this.props.pydio.Controller.getActionByName(actionName);a.fireContextChange(dm,!0,this.props.pydio.user),a.apply([dm]),ev.stopPropagation(),ev.preventDefault()}},getActionsForNode:function(dm,node){if(!this.props.computeActionsForNode)return[];var cacheKey=node.isLeaf()?"file-"+node.getAjxpMime():"folder",selectionType=node.isLeaf()?"file":"dir",nodeActions=[];return this.actionsCache[cacheKey]?nodeActions=this.actionsCache[cacheKey]:(dm.setSelectedNodes([node]),window.pydio.Controller.actions.forEach(function(a){a.fireContextChange(dm,!0,window.pydio.user),!(a.context.selection&&a.context.actionBar&&a.selectionContext[selectionType]&&!a.deny&&a.options.icon_class)||this.props.actionBarGroups&&-1===this.props.actionBarGroups.indexOf(a.context.actionBarGroup)||a.selectionContext.allowedMimes.length&&-1===a.selectionContext.allowedMimes.indexOf(node.getAjxpMime())||(nodeActions.push(a),node.isLeaf()&&!1===a.selectionContext.unique&&this.actionsCache.multiple.set(a.options.name,a))}.bind(this)),this.actionsCache[cacheKey]=nodeActions),nodeActions},updateInfiniteContainerHeight:function(){var retries=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];if(this.props.containerHeight)return this.props.containerHeight;if(this.refs.infiniteParent){var containerHeight=this.refs.infiniteParent.clientHeight;if(this.props.heightAutoWithMax){var number=this.indexedElements?this.indexedElements.length:this.props.node.getChildren().size,elementHeight=this.state.elementHeight?this.state.elementHeight:this.props.elementHeight;containerHeight=Math.min(number*elementHeight,this.props.heightAutoWithMax)}containerHeight||retries||global.setTimeout(function(){this.updateInfiniteContainerHeight(!0)}.bind(this),50),this.setState({containerHeight:containerHeight})}},computeElementHeightResponsive:function(){if(!this.props.tableKeys)return 50;var breaks=this.props.elementHeight;if(breaks instanceof Object||(breaks={"min-width:480px":this.props.elementHeight,"max-width:480px":24*Object.keys(this.props.tableKeys).length+33}),!window.matchMedia){return DOMUtils.getViewportWidth()<480?breaks["max-width:480px"]:breaks["min-width:480px"]}for(var k in breaks)if(breaks.hasOwnProperty(k)&&window.matchMedia("("+k+")").matches)return breaks[k];return 50},updateElementHeightResponsive:function(){var newH=this.computeElementHeightResponsive();this.state&&this.state.elementHeight&&this.state.elementHeight==newH||this.setState({elementHeight:newH},function(){this.props.heightAutoWithMax&&this.updateInfiniteContainerHeight()}.bind(this))},patchInfiniteGrid:function(els){this.refs.infinite&&els>1&&(this.refs.infinite.state.infiniteComputer.__proto__.getDisplayIndexStart=function(windowTop){return els*Math.floor(windowTop/this.heightData/els)},this.refs.infinite.state.infiniteComputer.__proto__.getDisplayIndexEnd=function(windowBottom){return els*Math.ceil(windowBottom/this.heightData/els)})},componentDidMount:function(){var _this3=this;this.props.delayInitialLoad?setTimeout(function(){_this3._loadNodeIfNotLoaded()},this.props.delayInitialLoad):this._loadNodeIfNotLoaded(),this.patchInfiniteGrid(this.props.elementsPerLine),this.refs.infiniteParent&&(this.updateInfiniteContainerHeight(),this.props.heightAutoWithMax||this.props.externalResize||(window.addEventListener?window.addEventListener("resize",this.updateInfiniteContainerHeight):window.attachEvent("onresize",this.updateInfiniteContainerHeight))),this.props.autoRefresh&&(this.refreshInterval=window.setInterval(this.reload,this.props.autoRefresh)),this.props.observeNodeReload&&this.wireReloadListeners(),(this.props.elementHeight instanceof Object||this.props.tableKeys)&&(window.addEventListener?window.addEventListener("resize",this.updateElementHeightResponsive):window.attachEvent("onresize",this.updateElementHeightResponsive),this.updateElementHeightResponsive()),this.props.dataModel.observe("root_node_changed",function(rootNode){_this3.rootNodeChangedFlag=!0}),this.props.dataModel.observe("selection_changed",function(){var _this4=this;if(this.isMounted()){var selection=new Map,selectedNodes=this.props.dataModel.getSelectedNodes();selectedNodes.map(function(n){selection.set(n,!0)}),this.setState({selection:selection},function(){_this4.rebuildLoadedElements(),1===selectedNodes.length&&_this4.scrollToView(selectedNodes[0])})}}.bind(this))},componentWillUnmount:function(){this.props.heightAutoWithMax||(window.removeEventListener?window.removeEventListener("resize",this.updateInfiniteContainerHeight):window.detachEvent("onresize",this.updateInfiniteContainerHeight)),(this.props.elementHeight instanceof Object||this.props.tableKeys)&&(window.removeEventListener?window.removeEventListener("resize",this.updateElementHeightResponsive):window.detachEvent("resize",this.updateElementHeightResponsive)),this.refreshInterval&&window.clearInterval(this.refreshInterval),this.props.observeNodeReload&&this.stopReloadListeners(),this.props.node&&this.observeNodeChildren(this.props.node,!0)},componentDidUpdate:function(prevProps,prevState){!this.rootNodeChangedFlag&&prevProps.node&&this.props.node&&prevProps.node.getPath()===this.props.node.getPath()||(this._loadNodeIfNotLoaded(),this.rootNodeChangedFlag=!1)},onScroll:function(scrollTop){if(this.props.passScrollingStateToChildren){this.state.scrollTimeout&&clearTimeout(this.state.scrollTimeout);var that=this,scrollTimeout=setTimeout(function(){that.setState({isScrolling:!1,scrollTimeout:void 0})},150);this.setState({isScrolling:!0,scrollTimeout:scrollTimeout})}},scrollToLast:function(){this.indexedElements&&this.indexedElements[this.indexedElements.length-1].node&&this.scrollToView(this.indexedElements[this.indexedElements.length-1].node)},scrollToView:function(node){var _this5=this;if(this.indexedElements&&this.refs.infinite&&this.refs.infinite.scrollable){var scrollable=this.refs.infinite.scrollable,visibleFrame={top:scrollable.scrollTop+this.props.elementHeight/2,bottom:scrollable.scrollTop+this.state.containerHeight-this.props.elementHeight/2},realMaxScrollTop=this.indexedElements.length*this.props.elementHeight-this.state.containerHeight,position=-1;if(this.indexedElements.forEach(function(e,k){e.node&&e.node===node&&(position=k)}),-1!==position){var elementHeight=this.props.elementHeight,scrollTarget=position*elementHeight;scrollTarget>visibleFrame.top&&scrollTarget<visibleFrame.bottom||(scrollTarget>=visibleFrame.bottom&&(scrollTarget-=this.state.containerHeight-2*elementHeight),scrollTarget=Math.min(scrollTarget,realMaxScrollTop),scrollable.scrollTop=scrollTarget,this._manualScrollPe&&this._manualScrollPe.stop(),scrollable.scrollHeight<scrollTarget&&(this._manualScrollPe=new PeriodicalExecuter(function(){scrollable.scrollTop=scrollTarget,scrollable.scrollHeight>=scrollTarget&&(_this5._manualScrollPe.stop(),_this5._manualScrollPe=null)},.25)))}}},buildElementsFromNodeEntries:function(nodeEntries,showSelector){var components=[],index=0,nodeEntriesLength=nodeEntries.length;return nodeEntries.forEach(function(entry){var data=void 0;if(entry.parent)data={node:entry.node,key:entry.node.getPath(),id:entry.node.getPath(),mainIcon:SimpleList.PARENT_FOLDER_ICON,firstLine:"..",className:"list-parent-node",secondLine:this.getMessage("react.1"),onClick:this.clickRow.bind(this),onDoubleClick:this.doubleClickRow.bind(this),showSelector:!1,selectorDisabled:!0,noHover:!1},this.props.entryRenderParentIcon&&!this.props.tableKeys?data.iconCell=this.props.entryRenderParentIcon(entry.node,entry):data.mainIcon=SimpleList.PARENT_FOLDER_ICON,this.props.elementStyle&&(data.style=this.props.elementStyle),this.props.passScrollingStateToChildren&&(data.parentIsScrolling=this.state.isScrolling),components.push(_react2.default.createElement(_ListEntry.ListEntry,data));else if(entry.groupHeader){var id=entry.groupHeader,firstLine=entry.groupHeaderLabel;this.props.entryRenderGroupHeader&&(firstLine=this.props.entryRenderGroupHeader(id,firstLine)),data={node:null,key:entry.groupHeader,id:id,mainIcon:null,firstLine:firstLine,className:"list-group-header",onClick:null,showSelector:!1,selectorDisabled:!0,noHover:!0},this.props.passScrollingStateToChildren&&(data.parentIsScrolling=this.state.isScrolling),components.push(_react2.default.createElement(_ListEntry.ListEntry,data))}else data={node:entry.node,onClick:this.clickRow.bind(this),onDoubleClick:this.doubleClickRow.bind(this),onSelect:this.toggleSelection.bind(this),key:entry.node.getPath(),id:entry.node.getPath(),renderIcon:this.props.entryRenderIcon,renderFirstLine:this.props.entryRenderFirstLine,renderSecondLine:this.props.entryRenderSecondLine,renderThirdLine:this.props.entryRenderThirdLine,renderActions:this.props.entryRenderActions,showSelector:showSelector,selected:!(!this.state||!this.state.selection)&&this.state.selection.get(entry.node),actions:_react2.default.createElement(_viewsSimpleReactActionBar2.default,{node:entry.node,actions:entry.actions,dataModel:this.dm}),selectorDisabled:!(this.props.entryEnableSelector?this.props.entryEnableSelector(entry.node):entry.node.isLeaf())},data.isFirst=0===index,data.isLast=index===nodeEntriesLength-1,index++,this.props.elementStyle&&(data.style=this.props.elementStyle),this.props.passScrollingStateToChildren&&(data.parentIsScrolling=this.state.isScrolling),this.props.renderCustomEntry?components.push(this.props.renderCustomEntry(data)):this.props.tableKeys?(this.props.defaultGroupBy?(data.tableKeys=_extends({},this.props.tableKeys),delete data.tableKeys[this.props.defaultGroupBy]):data.tableKeys=this.props.tableKeys,components.push(_react2.default.createElement(_TableListEntry2.default,data))):components.push(_react2.default.createElement(_ConfigurableListEntry2.default,data))}.bind(this)),components},prepareSortFunction:function(){if(!(this.state||{}).sortingInfo||this.remoteSortingInfo())return null;var _ref2=this.state||{},_ref2$sortingInfo=_ref2.sortingInfo,attribute=_ref2$sortingInfo.attribute,direction=_ref2$sortingInfo.direction,sortType=_ref2$sortingInfo.sortType;return"file-natural"===sortType?function(a,b){if(a.parent)return-1;if(b.parent)return 1;var nodeA=a.node,nodeB=b.node;if(nodeA.isRecycle())return 1;if(nodeB.isRecycle())return-1;var aLeaf=nodeA.isLeaf(),bLeaf=nodeB.isLeaf(),res=aLeaf&&!bLeaf?1:!aLeaf&&bLeaf?-1:0;return 0===res?nodeA.getLabel().localeCompare(nodeB.getLabel(),void 0,{numeric:!0}):res}:function(a,b){if(a.parent)return-1;if(b.parent)return 1;var res=void 0;if("number"===sortType){var aMeta=a.node.getMetadata().get(attribute)||0,bMeta=b.node.getMetadata().get(attribute)||0;aMeta=parseFloat(aMeta),bMeta=parseFloat(bMeta),res="asc"===direction?aMeta-bMeta:bMeta-aMeta}else if("string"===sortType){var aMeta=a.node.getMetadata().get(attribute)||"",bMeta=b.node.getMetadata().get(attribute)||"";res="asc"===direction?aMeta.localeCompare(bMeta):bMeta.localeCompare(aMeta)}if(0===res){var labComp=a.node.getLabel().localeCompare(b.node.getLabel(),void 0,{numeric:!0});res="asc"===direction?labComp:-labComp}return res}},buildElements:function(start,end,node){var _this6=this,theNode=node||this.props.node,sortFunction=this.prepareSortFunction();return this.indexedElements&&this.indexedElements.length===theNode.getChildren().size||function(){_this6.indexedElements=[];var groupBy=void 0,groupByLabel=void 0,groups=void 0,groupKeys=void 0,groupLabels=void 0;_this6.props.defaultGroupBy&&(groupBy=_this6.props.defaultGroupBy,groupByLabel=_this6.props.groupByLabel||!1,groups={},groupKeys=[],groupLabels={}),_this6.props.skipParentNavigation||!theNode.getParent()||_this6.props.dataModel.getContextNode()===theNode&&!_this6.props.skipInternalDataModel||_this6.indexedElements.push({node:theNode.getParent(),parent:!0,actions:null}),theNode.getChildren().forEach(function(child){if(child.getMetadata().has("cursor")){var childCursor=parseInt(child.getMetadata().get("cursor"));this._currentCursor=Math.max(this._currentCursor?this._currentCursor:0,childCursor)}if(!this.props.filterNodes||this.props.filterNodes(child)){var nodeActions=this.getActionsForNode(this.dm,child);if(groupBy){var groupValue=child.getMetadata().get(groupBy)||"N/A";groups[groupValue]||(groups[groupValue]=[],groupKeys.push(groupValue)),groupByLabel&&child.getMetadata().has(groupByLabel)&&!groupLabels[groupValue]&&(groupLabels[groupValue]=child.getMetadata().get(groupByLabel)),groups[groupValue].push({node:child,parent:!1,actions:nodeActions})}else this.indexedElements.push({node:child,parent:!1,actions:nodeActions})}}.bind(_this6)),groupBy&&(groupKeys=groupKeys.sort(),groupKeys.map(function(k){var label=k;groupLabels[k]?label=groupLabels[k]:this.props.renderGroupLabels&&(label=this.props.renderGroupLabels(groupBy,k)),this.indexedElements.push({node:null,groupHeader:k,groupHeaderLabel:label,parent:!1,actions:null}),sortFunction&&groups[k].sort(sortFunction),this.indexedElements=this.indexedElements.concat(groups[k])}.bind(_this6)))}(),!this.props.defaultGroupBy&&sortFunction&&this.indexedElements.sort(sortFunction),this.props.elementPerLine>1&&(end*=this.props.elementPerLine,start*=this.props.elementPerLine),this.indexedElements.slice(start,end)},rebuildLoadedElements:function(){var newElements=this.buildElements(0,Math.max(this.state.elements.length,this.props.infiniteSliceCount)),infiniteLoadBeginBottomOffset=newElements.length?200:0;this.setState({elements:newElements,infiniteLoadBeginBottomOffset:infiniteLoadBeginBottomOffset}),this.updateInfiniteContainerHeight()},handleInfiniteLoad:function(){var elemLength=this.state.elements.length,newElements=this.buildElements(elemLength,elemLength+this.props.infiniteSliceCount),infiniteLoadBeginBottomOffset=newElements.length?200:0;this.setState({isInfiniteLoading:!1,elements:this.state.elements.concat(newElements),infiniteLoadBeginBottomOffset:infiniteLoadBeginBottomOffset})},remoteSortingInfo:function(){var meta=this.props.node.getMetadata().get("paginationData");if(meta&&meta.get("total")>1&&meta.has("remote_order")){var col=meta.get("currentOrderCol"),dir=meta.get("currentOrderDir");if(col&&dir)return{remote:!0,attribute:col,direction:dir}}return null},renderToolbar:function(){var _this7=this;if(!(arguments.length<=0||void 0===arguments[0])&&arguments[0]){if(this.props.sortKeys){var sortingInfo=void 0,remoteSortingInfo=this.remoteSortingInfo();return sortingInfo=remoteSortingInfo||(this.state?this.state.sortingInfo:null),_react2.default.createElement(_SortColumns2.default,{displayMode:"hidden",tableKeys:this.props.sortKeys,columnClicked:this.onColumnSort,sortingInfo:sortingInfo})}return null}var rightButtons=[_react2.default.createElement(_materialUi.FontIcon,{key:1,tooltip:"Reload",className:"mdi mdi-reload"+(this.state.loading?" rotating":""),onClick:this.reload})],i=2;if(this.props.sortKeys){var sortingInfo=void 0,remoteSortingInfo=this.remoteSortingInfo();sortingInfo=remoteSortingInfo||(this.state?this.state.sortingInfo:null),rightButtons.push(_react2.default.createElement(_SortColumns2.default,{key:i,displayMode:"menu",tableKeys:this.props.sortKeys,columnClicked:this.onColumnSort,sortingInfo:sortingInfo})),i++}this.props.additionalActions&&rightButtons.push(this.props.additionalActions);var leftToolbar=void 0,paginator=void 0;if(this.props.node.getMetadata().get("paginationData")&&this.props.node.getMetadata().get("paginationData").get("total")>1&&(paginator=_react2.default.createElement(_ListPaginator2.default,{dataModel:this.dm,node:this.props.node})),this.props.listTitle&&(leftToolbar=_react2.default.createElement(_materialUi.ToolbarGroup,{key:0,float:"left"},_react2.default.createElement("div",{className:"list-title"},this.props.listTitle))),this.props.searchResultData)leftToolbar=_react2.default.createElement(_materialUi.ToolbarGroup,{key:0,float:"left"},_react2.default.createElement("div",{style:{fontSize:12,fontWeight:500,color:"#9e9e9e"}},this.getMessage("react.3").replace("%s",this.props.searchResultData.term))),rightButtons=_react2.default.createElement(_materialUi.RaisedButton,{key:1,label:this.getMessage("react.4"),primary:!0,onClick:this.props.searchResultData.toggleState,style:{marginRight:-10}});else if(this.actionsCache.multiple.size||this.props.multipleActions){var bulkLabel=this.getMessage("react.2"),hiddenStyle={transform:"translateX(-80px)"},cbStyle=_extends({width:24},hiddenStyle),buttonStyle=_extends({},hiddenStyle);this.state.showSelector&&(cbStyle={width:24,transform:"translateX(-12px)"},buttonStyle={transform:"translateX(-40px)"}),this.state.selection&&this.state.showSelector&&(bulkLabel+=" ("+this.state.selection.size+")"),leftToolbar=_react2.default.createElement(_materialUi.ToolbarGroup,{key:0,float:"left",className:"hide-on-vertical-layout"},_react2.default.createElement(_materialUi.Checkbox,{ref:"all_selector",onClick:this.selectAll,style:cbStyle}),_react2.default.createElement(_materialUi.FlatButton,{label:bulkLabel,onClick:this.toggleSelector,style:buttonStyle})),this.state.showSelector&&function(){rightButtons=[],(_this7.props.multipleActions||_this7.actionsCache.multiple).forEach(function(a){rightButtons.push(_react2.default.createElement(_materialUi.RaisedButton,{key:0,label:a.options.text,"data-action":a.options.name,onClick:this.applyMultipleAction,primary:!0}))}.bind(_this7)),rightButtons=_react2.default.createElement("span",null,rightButtons)}()}return _react2.default.createElement(_materialUi.Toolbar,{style:this.props.toolbarStyle},leftToolbar,_react2.default.createElement(_materialUi.ToolbarGroup,{key:1,float:"right"},paginator,rightButtons))},render:function(){var _this8=this,containerClasses="material-list vertical-layout layout-fill";this.props.className&&(containerClasses+=" "+this.props.className),this.state.showSelector&&(containerClasses+=" list-show-selectors"),this.props.tableKeys&&(containerClasses+=" table-mode");var toolbar=void 0,hiddenToolbar=void 0;if(this.props.tableKeys){var tableKeys=void 0;this.props.defaultGroupBy?(tableKeys=_extends({},this.props.tableKeys),delete tableKeys[this.props.defaultGroupBy]):tableKeys=this.props.tableKeys;var sortingInfo=void 0,remoteSortingInfo=this.remoteSortingInfo();sortingInfo=remoteSortingInfo||(this.state?this.state.sortingInfo:null),toolbar=_react2.default.createElement(_TableListHeader2.default,{tableKeys:tableKeys,loading:this.state.loading,reload:this.reload,ref:"loading_indicator",dm:this.props.dataModel,node:this.props.node,additionalActions:this.props.additionalActions,onHeaderClick:this.onColumnSort,sortingInfo:sortingInfo})}else toolbar=this.props.customToolbar?this.props.customToolbar:this.props.hideToolbar?null:this.renderToolbar(),(this.props.hideToolbar||this.props.customToolbar)&&(hiddenToolbar=this.renderToolbar(!0));var inlineEditor=void 0;this.state.inlineEditionForNode&&(inlineEditor=_react2.default.createElement(_InlineEditor2.default,{detached:!0,node:this.state.inlineEditionForNode,callback:this.state.inlineEditionCallback,onClose:function(){_this8.setState({inlineEditionForNode:null})}}));var emptyState=void 0,_props=this.props,emptyStateProps=_props.emptyStateProps;_props.node;if(emptyStateProps&&this.props.node.isLoaded()&&!this.props.node.isLoading()&&(!this.state.elements.length||1===this.state.elements.length&&this.state.elements[0].parent)){var actionProps={};1===this.state.elements.length&&this.state.elements[0].parent&&function(){var parentNode=_this8.state.elements[0].node;actionProps={actionLabelId:"react.1",actionIconClassName:SimpleList.PARENT_FOLDER_ICON,actionCallback:function(e){_this8.props.entryHandleClicks&&_this8.props.entryHandleClicks(parentNode,SimpleList.CLICK_TYPE_DOUBLE,e)}}}(),emptyState=_react2.default.createElement(_viewsEmptyStateView2.default,_extends({},emptyStateProps,actionProps))}else emptyStateProps&&emptyStateProps.checkEmptyState&&emptyStateProps.checkEmptyState(this.props.node)&&(emptyState=_react2.default.createElement(_viewsEmptyStateView2.default,emptyStateProps));var elements=this.buildElementsFromNodeEntries(this.state.elements,this.state.showSelector),_props2=this.props,verticalScroller=_props2.verticalScroller,heightAutoWithMax=_props2.heightAutoWithMax,usePlaceHolder=_props2.usePlaceHolder,content=elements;return!elements.length&&usePlaceHolder&&(content=_react2.default.createElement(_PlaceHolders2.default,this.props)),content=emptyState||(verticalScroller?_react2.default.createElement(_reactScrollbar2.default,{speed:.8,horizontalScroll:!1,style:{height:this.state.containerHeight},verticalScrollbarStyle:{borderRadius:10,width:6},verticalContainerStyle:{width:8}},_react2.default.createElement("div",null,content)):_react2.default.createElement(_reactInfinite2.default,{elementHeight:this.state.elementHeight?this.state.elementHeight:this.props.elementHeight,containerHeight:this.state.containerHeight?this.state.containerHeight:1,infiniteLoadBeginEdgeOffset:this.state.infiniteLoadBeginBottomOffset,onInfiniteLoad:this.handleInfiniteLoad,handleScroll:this.onScroll,ref:"infinite"},content)),_react2.default.createElement("div",{className:containerClasses,tabIndex:"0",onKeyDown:this.onKeyDown,style:this.props.style},toolbar,hiddenToolbar,inlineEditor,_react2.default.createElement("div",{className:heightAutoWithMax?"infinite-parent-smooth-height":emptyState?"layout-fill vertical_layout":"layout-fill",ref:"infiniteParent"},content))}});exports.default=SimpleList,module.exports=exports.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../views/EmptyStateView":63,"../views/SimpleReactActionBar":65,"./ConfigurableListEntry":19,"./InlineEditor":20,"./ListEntry":21,"./ListPaginator":22,"./PlaceHolders":25,"./SortColumns":27,"./TableListEntry":29,"./TableListHeader":30,"create-react-class":"create-react-class","material-ui":"material-ui","prop-types":"prop-types",pydio:"pydio","pydio/model/data-model":"pydio/model/data-model","pydio/util/dom":"pydio/util/dom","pydio/util/periodical-executer":"pydio/util/periodical-executer",react:"react","react-infinite":"react-infinite","react-scrollbar":85}],27:[function(require,module,exports){"use strict";exports.__esModule=!0;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_menuIconButtonMenu=require("../menu/IconButtonMenu"),_menuIconButtonMenu2=_interopRequireDefault(_menuIconButtonMenu),_Pydio$requireLib=_pydio2.default.requireLib("boot"),PydioContextConsumer=_Pydio$requireLib.PydioContextConsumer,SortColumns=function(_React$Component){_inherits(SortColumns,_React$Component);function SortColumns(){_classCallCheck(this,SortColumns),_React$Component.apply(this,arguments)}return SortColumns.prototype.onMenuClicked=function(object){this.props.columnClicked(object.payload)},SortColumns.prototype.onHeaderClick=function(key,callback){var data=this.props.tableKeys[key];data&&data.sortType&&this.props.columnClicked&&(data.name=key,this.props.columnClicked(data,callback))},SortColumns.prototype.getColumnsItems=function(displayMode){var _this=this,controller=arguments.length<=1||void 0===arguments[1]?null:arguments[1],items=[],_callback=function(){controller&&controller.notify("actions_refreshed")},_loop=function(key){if(!_this.props.tableKeys.hasOwnProperty(key))return"continue";var data=_this.props.tableKeys[key],style=data.width?{width:data.width}:null,icon=void 0,className="cell header_cell cell-"+key;data.sortType&&(className+=" sortable",!_this.props.sortingInfo||_this.props.sortingInfo.attribute!==key&&_this.props.sortingInfo.attribute!==data.sortAttribute&&_this.props.sortingInfo.attribute!==data.remoteSortAttribute||(icon="asc"===_this.props.sortingInfo.direction?"mdi mdi-sort-ascending":"mdi mdi-sort-descending",className+=" active-sort-"+_this.props.sortingInfo.direction)),"menu"===displayMode?(data.name=key,items.push({payload:data,text:data.label,iconClassName:icon})):"menu_data"===displayMode?items.push({name:data.label,callback:function(){
_this.onHeaderClick(key,_callback)},icon_class:icon||("number"===data.sortType?"mdi mdi-sort-numeric":"mdi mdi-sort-alphabetical")}):items.push(_react2.default.createElement("span",{key:key,className:className,style:style,onClick:function(){_this.onHeaderClick(key,_callback)}},data.label))};for(var key in this.props.tableKeys){_loop(key)}return items},SortColumns.prototype.buildSortingMenuItems=function(controller){return this.getColumnsItems("menu_data",controller)},SortColumns.prototype.componentDidMount=function(){var sortAction=new Action({name:"sort_action",icon_class:"mdi mdi-sort-descending",text_id:450,title_id:450,text:this.props.getMessage(450),title:this.props.getMessage(450),hasAccessKey:!1,subMenu:!0,subMenuUpdateImage:!0,weight:50},{selection:!1,dir:!0,actionBar:!0,actionBarGroup:"display_toolbar",contextMenu:!1,infoPanel:!1},{},{},{dynamicBuilder:this.buildSortingMenuItems.bind(this)}),buttons=new Map;buttons.set("sort_action",sortAction),this.props.pydio.getController().updateGuiActions(buttons)},SortColumns.prototype.componentWillUnmount=function(){this.props.pydio.getController().deleteFromGuiActions("sort_action")},SortColumns.prototype.render=function(){var _this2=this;return"hidden"===this.props.displayMode?null:"menu"===this.props.displayMode?_react2.default.createElement(_menuIconButtonMenu2.default,{buttonTitle:"Sort by...",buttonClassName:"mdi mdi-sort-descending",menuItems:this.getColumnsItems("menu",this.props.pydio.getController()),onMenuClicked:function(o){return _this2.onMenuClicked(o)}}):_react2.default.createElement("div",{className:"mui-toolbar-group mui-left"},this.getColumnsItems("header",this.props.pydio.getController()))},SortColumns}(_react2.default.Component);exports.default=SortColumns=PydioContextConsumer(SortColumns),exports.default=SortColumns,module.exports=exports.default},{"../menu/IconButtonMenu":35,pydio:"pydio",react:"react"}],28:[function(require,module,exports){"use strict";exports.__esModule=!0;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var DraggableListItem,_react=require("react"),_react2=_interopRequireDefault(_react),_utilDND=require("../util/DND"),_materialUi=require("material-ui"),sortableItemSource={beginDrag:function(props){return{id:props.id}},endDrag:function(props){props.endSwitching()}},sortableItemTarget={hover:function(props,monitor){var draggedId=monitor.getItem().id;draggedId!==props.id&&props.switchItems(draggedId,props.id)}},sortableItem=function(_React$Component){_inherits(sortableItem,_React$Component);function sortableItem(){_classCallCheck(this,sortableItem),_React$Component.apply(this,arguments)}return sortableItem.prototype.removeClicked=function(){this.props.onRemove(this.props.id)},sortableItem.prototype.render=function(){var remove,_this=this,isDragging=(this.props.id,this.props.isDragging),connectDragSource=this.props.connectDragSource,connectDropTarget=this.props.connectDropTarget;return this.props.removable&&(remove=_react2.default.createElement("span",{className:"button mdi mdi-close",onClick:function(e){return _this.removeClicked(e)}})),_react2.default.createElement(_materialUi.Paper,{ref:function(instance){connectDropTarget(ReactDOM.findDOMNode(instance)),connectDragSource(ReactDOM.findDOMNode(instance))},zDepth:1,style:{opacity:isDragging?0:1,margin:"8px 0"}},_react2.default.createElement("div",{className:this.props.className},this.props.label,remove))},sortableItem}(_react2.default.Component),NonDraggableListItem=function(_React$Component2){_inherits(NonDraggableListItem,_React$Component2);function NonDraggableListItem(){_classCallCheck(this,NonDraggableListItem),_React$Component2.apply(this,arguments)}return NonDraggableListItem.prototype.removeClicked=function(){this.props.onRemove(this.props.id)},NonDraggableListItem.prototype.render=function(){var remove,_this2=this;return this.props.removable&&(remove=_react2.default.createElement("span",{className:"button mdi mdi-close",onClick:function(e){return _this2.removeClicked(e)}})),_react2.default.createElement(_materialUi.Paper,{zDepth:1,style:{margin:"8px 0"}},_react2.default.createElement("div",{className:this.props.className},this.props.label,remove))},NonDraggableListItem}(_react2.default.Component);DraggableListItem=window.ReactDND?ReactDND.flow(ReactDND.DragSource(_utilDND.Types.SORTABLE_LIST_ITEM,sortableItemSource,_utilDND.collect),ReactDND.DropTarget(_utilDND.Types.SORTABLE_LIST_ITEM,sortableItemTarget,_utilDND.collectDrop))(sortableItem):NonDraggableListItem;var SortableList=function(_React$Component3){_inherits(SortableList,_React$Component3);function SortableList(props){_classCallCheck(this,SortableList),_React$Component3.call(this,props),this.state={values:this.props.values}}return SortableList.prototype.componentWillReceiveProps=function(props){this.setState({values:props.values,switchData:null})},SortableList.prototype.findItemIndex=function(itemId,data){for(var i=0;i<data.length;i++)if(data[i].payload===itemId)return i},SortableList.prototype.switchItems=function(oldId,newId){var oldIndex=this.findItemIndex(oldId,this.state.values),oldItem=this.state.values[oldIndex],newIndex=this.findItemIndex(newId,this.state.values),newItem=this.state.values[newIndex],currentValues=this.state.values.slice();currentValues[oldIndex]=newItem,currentValues[newIndex]=oldItem;var oldPrevious=this.findItemIndex(oldId,this.props.values),newPrevious=this.findItemIndex(newId,this.props.values);oldPrevious===newIndex&&newPrevious===oldIndex?this.setState({values:currentValues,switchData:null}):this.setState({values:currentValues,switchData:{oldId:oldId,newId:newId}})},SortableList.prototype.endSwitching=function(){this.state.switchData&&this.props.onOrderUpdated&&this.props.onOrderUpdated(this.state.switchData.oldId,this.state.switchData.newId,this.state.values),this.setState({switchData:null})},SortableList.prototype.render=function(){return _react2.default.createElement("div",{className:this.props.className},this.state.values.map(function(item){return _react2.default.createElement(DraggableListItem,{id:item.payload,key:item.payload,label:item.text,switchItems:this.switchItems.bind(this),endSwitching:this.endSwitching.bind(this),removable:this.props.removable,onRemove:this.props.onRemove,className:this.props.itemClassName})}.bind(this)))},SortableList}(_react2.default.Component);exports.default=SortableList,module.exports=exports.default},{"../util/DND":62,"material-ui":"material-ui",react:"react"}],29:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_pydioUtilPath=require("pydio/util/path"),_pydioUtilPath2=_interopRequireDefault(_pydioUtilPath),_ListEntry=require("./ListEntry"),_InlineEditor=require("./InlineEditor"),_InlineEditor2=_interopRequireDefault(_InlineEditor),_withNodeListenerEntry=require("./withNodeListenerEntry"),_withNodeListenerEntry2=_interopRequireDefault(_withNodeListenerEntry),_Pydio$requireLib=_pydio2.default.requireLib("boot"),moment=_Pydio$requireLib.moment,TableListEntry=function(_React$Component){_inherits(TableListEntry,_React$Component);function TableListEntry(){_classCallCheck(this,TableListEntry),_React$Component.apply(this,arguments)}return TableListEntry.prototype.render=function(){var actions=this.props.actions;this.props.renderActions&&(actions=this.props.renderActions(this.props.node));var cells=[],firstKey=!0,meta=this.props.node.getMetadata();for(var key in this.props.tableKeys)if(this.props.tableKeys.hasOwnProperty(key)){var data=this.props.tableKeys[key],style=data.width?{width:data.width}:null,value=void 0,rawValue=void 0;if(data.renderCell)data.name=key,value=data.renderCell(this.props.node,data);else if("ajxp_modiftime"===key){var mDate=moment(1e3*parseFloat(meta.get("ajxp_modiftime"))),dateString=mDate.calendar();dateString.indexOf("/")>-1&&(dateString=mDate.fromNow()),value=dateString}else value="bytesize"===key?_pydioUtilPath2.default.roundFileSize(parseInt(meta.get(key))):meta.get(key);rawValue=meta.get(key);var inlineEditor=void 0;if(this.props.inlineEdition&&firstKey){inlineEditor=_react2.default.createElement(_InlineEditor2.default,{node:this.props.node,onClose:this.props.inlineEditionDismiss,callback:this.props.inlineEditionCallback});var _style=this.props.style||{};_style.position="relative",this.props.style=_style}cells.push(_react2.default.createElement("span",{key:key,className:"cell cell-"+key,title:rawValue,style:style,"data-label":data.label},inlineEditor,value)),firstKey=!1}return _react2.default.createElement(_ListEntry.DragDropListEntry,_extends({},this.props,{iconCell:null,firstLine:cells,actions:actions}))},TableListEntry}(_react2.default.Component);exports.default=_withNodeListenerEntry2.default(TableListEntry),module.exports=exports.default},{"./InlineEditor":20,"./ListEntry":21,"./withNodeListenerEntry":31,pydio:"pydio","pydio/util/path":"pydio/util/path",react:"react"}],30:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_materialUi=require("material-ui"),_SortColumns=require("./SortColumns"),_SortColumns2=_interopRequireDefault(_SortColumns),_ListPaginator=require("./ListPaginator"),_ListPaginator2=_interopRequireDefault(_ListPaginator),TableListHeader=function(_React$Component){_inherits(TableListHeader,_React$Component);function TableListHeader(){_classCallCheck(this,TableListHeader),_React$Component.apply(this,arguments)}return TableListHeader.prototype.render=function(){var paginator=void 0;return this.props.node.getMetadata().get("paginationData")&&this.props.node.getMetadata().get("paginationData").get("total")>1&&(paginator=_react2.default.createElement(_ListPaginator2.default,{dataModel:this.props.dm,node:this.props.node})),_react2.default.createElement("div",{className:"mui-toolbar toolbarTableHeader"},_react2.default.createElement(_SortColumns2.default,_extends({displayMode:"tableHeader"},this.props,{columnClicked:this.props.onHeaderClick})),_react2.default.createElement("div",{className:"mui-toolbar-group mui-right"},paginator,_react2.default.createElement(_materialUi.FontIcon,{key:1,title:_pydio2.default.getMessages[149],className:"mdi mdi-refresh"+(this.props.loading?" rotating":""),onClick:this.props.reload,style:{padding:16,display:"block",cursor:"pointer",fontSize:24,color:"#9E9E9E"}}),this.props.additionalActions))},TableListHeader}(_react2.default.Component);exports.default=TableListHeader,module.exports=exports.default},{"./ListPaginator":22,"./SortColumns":27,"material-ui":"material-ui",pydio:"pydio",react:"react"}],31:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react);exports.default=function(ListEntryComponent){return function(_React$Component){_inherits(NodeListenerComponent,_React$Component);function NodeListenerComponent(){_classCallCheck(this,NodeListenerComponent),_React$Component.apply(this,arguments)}return NodeListenerComponent.prototype.attach=function(node){var _this=this;this._nodeListener=function(){_this.forceUpdate()},this._actionListener=function(eventMemo){return eventMemo&&"prompt-rename"===eventMemo.type&&eventMemo.callback&&_this.setState({inlineEdition:!0,inlineEditionCallback:eventMemo.callback}),!0},node.observe("node_replaced",this._nodeListener),node.observe("node_action",this._actionListener)},NodeListenerComponent.prototype.detach=function(node){this._nodeListener&&(node.stopObserving("node_replaced",this._nodeListener),node.stopObserving("node_action",this._actionListener))},NodeListenerComponent.prototype.componentDidMount=function(){this.attach(this.props.node)},NodeListenerComponent.prototype.componentWillUnmount=function(){this.detach(this.props.node)},NodeListenerComponent.prototype.render=function(){var _this2=this;return _react2.default.createElement(ListEntryComponent,_extends({},this.props,this.state,{inlineEditionDismiss:function(){return _this2.setState({inlineEdition:!1})}}))},NodeListenerComponent}(_react2.default.Component)},module.exports=exports.default},{react:"react"}],32:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _Utils=require("./Utils"),_Utils2=_interopRequireDefault(_Utils),_MenuItemsConsumer=require("./MenuItemsConsumer"),_MenuItemsConsumer2=_interopRequireDefault(_MenuItemsConsumer),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_react=require("react"),_react2=_interopRequireDefault(_react),_reactDom=require("react-dom"),_reactDom2=_interopRequireDefault(_reactDom),_materialUi=require("material-ui"),ButtonComposed=function(_React$Component){_inherits(ButtonComposed,_React$Component);function ButtonComposed(){var _this=this;_classCallCheck(this,ButtonComposed),_React$Component.apply(this,arguments),this.state={showMenu:!1},this.showMenu=function(event){var anchor=void 0;anchor=event?event.currentTarget:_this._buttonDOM,_this.setState({showMenu:!0,anchor:anchor})},this.menuClicked=function(event,index,object){_this.setState({showMenu:!1})}}return ButtonComposed.prototype.componentDidMount=function(){var _this2=this;this.props.openOnEvent&&this.props.pydio.observe(this.props.openOnEvent,function(){_this2.showMenu()})},ButtonComposed.prototype.render=function(){var _this3=this,masterButton=void 0,arrowButton=void 0,_props=this.props,id=_props.id,masterAction=_props.masterAction,buttonTitle=_props.buttonTitle,primary=_props.primary,secondary=_props.secondary,disabled=_props.disabled,raised=_props.raised,menuItems=_props.menuItems,buttonStyle=_props.buttonStyle,buttonLabelStyle=_props.buttonLabelStyle,className=_props.className,direction=_props.direction,masterLabelStyle=_extends({},buttonLabelStyle),arrowLabelStyle=_extends({},buttonLabelStyle);masterLabelStyle.paddingRight?masterLabelStyle.paddingRight/=Math.floor(3):masterLabelStyle.paddingRight=8,arrowLabelStyle.paddingLeft?arrowLabelStyle.paddingLeft/=Math.floor(3):arrowLabelStyle.paddingLeft=8,arrowLabelStyle.paddingRight=arrowLabelStyle.paddingLeft;var masterProps={primary:primary,secondary:secondary,disabled:disabled,label:buttonTitle,style:_extends({},buttonStyle,{minWidth:60}),labelStyle:masterLabelStyle,onClick:masterAction},arrowProps={primary:primary,secondary:secondary,disabled:disabled,label:_react2.default.createElement("span",{className:"mdi mdi-menu-down"}),style:_extends({},buttonStyle,{minWidth:16}),labelStyle:arrowLabelStyle,onClick:this.showMenu},_state=this.state,showMenu=_state.showMenu,anchor=_state.anchor,over=_state.over;return menuItems.length&&(raised?(arrowButton=_react2.default.createElement(_materialUi.RaisedButton,_extends({},arrowProps,{ref:function(b){_this3._buttonDOM=_reactDom2.default.findDOMNode(b)}})),masterButton=_react2.default.createElement(_materialUi.RaisedButton,masterProps)):(arrowButton=_react2.default.createElement(_materialUi.FlatButton,_extends({},arrowProps,{ref:function(b){_this3._buttonDOM=_reactDom2.default.findDOMNode(b)}})),masterButton=_react2.default.createElement(_materialUi.FlatButton,masterProps))),_react2.default.createElement("span",{id:id,className:className,onMouseOver:function(){_this3.setState({over:!0})},onMouseOut:function(){_this3.setState({over:!1})},style:over||showMenu?{backgroundColor:"rgba(153, 153, 153, 0.2)",whiteSpace:"nowrap"}:{whiteSpace:"nowrap"}},masterButton,arrowButton,_react2.default.createElement(_materialUi.Popover,{className:"menuPopover",open:showMenu,anchorEl:anchor,anchorOrigin:{horizontal:direction||"left",vertical:"bottom"},targetOrigin:{horizontal:direction||"left",vertical:"top"},onRequestClose:function(){_this3.setState({showMenu:!1})},style:{marginTop:1},useLayerForClickAway:!1},_Utils2.default.itemsToMenu(menuItems,this.menuClicked)))},_createClass(ButtonComposed,null,[{key:"propTypes",value:{buttonTitle:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.object]).isRequired,masterAction:_propTypes2.default.func.isRequired,menuItems:_propTypes2.default.array.isRequired,className:_propTypes2.default.string,raised:_propTypes2.default.bool,direction:_propTypes2.default.oneOf(["left","right"])},enumerable:!0}]),ButtonComposed}(_react2.default.Component);exports.default=_MenuItemsConsumer2.default(ButtonComposed),module.exports=exports.default},{"./MenuItemsConsumer":37,"./Utils":40,"material-ui":"material-ui","prop-types":"prop-types",react:"react","react-dom":"react-dom"}],33:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _Utils=require("./Utils"),_Utils2=_interopRequireDefault(_Utils),_MenuItemsConsumer=require("./MenuItemsConsumer"),_MenuItemsConsumer2=_interopRequireDefault(_MenuItemsConsumer),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_react=require("react"),_react2=_interopRequireDefault(_react),_reactDom=require("react-dom"),_reactDom2=_interopRequireDefault(_reactDom),_materialUi=require("material-ui"),ButtonMenu=function(_React$Component){_inherits(ButtonMenu,_React$Component);function ButtonMenu(){var _this=this;_classCallCheck(this,ButtonMenu),_React$Component.apply(this,arguments),this.state={showMenu:!1},this.showMenu=function(event){var anchor=void 0;anchor=event?event.currentTarget:_this._buttonDOM,_this.setState({showMenu:!0,anchor:anchor})},this.menuClicked=function(event,index,object){_this.setState({showMenu:!1})}}return ButtonMenu.prototype.componentDidMount=function(){var _this2=this;this.props.openOnEvent&&this.props.pydio.observe(this.props.openOnEvent,function(){_this2.showMenu()})},ButtonMenu.prototype.render=function(){var _this3=this,_state=this.state,showMenu=_state.showMenu,anchor=_state.anchor,label=_react2.default.createElement("span",{style:{whiteSpace:"nowrap"}},this.props.buttonTitle," ",_react2.default.createElement("span",{className:"mdi mdi-menu-down"})),button=void 0,activeColor=this.props.buttonHoverColor||"rgba(255,255,255,0.2)",props={primary:this.props.primary,secondary:this.props.secondary,disabled:this.props.disabled,label:label,onClick:this.showMenu,labelStyle:_extends({},this.props.buttonLabelStyle),style:this.props.buttonStyle,backgroundColor:showMenu?activeColor:this.props.buttonBackgroundColor,hoverColor:this.props.buttonHoverColor},menuItems=this.props.menuItems;return menuItems.length&&(button=this.props.raised?_react2.default.createElement(_materialUi.RaisedButton,_extends({},props,{ref:function(b){_this3._buttonDOM=_reactDom2.default.findDOMNode(b)}})):_react2.default.createElement(_materialUi.FlatButton,_extends({},props,{ref:function(b){_this3._buttonDOM=_reactDom2.default.findDOMNode(b)}}))),_react2.default.createElement("span",{id:this.props.id,className:this.props.className},button,_react2.default.createElement(_materialUi.Popover,{className:"menuPopover",open:showMenu,anchorEl:anchor,anchorOrigin:{horizontal:this.props.direction||"left",vertical:"bottom"},targetOrigin:{horizontal:this.props.direction||"left",vertical:"top"},onRequestClose:function(){_this3.setState({showMenu:!1})},style:{marginTop:1},useLayerForClickAway:!1},_Utils2.default.itemsToMenu(menuItems,this.menuClicked)))},_createClass(ButtonMenu,null,[{key:"propTypes",value:{buttonTitle:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.object]).isRequired,menuItems:_propTypes2.default.array.isRequired,className:_propTypes2.default.string,raised:_propTypes2.default.bool,direction:_propTypes2.default.oneOf(["left","right"])},enumerable:!0}]),ButtonMenu}(_react2.default.Component);exports.default=_MenuItemsConsumer2.default(ButtonMenu),module.exports=exports.default},{"./MenuItemsConsumer":37,"./Utils":40,"material-ui":"material-ui","prop-types":"prop-types",react:"react","react-dom":"react-dom"}],34:[function(require,module,exports){"use strict";exports.__esModule=!0;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _pydioModelContextMenu=require("pydio/model/context-menu"),_pydioModelContextMenu2=_interopRequireDefault(_pydioModelContextMenu),_Utils=require("./Utils"),_Utils2=_interopRequireDefault(_Utils),_PopupMenu=require("./PopupMenu"),_PopupMenu2=_interopRequireDefault(_PopupMenu),_require=require("react"),Component=_require.Component,dims={MENU_ITEM_HEIGHT:32,MENU_SEP_HEIGHT:16,MENU_VERTICAL_PADDING:8,MENU_WIDTH:250,OFFSET_VERTICAL:8,OFFSET_HORIZONTAL:8},ContextMenu=function(_Component){_inherits(ContextMenu,_Component);function ContextMenu(){_classCallCheck(this,ContextMenu),_Component.apply(this,arguments)}return ContextMenu.prototype.modelOpen=function(node){var position=_pydioModelContextMenu2.default.getInstance().getPosition();if(node){var dm=pydio.getContextHolder();-1!==dm.getSelectedNodes().indexOf(node)?this.openMenu("selectionContext",position):(pydio.observeOnce("actions_refreshed",function(dataModel){this.openMenu("selectionContext",position)}.bind(this)),dm.setSelectedNodes([node]))}else this.openMenu("genericContext",position)},ContextMenu.prototype.openMenu=function(context,position){var items=this.computeMenuItems(context);this._items=items,this.props.pydio.UI.MOBILE_EXTENSIONS?this.refs.menu.showMenu({bottom:0,left:0,right:0,height:200,zIndex:1e4,overflowY:"auto"},items):(position=this.computeVisiblePosition(position,items),this.refs.menu.showMenu({top:position.y,left:position.x},items))},ContextMenu.prototype.computeMenuItems=function(context){var actions=this.props.pydio.Controller.getContextActions(context,["inline","info_panel","info_panel_share"]);return _Utils2.default.pydioActionsToItems(actions)},ContextMenu.prototype.computeVisiblePosition=function(position,items){var menuHeight=2*dims.MENU_VERTICAL_PADDING;items.map(function(it){it.separator?menuHeight+=dims.MENU_SEP_HEIGHT:menuHeight+=dims.MENU_ITEM_HEIGHT});var menuWidth=dims.MENU_WIDTH,windowW=Math.max(document.documentElement.clientWidth,window.innerWidth||0),windowH=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return position.x+menuWidth>windowW?position.x=Math.max(position.x-menuWidth,10)-dims.OFFSET_HORIZONTAL:position.x+=dims.OFFSET_HORIZONTAL,position.y+menuHeight>windowH?position.y=Math.max(position.y-menuHeight,10)-dims.OFFSET_VERTICAL:position.y+=dims.OFFSET_VERTICAL,position},ContextMenu.prototype.componentDidMount=function(){this._modelOpen=this.modelOpen.bind(this),_pydioModelContextMenu2.default.getInstance().observe("open",this._modelOpen)},ContextMenu.prototype.componentWillUnmount=function(){_pydioModelContextMenu2.default.getInstance().stopObserving("open",this._modelOpen)},ContextMenu.prototype.render=function(){var mobile=this.props.pydio.UI.MOBILE_EXTENSIONS;return React.createElement(_PopupMenu2.default,{ref:"menu",menuItems:this._items||[],onMenuClosed:this.props.onMenuClosed,menuProps:mobile?{width:600,autoWidth:!1,desktop:!1}:{},zDepth:mobile?2:1})},ContextMenu}(Component);exports.default=ContextMenu,module.exports=exports.default},{"./PopupMenu":38,"./Utils":40,"pydio/model/context-menu":"pydio/model/context-menu",react:"react"}],35:[function(require,module,exports){"use strict";exports.__esModule=!0;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _Utils=require("./Utils"),_Utils2=_interopRequireDefault(_Utils),_MenuItemsConsumer=require("./MenuItemsConsumer"),_MenuItemsConsumer2=_interopRequireDefault(_MenuItemsConsumer),PropTypes=require("prop-types"),React=require("react"),_require=require("material-ui"),IconButton=_require.IconButton,Popover=_require.Popover,IconButtonMenu=function(_React$Component){_inherits(IconButtonMenu,_React$Component);function IconButtonMenu(props,context){_classCallCheck(this,IconButtonMenu),_React$Component.call(this,props,context),this.state={showMenu:!1}}return IconButtonMenu.prototype.showMenu=function(event){this.setState({showMenu:!0,anchor:event.currentTarget})},IconButtonMenu.prototype.closeMenu=function(event,index,menuItem){this.setState({showMenu:!1})},IconButtonMenu.prototype.render=function(){var _this=this,_props=this.props,menuItems=_props.menuItems,className=_props.className,buttonTitle=_props.buttonTitle,buttonClassName=_props.buttonClassName,containerStyle=_props.containerStyle,style=_props.style,buttonStyle=_props.buttonStyle,popoverDirection=_props.popoverDirection,popoverTargetPosition=_props.popoverTargetPosition,menuProps=_props.menuProps;return menuItems.length?React.createElement("span",{className:"toolbars-button-menu "+(className||""),style:containerStyle},React.createElement(IconButton,{ref:"menuButton",tooltip:buttonTitle,iconClassName:buttonClassName,onClick:this.showMenu.bind(this),iconStyle:buttonStyle,style:style}),React.createElement(Popover,{open:this.state.showMenu,anchorEl:this.state.anchor,
anchorOrigin:{horizontal:popoverDirection||"right",vertical:popoverTargetPosition||"bottom"},targetOrigin:{horizontal:popoverDirection||"right",vertical:"top"},onRequestClose:function(){_this.setState({showMenu:!1})},useLayerForClickAway:!1},_Utils2.default.itemsToMenu(menuItems,this.closeMenu.bind(this),!1,menuProps||void 0))):null},IconButtonMenu}(React.Component);IconButtonMenu.propTypes={buttonTitle:PropTypes.string.isRequired,buttonClassName:PropTypes.string.isRequired,className:PropTypes.string,popoverDirection:PropTypes.oneOf(["right","left"]),popoverPosition:PropTypes.oneOf(["top","bottom"]),menuProps:PropTypes.object,menuItems:PropTypes.array.isRequired},exports.default=_MenuItemsConsumer2.default(IconButtonMenu),module.exports=exports.default},{"./MenuItemsConsumer":37,"./Utils":40,"material-ui":"material-ui","prop-types":"prop-types",react:"react"}],36:[function(require,module,exports){"use strict";exports.__esModule=!0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var PropTypes=require("prop-types"),React=require("react"),_require=require("material-ui"),IconButton=_require.IconButton,Popover=_require.Popover,IconButtonPopover=function(_React$Component){_inherits(IconButtonPopover,_React$Component);function IconButtonPopover(props,context){_classCallCheck(this,IconButtonPopover),_React$Component.call(this,props,context),this.state={showPopover:!1}}return IconButtonPopover.prototype.showPopover=function(event){this.setState({showPopover:!0,anchor:event.currentTarget})},IconButtonPopover.prototype.render=function(){var _this=this;return React.createElement("span",{className:"toolbars-button-menu "+(this.props.className?this.props.className:"")},React.createElement(IconButton,{ref:"menuButton",tooltip:this.props.buttonTitle,iconClassName:this.props.buttonClassName,onClick:this.showPopover.bind(this),iconStyle:this.props.buttonStyle}),React.createElement(Popover,{open:this.state.showPopover,anchorEl:this.state.anchor,anchorOrigin:{horizontal:this.props.direction||"right",vertical:"bottom"},targetOrigin:{horizontal:this.props.direction||"right",vertical:"top"},onRequestClose:function(){_this.setState({showPopover:!1})},useLayerForClickAway:!1},this.props.popoverContent))},IconButtonPopover}(React.Component);IconButtonPopover.propTypes={buttonTitle:PropTypes.string.isRequired,buttonClassName:PropTypes.string.isRequired,className:PropTypes.string,direction:PropTypes.oneOf(["right","left"]),popoverContent:PropTypes.object.isRequired},exports.default=IconButtonPopover,module.exports=exports.default},{"material-ui":"material-ui","prop-types":"prop-types",react:"react"}],37:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _Utils=require("./Utils"),_Utils2=_interopRequireDefault(_Utils),_lodash=require("lodash"),React=require("react"),PropTypes=require("prop-types"),Controller=require("pydio/model/controller");exports.default=function(Component){var Wrapped=function(_React$Component){_inherits(Wrapped,_React$Component);function Wrapped(props,context){_classCallCheck(this,Wrapped),_React$Component.call(this,props,context),this.state={menuItems:this.props.menuItems||[]}}return Wrapped.prototype.componentDidMount=function(){var _this=this;if(this.props.controller&&!this.props.menuItems){var observer=function(){var actions=_this.props.controller.getContextActions("genericContext",null,_this.props.toolbars),menuItems=_Utils2.default.pydioActionsToItems(actions);_this.setState({menuItems:menuItems})};this._observer=_lodash.debounce(observer,50),this.props.controller===this.props.pydio.Controller?this.props.pydio.observe("actions_refreshed",this._observer):this.props.controller.observe("actions_refreshed",this._observer),this._observer()}},Wrapped.prototype.componentWillUnmount=function(){this._observer&&(this.props.controller===this.props.pydio.Controller?this.props.pydio.stopObserving("actions_refreshed",this._observer):this.props.controller.stopObserving("actions_refreshed",this._observer))},Wrapped.prototype.componentWillReceiveProps=function(nextProps){nextProps.menuItems&&nextProps.menuItems!==this.props.menuItems&&this.setState({menuItems:nextProps.menuItems})},Wrapped.prototype.render=function(){return React.createElement(Component,_extends({},this.props,{menuItems:this.state.menuItems}))},Wrapped}(React.Component);return Wrapped.propTypes={menuItems:PropTypes.array,toolbars:PropTypes.array,controller:PropTypes.instanceOf(Controller),pydio:PropTypes.instanceOf(Pydio)},Wrapped},module.exports=exports.default},{"./Utils":40,lodash:68,"prop-types":"prop-types","pydio/model/controller":"pydio/model/controller",react:"react"}],38:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _Utils=require("./Utils"),_Utils2=_interopRequireDefault(_Utils),PropTypes=require("prop-types"),React=require("react"),ReactDOM=require("react-dom"),_require=require("material-ui"),Paper=(_require.Menu,_require.Paper),_default=function(_React$Component){_inherits(_default,_React$Component);function _default(){var _this=this;_classCallCheck(this,_default),_React$Component.apply(this,arguments),this.state={showMenu:!1,menuItems:this.props.menuItems},this.showMenu=function(){var style=arguments.length<=0||void 0===arguments[0]?null:arguments[0],menuItems=arguments.length<=1||void 0===arguments[1]?null:arguments[1];_this.setState({showMenu:!0,style:style,menuItems:menuItems||_this.state.menuItems})},this.hideMenu=function(event){if(!event)return _this.setState({showMenu:!1}),void(_this.props.onMenuClosed&&_this.props.onMenuClosed());if(void 0===event||2!==event.button||"contextmenu"===event.type){var node=ReactDOM.findDOMNode(_this.refs.menuContainer);node.contains(event.target)||node===event.target||(_this.setState({showMenu:!1}),_this.props.onMenuClosed&&_this.props.onMenuClosed())}},this.menuClicked=function(event,index,menuItem){_this.hideMenu()}}return _default.prototype.componentDidMount=function(){this._observer=this.hideMenu},_default.prototype.componentWillUnmount=function(){document.removeEventListener("click",this._observer,!1)},_default.prototype.componentWillReceiveProps=function(nextProps){nextProps.menuItems&&this.setState({menuItems:nextProps.menuItems})},_default.prototype.componentDidUpdate=function(prevProps,nextProps){this.state.showMenu?document.addEventListener("click",this._observer,!1):document.removeEventListener("click",this._observer,!1)},_default.prototype.render=function(){var style=this.state.style||{};style=_extends({},style,{zIndex:1e3});var menu=_Utils2.default.itemsToMenu(this.state.menuItems,this.menuClicked,!1,_extends({desktop:!0,display:"right",width:250},this.props.menuProps));return this.state.showMenu?React.createElement(Paper,{zDepth:this.props.zDepth||1,ref:"menuContainer",className:"menu-positioner",style:style},menu):null},_createClass(_default,null,[{key:"propTypes",value:{menuItems:PropTypes.array.isRequired,onExternalClickCheckElements:PropTypes.func,className:PropTypes.string,style:PropTypes.object,onMenuClosed:PropTypes.func},enumerable:!0}]),_default}(React.Component);exports.default=_default,module.exports=exports.default},{"./Utils":40,"material-ui":"material-ui","prop-types":"prop-types",react:"react","react-dom":"react-dom"}],39:[function(require,module,exports){(function(global){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_react=require("react"),_react2=_interopRequireDefault(_react),_createReactClass=require("create-react-class"),_createReactClass2=_interopRequireDefault(_createReactClass),_Utils=require("./Utils"),_Utils2=_interopRequireDefault(_Utils),_IconButtonMenu=require("./IconButtonMenu"),_IconButtonMenu2=_interopRequireDefault(_IconButtonMenu),_ButtonMenu=require("./ButtonMenu"),_ButtonMenu2=_interopRequireDefault(_ButtonMenu),_ButtonComposed=require("./ButtonComposed"),_ButtonComposed2=_interopRequireDefault(_ButtonComposed),_IconButtonPopover=require("./IconButtonPopover"),_IconButtonPopover2=_interopRequireDefault(_IconButtonPopover),_materialUi=require("material-ui"),_lodash=require("lodash");exports.default=_createReactClass2.default({displayName:"Toolbar",propTypes:{toolbars:_propTypes2.default.array,groupOtherList:_propTypes2.default.array,renderingType:_propTypes2.default.string,controller:_propTypes2.default.instanceOf(Controller),toolbarStyle:_propTypes2.default.object,buttonStyle:_propTypes2.default.object,fabAction:_propTypes2.default.string,buttonMenuNoLabel:_propTypes2.default.bool},componentDidMount:function(){var observer=function(){this.isMounted()&&this.setState({groups:this.props.controller.getToolbarsActions(this.props.toolbars,this.props.groupOtherList)})}.bind(this);this._observer=_lodash.debounce(observer,50),this.props.controller===pydio.Controller?pydio.observe("actions_refreshed",this._observer):this.props.controller.observe("actions_refreshed",this._observer)},componentWillUnmount:function(){this.props.controller===pydio.Controller?pydio.stopObserving("actions_refreshed",this._observer):this.props.controller.stopObserving("actions_refreshed",this._observer)},componentWillReceiveProps:function(nextProps){nextProps.toolbars!==this.props.toolbars&&this.setState({groups:this.props.controller.getToolbarsActions(nextProps.toolbars,nextProps.groupOtherList)})},getInitialState:function(){return{groups:this.props.controller.getToolbarsActions(this.props.toolbars,this.props.groupOtherList)}},getDefaultProps:function(){return{controller:global.pydio.Controller,renderingType:"button",groupOtherList:[]}},render:function(){var groups=this.state.groups,actions=[],_props=this.props,toolbars=_props.toolbars,renderingType=_props.renderingType,groupOtherList=_props.groupOtherList,buttonStyle=_props.buttonStyle,mergeItemsAsOneMenu=_props.mergeItemsAsOneMenu,tooltipPosition=_props.tooltipPosition,controller=_props.controller,fabAction=_props.fabAction,toolbarStyle=_props.toolbarStyle,buttonMenuNoLabel=_props.buttonMenuNoLabel,buttonMenuPopoverDirection=_props.buttonMenuPopoverDirection,flatButtonStyle=_props.flatButtonStyle,allToolbars=[].concat(toolbars);groupOtherList.length&&(allToolbars=allToolbars.concat(["MORE_ACTION"]));var mergedMenuItems=[];if(allToolbars.map(function(barName){groups.has(barName)&&groups.get(barName).map(function(action){if(!action.deny){var menuItems=void 0,popoverContent=void 0,menuTitle=void 0,menuIcon=void 0,menuItemsUseMasterAction=void 0,actionName=action.options.name;if(menuTitle=pydio.MessageHash[action.options.text_id]||action.options.text,menuIcon=action.options.icon_class,"MORE_ACTION"===barName?function(){var subItems=action.subMenuItems.dynamicItems,items=[];subItems.map(function(obj){obj.separator?items.push(obj):obj.actionId&&!obj.actionId.deny&&items.push(obj.actionId.getMenuData())}),menuItems=_Utils2.default.pydioActionsToItems(items),menuIcon="mdi mdi-dots-vertical"}():action.subMenuItems.staticItems?menuItems=_Utils2.default.pydioActionsToItems(action.subMenuItems.staticItems):action.subMenuItems.dynamicBuilder?menuItems=_Utils2.default.pydioActionsToItems(action.subMenuItems.dynamicBuilder(controller)):action.subMenuItems.popoverContent&&(popoverContent=action.subMenuItems.popoverContent),menuItems&&action.subMenuItems.masterAction&&function(){var masterAction=controller.getActionByName(action.subMenuItems.masterAction);masterAction&&!masterAction.deny&&(menuItemsUseMasterAction=function(){masterAction.apply()})}(),mergeItemsAsOneMenu&&void 0!==menuItems)return void(mergedMenuItems=[].concat(mergedMenuItems,[{subHeader:menuTitle}],menuItems,[{separator:!0}]));var id="action-"+action.options.name;if("button-icon"===renderingType&&(menuTitle=_react2.default.createElement("span",{className:"button-icon"},_react2.default.createElement("span",{className:"button-icon-icon "+menuIcon}),_react2.default.createElement("span",{className:"button-icon-label"},menuTitle))),menuItems)"button"===renderingType||"button-icon"===renderingType?menuItemsUseMasterAction?actions.push(_react2.default.createElement(_ButtonComposed2.default,{key:actionName,className:id,buttonTitle:menuTitle,menuItems:menuItems,masterAction:menuItemsUseMasterAction,buttonStyle:flatButtonStyle,buttonLabelStyle:buttonStyle,direction:buttonMenuPopoverDirection})):actions.push(_react2.default.createElement(_ButtonMenu2.default,{key:actionName,className:id,buttonTitle:buttonMenuNoLabel?"":menuTitle,menuItems:menuItems,buttonStyle:flatButtonStyle,buttonLabelStyle:buttonStyle,direction:buttonMenuPopoverDirection})):actions.push(_react2.default.createElement(_IconButtonMenu2.default,{key:actionName,className:id,onMenuClicked:function(object){object.payload()},buttonClassName:menuIcon,buttonTitle:menuTitle,menuItems:menuItems,buttonStyle:buttonStyle,style:flatButtonStyle,popoverDirection:buttonMenuPopoverDirection}));else if(popoverContent)actions.push(_react2.default.createElement(_IconButtonPopover2.default,{key:actionName,className:id,buttonClassName:menuIcon,buttonTitle:menuTitle,buttonStyle:buttonStyle,popoverContent:popoverContent}));else{var click=function(){action.apply()};fabAction&&fabAction===actionName?actions.push(_react2.default.createElement(_materialUi.FloatingActionButton,{key:actionName,onClick:click,iconClassName:menuIcon,mini:!0,backgroundColor:toolbarStyle.backgroundColor,style:{position:"absolute",top:-20,left:10}})):"button-icon"===renderingType?actions.push(_react2.default.createElement(_materialUi.FlatButton,{key:actionName,className:id,onClick:click,label:menuTitle,labelStyle:buttonStyle,style:flatButtonStyle})):"button"===renderingType?actions.push(_react2.default.createElement(_materialUi.FlatButton,{key:actionName,className:id,onClick:click,label:menuTitle,labelStyle:buttonStyle,style:flatButtonStyle})):actions.push(_react2.default.createElement(_materialUi.IconButton,{key:actionName,iconClassName:menuIcon+" "+id,iconStyle:buttonStyle,style:flatButtonStyle,onClick:click,tooltip:menuTitle,tooltipPosition:tooltipPosition}))}}})}),mergeItemsAsOneMenu&&mergedMenuItems.length){mergedMenuItems.pop();var _props2=this.props,mergedMenuIcom=_props2.mergedMenuIcom,mergedMenuTitle=_props2.mergedMenuTitle;actions.push(_react2.default.createElement(_IconButtonMenu2.default,{key:toolbars.join("-"),className:"toolbar-"+toolbars.join("-"),onMenuClicked:function(object){object.payload()},buttonClassName:mergedMenuIcom,buttonTitle:mergedMenuTitle,menuItems:mergedMenuItems,buttonStyle:buttonStyle,style:flatButtonStyle,popoverDirection:buttonMenuPopoverDirection}))}var cName=this.props.className?this.props.className:"";cName+=" toolbar",actions.length||(cName+=" empty-toolbar");var style=_extends({},toolbarStyle);return _react2.default.createElement("div",{className:cName,style:style,id:this.props.id},actions)}}),module.exports=exports.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ButtonComposed":32,"./ButtonMenu":33,"./IconButtonMenu":35,"./IconButtonPopover":36,"./Utils":40,"create-react-class":"create-react-class",lodash:68,"material-ui":"material-ui","prop-types":"prop-types",react:"react"}],40:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_materialUi=require("material-ui");function pydioActionsToItems(){var actions=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],items=[],lastIsSeparator=!1,messages=_pydio2.default.getMessages();return actions.map(function(action){if(action.separator){if(lastIsSeparator)return;return items.push(action),void(lastIsSeparator=!0)}lastIsSeparator=!1;var label=void 0;label=action.label_id&&messages[action.label_id]?messages[action.label_id]:action.raw_name?action.raw_name:action.name;var iconClass=action.icon_class;if(action.subMenu){var subItems=action.subMenuBeforeShow?pydioActionsToItems(action.subMenuBeforeShow()):action.subMenu;items.push({text:label,iconClassName:iconClass,subItems:subItems})}else items.push({text:label,iconClassName:iconClass,payload:action.callback})}.bind(this)),lastIsSeparator&&(items=items.slice(0,items.length-1)),items.length&&items[0]&&items[0].separator&&items.shift(),items}function itemsToMenu(items,closeMenuCallback){var subItemsOnly=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],menuProps=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];menuProps=_extends({display:"normal",width:216,desktop:!0,autoWidth:!1},menuProps);var menuItems=items.map(function(item,index){if(item.separator)return React.createElement(_materialUi.Divider,{key:"divider"+index});if(item.subHeader)return React.createElement(_materialUi.Subheader,{style:{marginTop:-10,marginBottom:-6}},item.subHeader);var subItems=void 0,payload=void 0;item.subItems?subItems=itemsToMenu(item.subItems,closeMenuCallback,!0):item.payload&&(payload=function(){item.payload(),closeMenuCallback()});var leftIcon=void 0,rightIcon=void 0,iconClassName=item.iconClassName,inset=!1;return"__INSET__"===iconClassName&&(iconClassName="",inset=!0),"normal"===menuProps.display?leftIcon=iconClassName?React.createElement(_materialUi.FontIcon,{className:item.iconClassName+" menu-icons",style:{fontSize:16,padding:5}}):null:"right"===menuProps.display&&(rightIcon=iconClassName?React.createElement(_materialUi.FontIcon,{className:item.iconClassName+" menu-icons",style:{fontSize:16,padding:5}}):null),rightIcon=subItems&&subItems.length?React.createElement(_materialUi.FontIcon,{className:"mdi mdi-menu-right menu-icons"}):rightIcon,React.createElement(_materialUi.MenuItem,{key:item.text,primaryText:item.text,insetChildren:inset,leftIcon:leftIcon,rightIcon:rightIcon,onClick:payload,menuItems:subItems})});return subItemsOnly?menuItems:React.createElement(_materialUi.Menu,menuProps,menuItems)}exports.default={pydioActionsToItems:pydioActionsToItems,itemsToMenu:itemsToMenu},module.exports=exports.default},{"material-ui":"material-ui",pydio:"pydio"}],41:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_materialUi=require("material-ui"),_materialUiStyles=require("material-ui/styles"),_pydioHttpPolicies=require("pydio/http/policies"),_pydioHttpPolicies2=_interopRequireDefault(_pydioHttpPolicies),_cellsSdk=require("cells-sdk"),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_pydio2=require("pydio"),_pydio3=_interopRequireDefault(_pydio2),_pydioHttpApi=require("pydio/http/api"),_pydioHttpApi2=_interopRequireDefault(_pydioHttpApi),_usersUsersCompleter=require("../users/UsersCompleter"),_usersUsersCompleter2=_interopRequireDefault(_usersUsersCompleter),ResourcePoliciesPanel=function(_React$Component){_inherits(ResourcePoliciesPanel,_React$Component);function ResourcePoliciesPanel(props){_classCallCheck(this,ResourcePoliciesPanel),props.subjectsDisabled||(props.subjectsDisabled={READ:{},WRITE:{}}),props.cellAcls&&Object.keys(props.cellAcls).map(function(k){props.cellAcls[k].RoleId&&(props.subjectsDisabled.READ["role:"+props.cellAcls[k].RoleId]=!0)}),_React$Component.call(this,props),this.state={edit:!1,loading:!0,policies:[],diffPolicies:{add:{},remove:{}},hideGroups:!0===_pydio3.default.getInstance().getPluginConfigs("action.advanced_settings").get("DISABLE_SHARE_GROUPS")}}return ResourcePoliciesPanel.prototype.componentDidMount=function(){this.setState({loading:!0}),this.reload()},ResourcePoliciesPanel.prototype.reload=function(){var _this=this,_props=this.props,resourceType=_props.resourceType,resourceId=_props.resourceId,_pydio=pydio,user=_pydio.user,proms=[_pydioHttpPolicies2.default.loadPolicies(resourceType,resourceId),user.getIdmUser()];"team"!==resourceType&&proms.push(_pydioHttpApi2.default.getRestClient().getIdmApi().listTeams()),Promise.all(proms).then(function(result){var policies=result[0],resourceUuid=policies[0].Resource,idmUser=result[1],teams=[];"team"!==resourceType&&result[2]&&(teams=result[2].Teams),_this.setState({policies:policies,idmUser:idmUser,userTeams:teams,loading:!1,resourceUuid:resourceUuid})}).catch(function(error){_this.setState({error:error.message,loading:!1})})},ResourcePoliciesPanel.prototype.revert=function(){this.setState({dirtyPolicies:null,diffPolicies:{add:{},remove:{}}})},ResourcePoliciesPanel.prototype.save=function(){var _this2=this,_state=this.state,dirtyPolicies=_state.dirtyPolicies,diffPolicies=_state.diffPolicies,_props2=this.props,resourceType=_props2.resourceType,resourceId=_props2.resourceId,onSavePolicies=_props2.onSavePolicies;_pydioHttpPolicies2.default.savePolicies(resourceType,resourceId,dirtyPolicies).then(function(result){_this2.setState({policies:result,dirtyPolicies:null,diffPolicies:{add:{},remove:{}}}),onSavePolicies&&onSavePolicies(diffPolicies)}).catch(function(reason){_this2.setState({error:reason.message})})},ResourcePoliciesPanel.prototype.removePolicy=function(action,subject){var _state2=this.state,policies=_state2.policies,dirtyPolicies=_state2.dirtyPolicies,diffPolicies=_state2.diffPolicies;dirtyPolicies&&(policies=dirtyPolicies);var newPolicies=[];policies.map(function(p){p.Action===action&&p.Subject===subject||newPolicies.push(p)}),diffPolicies.remove[action+"///"+subject]=!0,diffPolicies.add[action+"///"+subject]&&delete diffPolicies.add[action+"///"+subject],this.setState({dirtyPolicies:newPolicies,diffPolicies:diffPolicies})},ResourcePoliciesPanel.prototype.addPolicy=function(action,subject){var isPickedUser=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],_state3=this.state,policies=_state3.policies,dirtyPolicies=_state3.dirtyPolicies,resourceUuid=_state3.resourceUuid,diffPolicies=_state3.diffPolicies,newPolicies=[].concat(dirtyPolicies?dirtyPolicies:policies),newPol=new _cellsSdk.ServiceResourcePolicy;newPol.Resource=resourceUuid,newPol.Effect="allow",newPol.Subject=subject,newPol.Action=action,newPolicies.push(newPol),diffPolicies.add[action+"///"+subject]=!0,diffPolicies.remove[action+"///"+subject]&&delete diffPolicies.remove[action+"///"+subject],isPickedUser?this.setState({dirtyPolicies:newPolicies,diffPolicies:diffPolicies,pickedUser:null,pickedLabel:null}):this.setState({dirtyPolicies:newPolicies,diffPolicies:diffPolicies})},ResourcePoliciesPanel.prototype.hasOneWrite=function(policies){var idmUser=this.state.idmUser,userSubjects=idmUser.Roles.map(function(role){return"role:"+role.Uuid});userSubjects.push("user:"+idmUser.Login);for(var i=0;i<userSubjects.length;i++)for(var j=0;j<policies.length;j++)if(policies[j].Subject===userSubjects[i]&&"WRITE"===policies[j].Action)return!0;return!1},ResourcePoliciesPanel.prototype.findCrtUserSubject=function(policies){var idmUser=this.state.idmUser,search=["user:"+idmUser.Login,"role:"+idmUser.Uuid],pp=policies.filter(function(p){return search.indexOf(p.Subject)>-1});return pp.length?pp[0].Subject:search[0]},ResourcePoliciesPanel.prototype.listUserRoles=function(policies){var _state4=this.state,hideGroups=_state4.hideGroups,idmUser=_state4.idmUser,crtUserSubject=this.findCrtUserSubject(policies),hasWrite=this.hasOneWrite(policies),values={};idmUser.Roles.map(function(role){role.GroupRole&&!hideGroups&&(values["role:"+role.Uuid]=role.Label)}),values=_extends({},this.listOtherUsersSubjects(policies,crtUserSubject),values),values[crtUserSubject]="You";for(var keys=Object.keys(values),groupBlocks=[],i=keys.length-1;i>=0;i--){var newKey=keys[i],newVal=values[newKey];groupBlocks.push(this.renderLine(newKey,newVal,policies,!hasWrite||newKey===crtUserSubject))}return{groupBlocks:groupBlocks,hasWrite:hasWrite}},ResourcePoliciesPanel.prototype.listUserTeams=function(userTeams,policies,disabled){var _this3=this;return userTeams.map(function(role){return _this3.renderLine("role:"+role.Uuid,role.Label,policies,disabled)})},ResourcePoliciesPanel.prototype.listOtherUsersSubjects=function(policies,currentUserSubject){var _props3=this.props,resourceId=_props3.resourceId,cellAcls=_props3.cellAcls,hideGroups=this.state.hideGroups,subs={};return policies.map(function(p){if(0===p.Subject.indexOf("user:")&&p.Subject!==currentUserSubject&&p.Subject!=="user:"+resourceId&&(subs[p.Subject]=p.Subject.substr("user:".length)),cellAcls&&0===p.Subject.indexOf("role:")&&cellAcls[p.Subject.substr("role:".length)]){var roleId=p.Subject.substr("role:".length);if(cellAcls[roleId].User){var usr=cellAcls[roleId].User;currentUserSubject!=="user:"+usr.Login&&currentUserSubject!=="role:"+usr.Uuid&&(subs[p.Subject]=usr.Attributes&&usr.Attributes.displayName?usr.Attributes.displayName:usr.Login)}else if(cellAcls[roleId].Group&&!hideGroups){var grp=cellAcls[roleId].Group;subs[p.Subject]=grp.Attributes&&grp.Attributes.displayName?grp.Attributes.displayName:grp.GroupLabel}}}),subs},ResourcePoliciesPanel.prototype.pickUser=function(userOrRole){var subject=void 0,label=void 0;if(userOrRole.IdmUser){var IdmUser=userOrRole.IdmUser,attributes=IdmUser.Attributes||{};IdmUser.IsGroup?(subject="role:"+IdmUser.Uuid,label=attributes.displayName||IdmUser.GroupLabel):(subject="user:"+IdmUser.Login,label=attributes.displayName||IdmUser.Login)}else{var IdmRole=userOrRole.IdmRole;subject="role:"+IdmRole.Uuid,label=IdmRole.Label}this.setState({pickedUser:subject,pickedLabel:label})},ResourcePoliciesPanel.prototype.renderLine=function(subject,label,policies,disabled){var _this4=this,isPickedUser=!(arguments.length<=4||void 0===arguments[4])&&arguments[4],_props4=this.props,subjectsDisabled=_props4.subjectsDisabled,subjectsHidden=_props4.subjectsHidden,readonly=_props4.readonly;if(subjectsHidden&&subjectsHidden[subject])return null;var read=!1,write=!1,readChange=function(){_this4.addPolicy("READ",subject,isPickedUser)},writeChange=function(){_this4.addPolicy("WRITE",subject,isPickedUser)};policies.map(function(p){p.Subject===subject&&("WRITE"===p.Action?(write="WRITE"===p.Action,writeChange=function(){_this4.removePolicy("WRITE",subject)}):"READ"===p.Action&&(read="READ"===p.Action,readChange=function(){_this4.removePolicy("READ",subject)}))});var disableWrite=disabled,disableRead=disabled;return readonly?(disableRead=!0,disableWrite=!0):(subjectsDisabled&&subjectsDisabled.READ&&subjectsDisabled.READ[subject]&&(disableRead=!0),subjectsDisabled&&subjectsDisabled.WRITE&&subjectsDisabled.WRITE[subject]&&(disableWrite=!0)),console.log("Line",subject,label,disableRead,disableWrite),_react2.default.createElement("div",{style:{display:"flex",margin:10,marginRight:0}},_react2.default.createElement("div",{style:{flex:1}},label),_react2.default.createElement(_materialUi.Checkbox,{checked:read,disabled:disableRead,style:{width:40},onCheck:readChange}),_react2.default.createElement(_materialUi.Checkbox,{checked:write,disabled:disableWrite,style:{width:40},onCheck:writeChange}))},ResourcePoliciesPanel.prototype.render=function(){var _this5=this,appBar=this.props.muiTheme.appBar,styles={title:{paddingLeft:10,backgroundColor:appBar.color,display:"flex",alignItems:"center",fontSize:16,color:appBar.textColor},subheader:{margin:10,fontWeight:500,color:"#9E9E9E",display:"flex"},subject:{margin:10},head:{display:"inline-block",width:40,textAlign:"center",fontSize:10}},_state5=this.state,edit=_state5.edit,policies=_state5.policies,dirtyPolicies=_state5.dirtyPolicies,error=_state5.error,idmUser=_state5.idmUser,userTeams=_state5.userTeams,loading=_state5.loading,pickedUser=_state5.pickedUser,pickedLabel=_state5.pickedLabel,_props5=this.props,onDismiss=_props5.onDismiss,style=_props5.style,skipTitle=_props5.skipTitle,resourceId=_props5.resourceId,pydio=_props5.pydio,userListExcludes=_props5.userListExcludes,readonly=_props5.readonly,description=_props5.description,blocks=[],mess=pydio.MessageHash;if(!edit)return _react2.default.createElement("div",{style:style
},!skipTitle&&_react2.default.createElement("div",{style:_extends({},styles.title,{height:48})},_react2.default.createElement("span",{style:{flex:1}},mess["visibility.panel.title"])),_react2.default.createElement("div",{style:{padding:20,color:"rgba(0,0,0,.43)",fontWeight:500,textAlign:"justify"}},_react2.default.createElement("div",{style:{paddingBottom:20}},description),_react2.default.createElement("div",{style:{textAlign:"center"}},_react2.default.createElement(_materialUi.RaisedButton,{label:mess["visibility.panel.edit"],primary:!0,onClick:function(){_this5.setState({edit:!0})}}))));if(!loading&&!error){var _listUserRoles=this.listUserRoles(dirtyPolicies||policies),groupBlocks=_listUserRoles.groupBlocks,hasWrite=_listUserRoles.hasWrite,teamBlocks=this.listUserTeams(userTeams,dirtyPolicies||policies,!hasWrite),heads=_react2.default.createElement("div",null,_react2.default.createElement("span",{style:styles.head},mess["visibility.panel.right-read"]),_react2.default.createElement("span",{style:styles.head},mess["visibility.panel.right-edit"]));groupBlocks.length&&(blocks.push(_react2.default.createElement("div",{style:styles.subheader},_react2.default.createElement("span",{style:{flex:1}},mess["visibility.panel.list.users"]),heads)),blocks.push(groupBlocks),blocks.push(_react2.default.createElement(_materialUi.Divider,null))),teamBlocks.length&&(blocks.push(_react2.default.createElement("div",{style:styles.subheader},_react2.default.createElement("span",{style:{flex:1}},mess["visibility.panel.list.teams"]),heads)),blocks.push(teamBlocks),blocks.push(_react2.default.createElement(_materialUi.Divider,null))),pickedUser?(blocks.push(_react2.default.createElement("div",{style:styles.subheader},mess["visibility.panel.setvisible"])),blocks.push(this.renderLine(pickedUser,pickedLabel,policies,!1,!0)),blocks.push(_react2.default.createElement("div",{style:{textAlign:"right"}},_react2.default.createElement(_materialUi.FlatButton,{label:mess[54],onClick:function(){_this5.setState({pickedUser:null,pickedLabel:null})}}))),blocks.push(_react2.default.createElement(_materialUi.Divider,null))):readonly||function(){var crtUserSubject="user:"+idmUser.Login,userSubjects=_this5.listOtherUsersSubjects(dirtyPolicies||policies,crtUserSubject),exludes=[];Object.keys(userSubjects).map(function(k){exludes.push(userSubjects[k])}),blocks.push(_react2.default.createElement("div",{style:styles.subheader},mess["visibility.panel.setvisible"])),blocks.push(_react2.default.createElement("div",{style:{margin:"-30px 10px 0"}},_react2.default.createElement(_usersUsersCompleter2.default,{className:"share-form-users",fieldLabel:mess["visibility.panel.pickuser"],renderSuggestion:function(userObject){return _react2.default.createElement("div",{style:{fontSize:13}},userObject.getExtendedLabel())},onValueSelected:_this5.pickUser.bind(_this5),usersOnly:!1,existingOnly:!0,excludes:[resourceId].concat(userListExcludes,exludes),pydio:pydio,showAddressBook:!1,usersFrom:"local"}))),blocks.push(_react2.default.createElement(_materialUi.Divider,null))}(),blocks.pop()}return _react2.default.createElement("div",{style:style},_react2.default.createElement("div",{style:styles.title},_react2.default.createElement("span",{style:{flex:1}},skipTitle?"":mess["visibility.panel.title"]),dirtyPolicies&&_react2.default.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-undo-variant",tooltip:mess["visibility.panel.revert"],onClick:this.revert.bind(this),iconStyle:{color:appBar.textColor}}),dirtyPolicies&&_react2.default.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-content-save",tooltip:mess["visibility.panel.save"],onClick:this.save.bind(this),iconStyle:{color:appBar.textColor}}),!dirtyPolicies&&onDismiss&&_react2.default.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-close",onClick:onDismiss,iconStyle:{color:appBar.textColor}})),error&&_react2.default.createElement("div",null,mess["visibility.panel.error"],": ",error),_react2.default.createElement("div",null,blocks))},ResourcePoliciesPanel}(_react2.default.Component);ResourcePoliciesPanel.PropTypes={pydio:_propTypes2.default.instanceOf(_pydio3.default),resourceType:_propTypes2.default.string.isRequired,resourceId:_propTypes2.default.string.isRequired,description:_propTypes2.default.string.isRequired,onSavePolicies:_propTypes2.default.func,userListExcludes:_propTypes2.default.array,subjectsDisabled:_propTypes2.default.array,subjectsHidden:_propTypes2.default.object,readonly:_propTypes2.default.bool,cellAcls:_propTypes2.default.object,onDismiss:_propTypes2.default.func,style:_propTypes2.default.object,skipTitle:_propTypes2.default.bool},exports.default=ResourcePoliciesPanel=_materialUiStyles.muiThemeable()(ResourcePoliciesPanel),exports.default=ResourcePoliciesPanel,module.exports=exports.default},{"../users/UsersCompleter":46,"cells-sdk":"cells-sdk","material-ui":"material-ui","material-ui/styles":"material-ui/styles","prop-types":"prop-types",pydio:"pydio","pydio/http/api":"pydio/http/api","pydio/http/policies":"pydio/http/policies",react:"react"}],42:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_materialUi=require("material-ui"),_Pydio$requireLib=_pydio2.default.requireLib("hoc"),ModernTextField=_Pydio$requireLib.ModernTextField,StepperDialog=function(_React$Component){_inherits(StepperDialog,_React$Component);function StepperDialog(){_classCallCheck(this,StepperDialog),_React$Component.apply(this,arguments)}return StepperDialog.prototype.componentDidUpdate=function(prevProps){prevProps.random!==this.props.random&&this.refs.dialog&&setTimeout(function(){window.dispatchEvent(new Event("resize"))},0)},StepperDialog.prototype.render=function(){var _props=this.props,title=_props.title,actions=_props.actions,open=_props.open,onDismiss=_props.onDismiss,onFilter=_props.onFilter,customFilter=_props.customFilter,children=_props.children,dialogProps=_props.dialogProps,tt=title;return(onDismiss||onFilter||customFilter)&&(tt=_react2.default.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},_react2.default.createElement("div",{style:{flex:1}},title),customFilter&&_react2.default.createElement("div",{style:{marginRight:16}},customFilter),onFilter&&_react2.default.createElement("div",{style:{width:210,height:34,marginTop:-10,marginRight:onDismiss?50:0}},_react2.default.createElement(ModernTextField,{hintText:"Filter list",onChange:function(e,v){onFilter(v)},fullWidth:!0})),onDismiss&&_react2.default.createElement("div",{style:{position:"absolute",top:11,right:20}},_react2.default.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-close",onClick:onDismiss})))),_react2.default.createElement(_materialUi.Dialog,{ref:"dialog",title:tt,actions:actions,modal:dialogProps.modal,open:open,autoDetectWindowHeight:!0,autoScrollBodyContent:!0,contentClassName:"stepper-dialog",bodyStyle:_extends({backgroundColor:"rgb(236, 239, 241)",borderRadius:"0 0 6px 6px"},dialogProps.bodyStyle),contentStyle:_extends({width:"90%",maxWidth:"none",borderRadius:6},dialogProps.contentStyle),titleStyle:_extends({borderBottom:"none",backgroundColor:"rgb(246, 247, 248)",borderRadius:"6px 6px 0 0"},dialogProps.titleStyle)},children,_react2.default.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:".stepper-dialog > div{border-radius: 6px !important;}"}}))},StepperDialog}(_react2.default.Component);exports.default=StepperDialog,module.exports=exports.default},{"material-ui":"material-ui",pydio:"pydio",react:"react"}],43:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_materialUi=require("material-ui"),styles={root:{paddingTop:20},section:{container:{},title:{},description:{},actions:{}},action:{container:{},icon:{},title:{},description:{}},deleteButton:{},deleteIconProps:{style:{position:"absolute",top:0,right:0},iconStyle:{color:"#bdbdbd",hoverColor:"#9e9e9e"}}},css="\n.react-mui-context .bbpanel .stepper-section-actions {\n    display: flex;\n    flex-wrap: wrap;\n}\n\n.react-mui-context .bbpanel .stepper-section-container {\n    margin-bottom: 30px;\n}\n\n.react-mui-context .bbpanel .stepper-section-title {\n    font-size: 13px;\n    font-weight: 500;\n    color: #455a64;\n    padding-bottom: 20px;    \n}\n\n.react-mui-context .bbpanel .stepper-action-container {\n    margin: 10px;\n    width: 230px;\n    height: 210px;\n    display: flex;\n    flex-direction: column;\n    font-size: 15px;\n    padding: 10px 20px;\n    border-radius: 6px !important;\n    box-shadow: 1px 10px 20px 0 rgba(40,60,75,.15);\n    cursor: pointer;\n    position:relative;\n}\n\n.react-mui-context .bbpanel .stepper-action-container:hover {\n    box-shadow: 1px 10px 20px 0 rgba(40,60,75,.3)\n}\n\n.react-mui-context .bbpanel .stepper-action-icon {\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.react-mui-context .bbpanel .stepper-tag {\n    position: absolute;\n    top: 15px;\n    left: 16px;\n    background-color: #B0BEC5;\n    color: white;\n    padding: 1px 5px;\n    font-size: 12px;\n    height: 19px;\n    line-height: 16px;\n    border-radius: 4px;\n    font-weight: 500;\n}\n\n.react-mui-context .bbpanel .stepper-action-icon > span {\n    font-size: 50px !important;\n}\n\n.react-mui-context .bbpanel .stepper-action-title {\n    padding-bottom: 20px;\n    font-weight: 500;\n    text-align: center;\n    font-size: 16px;\n}\n\n.react-mui-context .bbpanel .stepper-action-description {\n    text-align: center;\n    font-weight: 300;\n    font-size: 13px;\n    padding-bottom: 10px;   \n}\n",PanelBigButtons=function(_React$Component){_inherits(PanelBigButtons,_React$Component);function PanelBigButtons(props){_classCallCheck(this,PanelBigButtons),props.model||(props.model={Sections:[]}),_React$Component.call(this,props)}return PanelBigButtons.prototype.stProps=function(a,b){return{style:styles[a][b],className:"stepper-"+a+"-"+b}},PanelBigButtons.prototype.render=function(){var _this=this,_props=this.props,model=_props.model,style=_props.style,onPick=_props.onPick;return _react2.default.createElement("div",{style:_extends({},styles.root,style),className:"bbpanel"},model.Sections.map(function(ss){return _react2.default.createElement("div",_this.stProps("section","container"),_react2.default.createElement("div",_this.stProps("section","title"),ss.title),_react2.default.createElement("div",_this.stProps("section","description"),ss.description),_react2.default.createElement("div",_this.stProps("section","actions"),ss.Actions.map(function(a){var d=a.description;return d&&d.length>70&&(d=_react2.default.createElement("span",{title:d},d.substr(0,70)+"...")),_react2.default.createElement(_materialUi.Paper,_extends({zDepth:0},_this.stProps("action","container"),{onClick:function(){onPick(a.value)}}),a.tag&&_react2.default.createElement("div",{className:"stepper-tag"},a.tag),a.onDelete&&_react2.default.createElement("div",_this.stProps("action","deleteButton"),_react2.default.createElement(_materialUi.IconButton,_extends({iconClassName:"mdi mdi-close",tooltip:"Remove",onClick:function(e){e.stopPropagation(),a.onDelete()}},styles.deleteIconProps))),_react2.default.createElement("div",_this.stProps("action","icon"),_react2.default.createElement(_materialUi.FontIcon,{color:a.tint||"#03A9F4",className:a.icon})),_react2.default.createElement("div",_this.stProps("action","title"),a.title),_react2.default.createElement("div",_this.stProps("action","description"),d))})))}),_react2.default.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:css}}))},PanelBigButtons}(_react2.default.Component);exports.default=PanelBigButtons,module.exports=exports.default},{"material-ui":"material-ui",react:"react"}],44:[function(require,module,exports){"use strict";exports.__esModule=!0;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_pydioHttpApi=require("pydio/http/api"),_pydioHttpApi2=_interopRequireDefault(_pydioHttpApi),_react=require("react"),_materialUi=require("material-ui"),_Pydio$requireLib=_pydio2.default.requireLib("boot"),PydioContextConsumer=_Pydio$requireLib.PydioContextConsumer,_Pydio$requireLib2=_pydio2.default.requireLib("hoc"),ModernTextField=_Pydio$requireLib2.ModernTextField,TeamCreationForm=function(_Component){_inherits(TeamCreationForm,_Component);function TeamCreationForm(props,context){_classCallCheck(this,TeamCreationForm),_Component.call(this,props,context),this.state={value:""}}return TeamCreationForm.prototype.onChange=function(e,value){this.setState({value:value})},TeamCreationForm.prototype.submitCreationForm=function(){var value=this.state.value;_pydioHttpApi2.default.getRestClient().getIdmApi().saveSelectionAsTeam(value,[],this.props.onTeamCreated)},TeamCreationForm.prototype.render=function(){var _this=this,getMessage=this.props.getMessage;return React.createElement("div",null,React.createElement("div",{style:{padding:20}},React.createElement("div",null,getMessage(591)),React.createElement(ModernTextField,{focusOnMount:!0,floatingLabelText:getMessage(578),value:this.state.value,onChange:this.onChange.bind(this),fullWidth:!0,onKeyPress:function(ev){"Enter"===ev.key&&_this.submitCreationForm()}})),React.createElement("div",null,React.createElement("div",{style:{textAlign:"right",padding:8}},React.createElement(_materialUi.FlatButton,{label:getMessage(49),onClick:this.props.onCancel.bind(this)}),React.createElement(_materialUi.FlatButton,{label:getMessage(579),primary:!0,onClick:this.submitCreationForm.bind(this)}))))},TeamCreationForm}(_react.Component);TeamCreationForm.propTypes={onTeamCreated:_propTypes2.default.func.isRequired,onCancel:_propTypes2.default.func.isRequired},exports.default=TeamCreationForm=PydioContextConsumer(TeamCreationForm),exports.default=TeamCreationForm,module.exports=exports.default},{"material-ui":"material-ui","prop-types":"prop-types",pydio:"pydio","pydio/http/api":"pydio/http/api",react:"react"}],45:[function(require,module,exports){(function(global){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_pydioHttpApi=require("pydio/http/api"),_pydioHttpApi2=_interopRequireDefault(_pydioHttpApi),_materialUi=require("material-ui"),_pydioHttpUsersApi=require("pydio/http/users-api"),_Pydio$requireLib=_pydio2.default.requireLib("form"),Manager=_Pydio$requireLib.Manager,FormPanel=_Pydio$requireLib.FormPanel,UserCreationForm=function(_React$Component){_inherits(UserCreationForm,_React$Component),UserCreationForm.prototype.getCreateUserParameters=function(){var editMode=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],basicParameters=[],pydio=this.props.pydio,MessageHash=pydio.MessageHash,prefix=pydio.getPluginConfigs("action.share").get("SHARED_USERS_TMP_PREFIX");basicParameters.push({IdmUserField:"Login",description:MessageHash[533],readonly:editMode,expose:"true",label:MessageHash[522],name:editMode?"existing_user_id":"new_user_id",scope:"user",type:"valid-login",mandatory:!0,default:prefix||""},{IdmUserField:"Password",description:MessageHash[534],editable:"true",expose:"true",label:MessageHash[523],name:"new_password",scope:"user",type:"valid-password",mandatory:!0});for(var params=global.pydio.getPluginConfigs("auth").get("NEWUSERS_EDIT_PARAMETERS").split(","),i=0;i<params.length;i++)params[i]="user/preferences/pref[@exposed]|//param[@name='"+params[i]+"']";var xPath=params.join("|");return Manager.parseParameters(this.props.pydio.getXmlRegistry(),xPath).map(function(el){basicParameters.push(el)}),editMode||basicParameters.push({description:MessageHash[536],editable:"true",expose:"true",label:MessageHash[535],name:"send_email",scope:"user",type:"boolean",mandatory:!0}),basicParameters},UserCreationForm.prototype.getDefaultProps=function(){return{editMode:!1}},UserCreationForm.prototype.getParameters=function(){return this._parsedParameters||(this._parsedParameters=this.getCreateUserParameters(this.props.editMode)),this._parsedParameters},UserCreationForm.prototype.getValuesForPost=function(prefix){return Manager.getValuesForPOST(this.getParameters(),this.state.values,prefix)};function UserCreationForm(props,context){var _this=this;_classCallCheck(this,UserCreationForm),_React$Component.call(this,props,context);var _props=this.props,pydio=_props.pydio,newUserName=_props.newUserName,editMode=_props.editMode,userData=_props.userData,userPrefix=pydio.getPluginConfigs("action.share").get("SHARED_USERS_TMP_PREFIX");userPrefix&&!newUserName.startsWith(userPrefix)||(userPrefix="");var values={new_password:"",send_email:!0};editMode&&userData&&userData.IdmUser?function(){var IdmUser=userData.IdmUser;_this.getParameters().forEach(function(param){var name=param.name,IdmUserField=param.IdmUserField,scope=param.scope,pluginId=param.pluginId,value=void 0;IdmUserField?value=IdmUser[IdmUserField]:"user"===scope&&IdmUser.Attributes?value=IdmUser.Attributes[name]:pluginId&&IdmUser.Attributes["parameter:"+pluginId+":"+name]&&(value=JSON.parse(IdmUser.Attributes["parameter:"+pluginId+":"+name])),void 0!==value&&(values[name]=value)})}():(values.new_user_id=userPrefix+newUserName,values.lang=pydio.currentLanguage),this.state={values:values}}return UserCreationForm.prototype.onValuesChange=function(newValues){this.setState({values:newValues})},UserCreationForm.prototype.changeValidStatus=function(status){this.setState({valid:status})},UserCreationForm.prototype.submitCreationForm=function(){var _this2=this,existingUser=void 0,_props2=this.props,editMode=_props2.editMode,userData=_props2.userData;editMode&&(existingUser=userData.IdmUser),_pydioHttpApi2.default.getRestClient().getIdmApi().putExternalUser(this.state.values,this.getParameters(),existingUser).then(function(idmUser){_this2.props.onUserCreated(_pydioHttpUsersApi.User.fromIdmUser(idmUser))})},UserCreationForm.prototype.cancelCreationForm=function(){this.props.onCancel()},UserCreationForm.prototype.render=function(){var _props3=this.props,pydio=_props3.pydio,editMode=_props3.editMode,status=(_props3.newUserName,this.state.valid);return status||!editMode||this.state.values.new_password||(status=!0),_react2.default.createElement(_materialUi.Paper,{zDepth:void 0!==this.props.zDepth?this.props.zDepth:2,style:_extends({minHeight:250,display:"flex",flexDirection:"column"},this.props.style)},_react2.default.createElement(FormPanel,{className:"reset-pydio-forms",depth:-1,parameters:this.getParameters(),values:this.state.values,onChange:this.onValuesChange.bind(this),onValidStatusChange:this.changeValidStatus.bind(this),style:{overflowY:"auto",flex:1}}),_react2.default.createElement(_materialUi.Divider,{style:{flexShrink:0}}),_react2.default.createElement("div",{style:{padding:8,textAlign:"right"}},_react2.default.createElement(_materialUi.FlatButton,{label:pydio.MessageHash[49],onClick:this.cancelCreationForm.bind(this)}),_react2.default.createElement(_materialUi.FlatButton,{label:this.props.editMode?pydio.MessageHash[519]:pydio.MessageHash[484],primary:!0,onClick:this.submitCreationForm.bind(this),disabled:!status})))},UserCreationForm}(_react2.default.Component);UserCreationForm.propTypes={newUserName:_propTypes2.default.string,onUserCreated:_propTypes2.default.func.isRequired,onCancel:_propTypes2.default.func.isRequired,editMode:_propTypes2.default.bool,userData:_propTypes2.default.object},exports.default=UserCreationForm,module.exports=exports.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"material-ui":"material-ui","prop-types":"prop-types",pydio:"pydio","pydio/http/api":"pydio/http/api","pydio/http/users-api":"pydio/http/users-api",react:"react"}],46:[function(require,module,exports){(function(global){"use strict";exports.__esModule=!0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_pydioHttpApi=require("pydio/http/api"),_pydioHttpApi2=_interopRequireDefault(_pydioHttpApi),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_addressbookAddressBook=require("./addressbook/AddressBook"),_addressbookAddressBook2=_interopRequireDefault(_addressbookAddressBook),_materialUi=require("material-ui"),_pydioUtilFunc=require("pydio/util/func"),_pydioUtilFunc2=_interopRequireDefault(_pydioUtilFunc),_UserCreationForm=require("./UserCreationForm"),_UserCreationForm2=_interopRequireDefault(_UserCreationForm),UsersLoader=function(_React$Component){_inherits(UsersLoader,_React$Component);function UsersLoader(){var _this=this;_classCallCheck(this,UsersLoader),_React$Component.apply(this,arguments),this.state={dataSource:[],loading:!1,searchText:"",minChars:parseInt(_pydio2.default.getInstance().getPluginConfigs("core.auth").get("USERS_LIST_COMPLETE_MIN_CHARS")),hideGroups:!0===_pydio2.default.getInstance().getPluginConfigs("action.advanced_settings").get("DISABLE_SHARE_GROUPS")},this.suggestionLoader=function(input,callback){var _props=_this.props,excludes=_props.excludes,usersOnly=_props.usersOnly,hideGroups=_this.state.hideGroups;_this.setState({loading:_this.state.loading+1});var api=_pydioHttpApi2.default.getRestClient().getIdmApi(),proms=[];proms.push(api.listUsers("/",input,!0,0,20)),hideGroups||usersOnly?proms.push(Promise.resolve({Groups:[]})):proms.push(api.listGroups("/",input,!0,0,20)),usersOnly?proms.push(Promise.resolve({Teams:[]})):proms.push(api.listTeams(input,0,20)),Promise.all(proms).then(function(results){_this.setState({loading:_this.state.loading-1});var users=results[0],groups=results[1],teams=results[2];users=users.Users,groups=groups.Groups,teams=teams.Teams,excludes&&excludes.length&&(users=users.filter(function(user){return-1===excludes.indexOf(user.Login)}),groups=groups.filter(function(group){return-1===excludes.indexOf(group.GroupLabel)}),teams=teams.filter(function(team){return excludes.indexOf(-1===team.Label)})),callback([].concat(groups.map(function(u){return{IdmUser:u}}),teams.map(function(u){return{IdmRole:u}}),users.map(function(u){return{IdmUser:u}})))})},this.textFieldUpdate=function(value){_this.setState({searchText:value}),_this.state.minChars&&value&&value.length<_this.state.minChars||_this.loadBuffered(value,350)},this.getPendingSearchText=function(){return _this.state.searchText||!1},this.loadBuffered=function(value,timeout){if(!value&&_this._emptyValueList)return void _this.setState({dataSource:_this._emptyValueList});var _props2=_this.props,existingOnly=_props2.existingOnly,freeValueAllowed=_props2.freeValueAllowed,excludes=_props2.excludes;_pydioUtilFunc2.default.bufferCallback("remote_users_search",timeout,function(){this.setState({loading:!0});var excluded=[_pydio2.default.getInstance().user.id,"pydio.anon.user"];this.suggestionLoader(value,function(users){var valueExists=!1,values=users.filter(function(userObject){return!(userObject.IdmUser&&!userObject.IdmUser.IsGroup&&excluded.indexOf(userObject.IdmUser.Login)>-1)}).filter(function(userObject){return!excludes||(userObject.IdmUser&&userObject.IdmUser.IsGroup?0===excludes.filter(function(e){return e===userObject.IdmUser.Uuid}).length:userObject.IdmUser?0===excludes.filter(function(e){return e===userObject.IdmUser.Login}).length:0===excludes.filter(function(e){return e===userObject.IdmRole.Uuid}).length)}).map(function(userObject){var identifier=void 0,icon=void 0,label=void 0;if(userObject.IdmUser&&userObject.IdmUser.IsGroup)identifier=userObject.IdmUser.GroupLabel,label=userObject.IdmUser.Attributes&&userObject.IdmUser.Attributes.displayName?userObject.IdmUser.Attributes.displayName:identifier,icon="mdi mdi-folder-account";else if(userObject.IdmUser){identifier=userObject.IdmUser.Login,label=userObject.IdmUser.Attributes&&userObject.IdmUser.Attributes.displayName?userObject.IdmUser.Attributes.displayName:identifier;var shared=userObject.IdmUser.Attributes&&"shared"===userObject.IdmUser.Attributes.profile;icon=shared?"mdi mdi-account":"mdi mdi-account-box-outline"}else identifier=userObject.IdmRole.Uuid,label=userObject.IdmRole.Label,icon="mdi mdi-account-multiple-outline";return valueExists|=label===value,{userObject:userObject,text:identifier,value:_react2.default.createElement(_materialUi.MenuItem,{primaryText:label,leftIcon:_react2.default.createElement(_materialUi.FontIcon,{className:icon,style:{margin:"0 12px"}})})}});if(value||(this._emptyValueList=values),value&&!valueExists&&(!existingOnly||freeValueAllowed)){var m=_pydio2.default.getMessages()[448]||"create",createItem=_react2.default.createElement(_materialUi.MenuItem,{primaryText:value+(freeValueAllowed?"":" ("+m+")"),leftIcon:_react2.default.createElement(_materialUi.FontIcon,{className:"mdi mdi-account-plus",style:{margin:"0 12px"}})});values=[{text:value,value:createItem}].concat(values)}this.setState({dataSource:values,loading:!1})}.bind(this))}.bind(_this))},this.onCompleterRequest=function(value,index){var freeValueAllowed=_this.props.freeValueAllowed;if(-1===index&&(_this.state.dataSource.map(function(entry){entry.text===value&&(value=entry)}),value&&!value.userObject&&_this.props.freeValueAllowed))return _this.props.onValueSelected({FreeValue:value.text}),void _this.setState({searchText:"",dataSource:[]});value&&(value.userObject?_this.props.onValueSelected(value.userObject):freeValueAllowed?_this.props.onValueSelected({FreeValue:value.text}):_this.setState({createUser:value.text}),_this.setState({searchText:"",dataSource:[]}))},this.onUserCreated=function(newUser){_this.props.onValueSelected(newUser),_this.setState({createUser:null})},this.onCreationCancelled=function(){_this.setState({createUser:null})},this.openAddressBook=function(event){_this.setState({addressBookOpen:!0,addressBookAnchor:event.currentTarget})},this.closeAddressBook=function(){_this.setState({addressBookOpen:!1})},this.onAddressBookItemSelected=function(item){_this.props.onValueSelected(item)}}return UsersLoader.prototype.componentWillReceiveProps=function(){this._emptyValueList=null},UsersLoader.prototype.render=function(){var _this2=this,_state=this.state,dataSource=_state.dataSource,createUser=_state.createUser,containerStyle={position:"relative",overflow:"visible"};return _react2.default.createElement("div",{style:containerStyle,ref:function(el){_this2._popoverAnchor=el}},!createUser&&_react2.default.createElement(_materialUi.AutoComplete,{filter:_materialUi.AutoComplete.noFilter,dataSource:dataSource,searchText:this.state.searchText,onUpdateInput:this.textFieldUpdate,className:this.props.className,openOnFocus:!0,floatingLabelText:this.props.fieldLabel,underlineShow:!this.props.underlineHide,fullWidth:!0,onNewRequest:this.onCompleterRequest,listStyle:{maxHeight:350,overflowY:"auto"},onFocus:function(){_this2.loadBuffered(_this2.state.searchText,100)}}),createUser&&_react2.default.createElement(_materialUi.TextField,{floatingLabelText:this.props.fieldLabel,value:global.pydio.MessageHash[485]+" ("+this.state.createUser+")",disabled:!0,fullWidth:!0,underlineShow:!this.props.underlineHide}),!createUser&&_react2.default.createElement("div",{style:{position:"absolute",right:4,bottom:14,height:20,width:20}
},_react2.default.createElement(_materialUi.RefreshIndicator,{size:20,left:0,top:0,status:this.state.loading?"loading":"hide"})),this.props.showAddressBook&&!createUser&&_react2.default.createElement(_addressbookAddressBook2.default,{mode:"popover",pydio:this.props.pydio,loaderStyle:{width:320,height:420},onItemSelected:this.onAddressBookItemSelected,usersFrom:this.props.usersFrom,disableSearch:!0}),_react2.default.createElement(_materialUi.Popover,{open:createUser,anchorEl:this._popoverAnchor,anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},onRequestClose:this.onCreationCancelled,canAutoPosition:!1},createUser&&_react2.default.createElement(_UserCreationForm2.default,{onUserCreated:this.onUserCreated.bind(this),onCancel:this.onCreationCancelled.bind(this),style:{width:350,height:320},newUserName:this.state.createUser,pydio:this.props.pydio})))},_createClass(UsersLoader,null,[{key:"propTypes",value:{renderSuggestion:_propTypes2.default.func.isRequired,onValueSelected:_propTypes2.default.func.isRequired,fieldLabel:_propTypes2.default.string.isRequired,excludes:_propTypes2.default.array.isRequired,usersOnly:_propTypes2.default.bool,usersFrom:_propTypes2.default.oneOf(["local","remote","any"]),existingOnly:_propTypes2.default.bool,freeValueAllowed:_propTypes2.default.bool,className:_propTypes2.default.string},enumerable:!0}]),UsersLoader}(_react2.default.Component);exports.default=UsersLoader,module.exports=exports.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./UserCreationForm":45,"./addressbook/AddressBook":47,"material-ui":"material-ui","prop-types":"prop-types",pydio:"pydio","pydio/http/api":"pydio/http/api","pydio/util/func":"pydio/util/func",react:"react"}],47:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _NestedListItem=require("./NestedListItem"),_NestedListItem2=_interopRequireDefault(_NestedListItem),_UsersList=require("./UsersList"),_UsersList2=_interopRequireDefault(_UsersList),_RightPanelCard=require("./RightPanelCard"),_RightPanelCard2=_interopRequireDefault(_RightPanelCard),_SearchPanel=require("./SearchPanel"),_SearchPanel2=_interopRequireDefault(_SearchPanel),_Loaders=require("./Loaders"),_Loaders2=_interopRequireDefault(_Loaders),_TeamCreationForm=require("../TeamCreationForm"),_TeamCreationForm2=_interopRequireDefault(_TeamCreationForm),_react=require("react"),_react2=_interopRequireDefault(_react),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_materialUi=require("material-ui"),_materialUiStyles=require("material-ui/styles"),_avatarActionsPanel=require("../avatar/ActionsPanel"),_avatarActionsPanel2=_interopRequireDefault(_avatarActionsPanel),_UserCreationForm=require("../UserCreationForm"),_UserCreationForm2=_interopRequireDefault(_UserCreationForm),_pydioHttpApi=require("pydio/http/api"),_pydioHttpApi2=_interopRequireDefault(_pydioHttpApi),_Pydio$requireLib=_pydio2.default.requireLib("boot"),PydioContextConsumer=_Pydio$requireLib.PydioContextConsumer,PydioContextProvider=_Pydio$requireLib.PydioContextProvider,getCss=function(palette){return"   \n.folder-avatar::before {\n    content: '\\F24B';\n    font-family: 'Material Design Icons';\n    position: absolute;\n    color: rgb(54, 113, 143);\n    font-size: 40px;\n    top: 11px;\n    left: -2px;\n}\n.compact .folder-avatar::before {\n    font-size: 30px;\n    top: 5px;\n}\n.folder-avatar span.mdi {\n    font-size: 20px !important;\n    color: #fff !important;\n    height: 12.8px !important;\n    margin: 7.3px !important;\n}\n.compact .folder-avatar span.mdi {\n    font-size: 13px !important;\n}\n.folder-avatar {\n    background-color: transparent !important;\n}\n"},AddressBook=function(_React$Component){_inherits(AddressBook,_React$Component),_createClass(AddressBook,null,[{key:"propTypes",value:{pydio:_propTypes2.default.instanceOf(_pydio2.default),mode:_propTypes2.default.oneOf(["book","selector","popover"]).isRequired,bookColumn:_propTypes2.default.bool,onItemSelected:_propTypes2.default.func,usersOnly:_propTypes2.default.bool,usersFrom:_propTypes2.default.oneOf(["local","remote","any"]),disableSearch:_propTypes2.default.bool,muiTheme:_propTypes2.default.object,popoverStyle:_propTypes2.default.object,popoverButton:_propTypes2.default.object,popoverContainerStyle:_propTypes2.default.object,popoverIconButtonStyle:_propTypes2.default.object},enumerable:!0},{key:"defaultProps",value:{mode:"book",usersOnly:!1,usersFrom:"any",teamsOnly:!1,disableSearch:!1},enumerable:!0}]);function AddressBook(props){var _this=this;_classCallCheck(this,AddressBook),_React$Component.call(this,props),this.onFolderClicked=function(item){var callback=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1];if("selector"===_this.props.mode&&item.IdmRole&&item.IdmRole.IsTeam)return void _this.onUserListItemClicked(item);_this.setState({loading:!0}),_Loaders2.default.childrenAsPromise(item,!1).then(function(children){_Loaders2.default.childrenAsPromise(item,!0).then(function(children){_this.setState({selectedItem:item,loading:!1},callback)})})},this.onUserListItemClicked=function(item){if(_this.props.onItemSelected){var uObject=new PydioUsers.User(item.id,item.label,item.type,item.group,item.avatar,item.temporary,item.external);item.trusted_server_id&&(uObject.trustedServerId=item.trusted_server_id,uObject.trustedServerLabel=item.trusted_server_label),uObject._uuid=item.uuid,item.IdmUser&&(uObject.IdmUser=item.IdmUser),item.IdmRole&&(uObject.IdmRole=item.IdmRole),_this.props.onItemSelected(uObject)}else _this.setState({rightPaneItem:item})},this.onCreateAction=function(item){_this.setState({createDialogItem:item})},this.closeCreateDialogAndReload=function(){_this.setState({createDialogItem:null}),_this.reloadCurrentNode()},this.onCardUpdateAction=function(item){item._parent&&item._parent===_this.state.selectedItem&&_this.reloadCurrentNode()},this.onDeleteAction=function(parentItem,selection){if(!(arguments.length<=2||void 0===arguments[2])&&arguments[2]||confirm(_this.props.getMessage(278)))switch(parentItem.actions.type){case"users":Promise.all(selection.map(function(user){return _this.state.rightPaneItem===user&&_this.setState({rightPaneItem:null}),_pydioHttpApi2.default.getRestClient().getIdmApi().deleteIdmUser(user.IdmUser)})).then(function(){_this.reloadCurrentNode()});break;case"teams":Promise.all(selection.map(function(team){return _this.state.rightPaneItem===team&&_this.setState({rightPaneItem:null}),_pydioHttpApi2.default.getRestClient().getIdmApi().deleteRole(team.IdmRole.Uuid)})).then(function(){_this.reloadCurrentNode()});break;case"team":Promise.all(selection.map(function(user){return _pydioHttpApi2.default.getRestClient().getIdmApi().removeUserFromTeam(parentItem.IdmRole.Uuid,user.IdmUser.Login)})).then(function(){_this.reloadCurrentNode()})}},this.openPopover=function(event){_this.setState({popoverOpen:!0,popoverAnchor:event.currentTarget})},this.closePopover=function(){_this.setState({popoverOpen:!1})},this.reloadCurrentNode=function(){_this.state.selectedItem.leafLoaded=!1,_this.state.selectedItem.collectionsLoaded=!1,_this.onFolderClicked(_this.state.selectedItem,function(){_this.state.rightPaneItem&&function(){var rPaneId=_this.state.rightPaneItem.id,foundItem=null;[].concat(_this.state.selectedItem.leafs||[],_this.state.selectedItem.collections||[]).forEach(function(leaf){leaf.id===rPaneId&&(foundItem=leaf)}),_this.setState({rightPaneItem:foundItem})}()})},this.reloadCurrentAtPage=function(letterOrRange){_this.state.selectedItem.leafLoaded=!1,_this.state.selectedItem.collectionsLoaded=!1,-1===letterOrRange?_this.state.selectedItem.currentParams=null:-1!==letterOrRange.indexOf("-")?_this.state.selectedItem.range=letterOrRange:(_this.state.selectedItem.range=null,_this.state.selectedItem.currentParams={alpha_pages:"true",value:letterOrRange}),_this.onFolderClicked(_this.state.selectedItem)},this.reloadCurrentWithSearch=function(value){if(!value)return void _this.reloadCurrentAtPage(-1);_this.state.selectedItem.leafLoaded=!1,_this.state.selectedItem.collectionsLoaded=!1,_this.state.selectedItem.currentParams={has_search:!0,value:value,existing_only:!0},_this.onFolderClicked(_this.state.selectedItem)};var pydio=props.pydio,mode=props.mode,usersOnly=props.usersOnly,usersFrom=props.usersFrom,teamsOnly=props.teamsOnly,getMessage=(props.disableSearch,function(id){return props.getMessage(id,"")}),authConfigs=pydio.getPluginConfigs("core.auth"),teamActions={},teamsEditable=pydio.getController().actions.has("user_team_create");teamsEditable&&(teamActions={type:"teams",create:"+ "+getMessage(569),remove:getMessage(570),multiple:!0});var root=void 0;if(teamsOnly)return root={id:"teams",label:getMessage(568),childrenLoader:_Loaders2.default.loadTeams,_parent:null,_notSelectable:!0,actions:teamActions},void(this.state={root:root,selectedItem:root,loading:!1,rightPaneItem:null});root={id:"root",label:getMessage(592),type:"root",collections:[]},"remote"!==usersFrom&&(authConfigs.get("USER_CREATE_USERS")&&root.collections.push({id:"ext",label:getMessage(593),icon:"mdi mdi-account-network",itemsLoader:_Loaders2.default.loadExternalUsers,_parent:root,_notSelectable:!0,actions:{type:"users",create:"+ "+getMessage(484),remove:getMessage(582),multiple:!0}}),usersOnly||root.collections.push({id:"teams",label:getMessage(568),icon:"mdi mdi-account-multiple",childrenLoader:_Loaders2.default.loadTeams,_parent:root,_notSelectable:!0,actions:teamActions}),root.collections.push({id:"PYDIO_GRP_/",label:getMessage(584),icon:"mdi mdi-account-box",childrenLoader:_Loaders2.default.loadGroups,itemsLoader:_Loaders2.default.loadGroupUsers,_parent:root,_notSelectable:!0}));var ocsRemotes=pydio.getPluginConfigs("core.ocs").get("TRUSTED_SERVERS");if(ocsRemotes&&!usersOnly&&"local"!==usersFrom){var remotes=JSON.parse(ocsRemotes),remotesNodes={id:"remotes",label:getMessage(594),collections:[],_parent:root,_notSelectable:!0};for(var k in remotes)remotes.hasOwnProperty(k)&&remotesNodes.collections.push({id:k,label:remotes[k],icon:"mdi mdi-server-network",type:"remote",_parent:remotesNodes,_notSelectable:!0});remotesNodes.collections.length&&root.collections.push(remotesNodes)}this.state={root:root,selectedItem:"selector"===mode?root:root.collections[0],loading:!1,rightPaneItem:null,teamsEditable:teamsEditable}}return AddressBook.prototype.componentDidMount=function(){this.state.selectedItem&&this.onFolderClicked(this.state.selectedItem)},AddressBook.prototype.render=function(){var _this2=this,_props=this.props,mode=_props.mode,getMessage=_props.getMessage,bookColumn=_props.bookColumn,listStyles=_props.listStyles;if("popover"===mode){var popoverStyle=this.props.popoverStyle||{},popoverContainerStyle=this.props.popoverContainerStyle||{},iconButtonStyle=this.props.popoverIconButtonStyle||{},iconButton=_react2.default.createElement(_materialUi.IconButton,{style:_extends({position:"absolute",padding:15,zIndex:100,right:0,top:25,display:this.state.loading?"none":"initial"},iconButtonStyle),iconStyle:{fontSize:19,color:"rgba(0,0,0,0.6)"},iconClassName:"mdi mdi-book-open-variant",onClick:this.openPopover});this.props.popoverButton&&(iconButton=_react2.default.createElement(this.props.popoverButton.type,_extends({},this.props.popoverButton.props,{onClick:this.openPopover})));var WrappedAddressBook=PydioContextProvider(AddressBook,this.props.pydio);return _react2.default.createElement("span",null,iconButton,_react2.default.createElement(_materialUi.Popover,{open:this.state.popoverOpen,anchorEl:this.state.popoverAnchor,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"left",vertical:"top"},onRequestClose:this.closePopover,style:_extends({marginLeft:20},popoverStyle),zDepth:2},_react2.default.createElement("div",{style:_extends({width:320,height:420},popoverContainerStyle)},_react2.default.createElement(WrappedAddressBook,_extends({},this.props,{mode:"selector",style:{height:420}})))))}var _state=this.state,selectedItem=_state.selectedItem,root=_state.root,rightPaneItem=_state.rightPaneItem,createDialogItem=_state.createDialogItem,teamsEditable=_state.teamsEditable,leftColumnStyle={backgroundColor:_materialUiStyles.colors.grey100,width:256,overflowY:"auto",overflowX:"hidden"},centerComponent=void 0,rightPanel=void 0,leftPanel=void 0,topActionsPanel=void 0,onEditLabel=void 0;if("search"===selectedItem.id)centerComponent=_react2.default.createElement(_SearchPanel2.default,{item:selectedItem,title:getMessage(583,""),searchLabel:getMessage(595,""),onItemClicked:this.onUserListItemClicked,onFolderClicked:this.onFolderClicked,mode:mode});else if("remote"===selectedItem.type)centerComponent=_react2.default.createElement(_SearchPanel2.default,{item:selectedItem,params:{trusted_server_id:selectedItem.id},searchLabel:getMessage(595,""),title:getMessage(596,"").replace("%s",selectedItem.label),onItemClicked:this.onUserListItemClicked,onFolderClicked:this.onFolderClicked,mode:mode});else{var emptyStatePrimary=void 0,emptyStateSecondary=void 0,otherProps={};"teams"===selectedItem.id?(otherProps={paginatorFolder:selectedItem.pagination?"numeric":null,paginatorLabel:selectedItem.label,paginatorCallback:this.reloadCurrentAtPage.bind(this)},teamsEditable?(emptyStatePrimary=getMessage(571,""),emptyStateSecondary=getMessage(572,"")):(emptyStatePrimary=getMessage("571.readonly",""),emptyStateSecondary=getMessage("572.readonly",""))):"ext"===selectedItem.id?(emptyStatePrimary=getMessage(585,""),emptyStateSecondary=getMessage(586,""),selectedItem.pagination&&(otherProps={showSubheaders:!0,paginatorType:"alpha",paginatorCallback:this.reloadCurrentAtPage.bind(this)})):(selectedItem.IdmUser&&selectedItem.IdmUser.IsGroup||"PYDIO_GRP_/"===selectedItem.id||selectedItem.IdmRole&&selectedItem.IdmRole.IsTeam)&&(otherProps={showSubheaders:!0,paginatorType:!(selectedItem.currentParams&&selectedItem.currentParams.has_search)&&"alpha",paginatorCallback:this.reloadCurrentAtPage.bind(this),enableSearch:!(this.props.disableSearch||selectedItem.IdmRole&&selectedItem.IdmRole.IsTeam),searchLabel:getMessage(595,""),onSearch:this.reloadCurrentWithSearch.bind(this)}),("book"===mode||bookColumn)&&selectedItem.IdmRole&&selectedItem.IdmRole.IsTeam&&teamsEditable&&(topActionsPanel=_react2.default.createElement(_avatarActionsPanel2.default,_extends({},this.props,{team:selectedItem,userEditable:!0,reloadAction:function(){_this2.reloadCurrentNode()},onDeleteAction:function(){confirm(_this2.props.getMessage(278))&&function(){var parent=selectedItem._parent;_this2.setState({selectedItem:parent},function(){_this2.onDeleteAction(parent,[selectedItem],!0)})}()},style:{backgroundColor:"transparent",borderTop:0,borderBottom:0}})),onEditLabel=function(item,newLabel){_pydioHttpApi2.default.getRestClient().getIdmApi().updateTeamLabel(item.IdmRole.Uuid,newLabel,function(){var parent=selectedItem._parent;_this2.setState({selectedItem:parent},function(){_this2.reloadCurrentNode()})})}),centerComponent=_react2.default.createElement(_UsersList2.default,_extends({item:selectedItem,onItemClicked:this.onUserListItemClicked,onFolderClicked:this.onFolderClicked,onCreateAction:this.onCreateAction,onDeleteAction:this.onDeleteAction,reloadAction:this.reloadCurrentNode.bind(this),onEditLabel:onEditLabel,loading:this.state.loading,mode:mode,bookColumn:bookColumn,emptyStatePrimaryText:emptyStatePrimary,emptyStateSecondaryText:emptyStateSecondary,onClick:this.state.rightPaneItem?function(){_this2.setState({rightPaneItem:null})}:null,actionsPanel:topActionsPanel,actionsForCell:this.props.actionsForCell,usersOnly:this.props.usersOnly,listStyles:listStyles},otherProps))}var rightPanelStyle=_extends({},leftColumnStyle,{position:"absolute",transformOrigin:"right",backgroundColor:"white",width:250,right:10,bottom:10,top:120,zIndex:2});rightPaneItem||(rightPanelStyle=_extends({},rightPanelStyle,{transform:"scale(0)"})),rightPanel=_react2.default.createElement(_RightPanelCard2.default,{pydio:this.props.pydio,onRequestClose:function(){_this2.setState({rightPaneItem:null})},style:rightPanelStyle,onCreateAction:this.onCreateAction,onDeleteAction:this.onDeleteAction,onUpdateAction:this.onCardUpdateAction,item:rightPaneItem}),"book"===mode&&function(){var nestedRoots=[];root.collections.map(function(e){nestedRoots.push(_react2.default.createElement(_NestedListItem2.default,{key:e.id,selected:selectedItem.id,nestedLevel:0,entry:e,onClick:this.onFolderClicked})),nestedRoots.push(_react2.default.createElement(_materialUi.Divider,{key:e.id+"-divider"}))}.bind(_this2)),nestedRoots.pop(),leftPanel=_react2.default.createElement(_materialUi.Paper,{zDepth:1,style:_extends({},leftColumnStyle,{zIndex:2})},_react2.default.createElement(_materialUi.List,null,nestedRoots))}();var dialogTitle=void 0,dialogContent=void 0,dialogBodyStyle=void 0;if(createDialogItem)if("users"===createDialogItem.actions.type)dialogBodyStyle={display:"flex",flexDirection:"column",overflow:"hidden"},dialogTitle=getMessage(484,""),dialogContent=_react2.default.createElement(_UserCreationForm2.default,{zDepth:0,style:{display:"flex",flexDirection:"column",flex:1},newUserName:"",onUserCreated:this.closeCreateDialogAndReload.bind(this),onCancel:function(){_this2.setState({createDialogItem:null})},pydio:this.props.pydio});else if("teams"===createDialogItem.actions.type)dialogTitle=getMessage(569,""),dialogContent=_react2.default.createElement(_TeamCreationForm2.default,{onTeamCreated:this.closeCreateDialogAndReload,onCancel:function(){_this2.setState({createDialogItem:null})}});else if("team"===createDialogItem.actions.type){var selectUser=function(item){_pydioHttpApi2.default.getRestClient().getIdmApi().addUserToTeam(createDialogItem.IdmRole.Uuid,item.IdmUser.Login).then(function(){_this2.reloadCurrentNode()})};dialogTitle=null,dialogContent=_react2.default.createElement(AddressBook,{pydio:this.props.pydio,mode:"selector",usersOnly:!0,disableSearch:!0,onItemSelected:selectUser})}var style=this.props.style||{};return _react2.default.createElement("div",{style:_extends({display:"flex",height:"selector"===mode?320:450},style)},leftPanel,centerComponent,rightPanel,_react2.default.createElement(_materialUi.Dialog,{contentStyle:{width:380,minWidth:380,maxWidth:380,padding:0},bodyStyle:_extends({padding:0},dialogBodyStyle),title:_react2.default.createElement("div",{style:{padding:20}},dialogTitle),actions:null,modal:!1,open:!!createDialogItem,onRequestClose:function(){_this2.setState({createDialogItem:null})}},dialogContent),_react2.default.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:getCss(this.props.muiTheme.palette)}}))},AddressBook}(_react2.default.Component);exports.default=AddressBook=PydioContextConsumer(AddressBook),exports.default=AddressBook=_materialUiStyles.muiThemeable()(AddressBook),exports.default=AddressBook,module.exports=exports.default},{"../TeamCreationForm":44,"../UserCreationForm":45,"../avatar/ActionsPanel":58,"./Loaders":50,"./NestedListItem":51,"./RightPanelCard":52,"./SearchPanel":54,"./UsersList":57,"material-ui":"material-ui","material-ui/styles":"material-ui/styles","prop-types":"prop-types",pydio:"pydio","pydio/http/api":"pydio/http/api",react:"react"}],48:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_materialUiStyles=require("material-ui/styles"),_materialUi=require("material-ui"),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_Pydio$requireLib=_pydio2.default.requireLib("boot"),PydioContextConsumer=_Pydio$requireLib.PydioContextConsumer,_Pydio$requireLib2=_pydio2.default.requireLib("hoc"),ModernSelectField=_Pydio$requireLib2.ModernSelectField,AlphaPaginator=function(_Component){_inherits(AlphaPaginator,_Component);function AlphaPaginator(){_classCallCheck(this,AlphaPaginator),_Component.apply(this,arguments)}return AlphaPaginator.prototype.render=function(){var _props=this.props,item=_props.item,paginatorCallback=_props.paginatorCallback,paginatorType=_props.paginatorType,style=_props.style,getMessage=_props.getMessage,paginatorLabel=_props.paginatorLabel,numPaginator=void 0,alphaPaginator=void 0;if(item.pagination&&function(){for(var _item$pagination=item.pagination,start=_item$pagination.start,max=_item$pagination.max,interval=_item$pagination.interval,total_pages=Math.ceil(max/interval),current=Math.ceil(start/interval),pages=[],i=0;i<total_pages;i++)pages.push(i);numPaginator=React.createElement(_materialUi.MuiThemeProvider,{muiTheme:_materialUiStyles.getMuiTheme({zIndex:{layer:3e3,popover:3001}})},React.createElement(ModernSelectField,{floatingLabelText:getMessage(331),style:{width:60},dropDownMenuProps:{anchorOrigin:{vertical:"center",horizontal:"right"}},fullWidth:!0,value:current,onChange:function(e,i,v){paginatorCallback(v*interval+"-"+(v+1)*interval)}},pages.map(function(p){return React.createElement(_materialUi.MenuItem,{value:p,key:p,primaryText:p+1})})))}(),"alpha"===paginatorType){var letters="abcdefghijklmnopqrstuvwxyz0123456789".split("");letters=[-1].concat(letters);var currentPage=item.currentParams&&item.currentParams.alpha_pages&&item.currentParams.value||-1;alphaPaginator=React.createElement(_materialUi.MuiThemeProvider,{muiTheme:_materialUiStyles.getMuiTheme({zIndex:{layer:3e3,popover:3001}})},React.createElement(ModernSelectField,{floatingLabelText:getMessage(625),style:{width:60,marginLeft:8},dropDownMenuProps:{anchorOrigin:{vertical:"center",horizontal:"right"}},fullWidth:!0,value:currentPage,onChange:function(e,i,v){paginatorCallback(v)}},letters.map(function(l){return React.createElement(_materialUi.MenuItem,{value:l,key:l,primaryText:-1===l?getMessage(597,""):l})})))}return React.createElement("div",{style:_extends({},style,{display:"flex",paddingRight:8,alignItems:"center"})},React.createElement("div",{style:{flex:1,height:20}},paginatorLabel||getMessage(249,"")),numPaginator,alphaPaginator)},AlphaPaginator}(_react.Component);AlphaPaginator.propTypes={item:_propTypes2.default.object,paginatorCallback:_propTypes2.default.func.isRequired,pydio:_propTypes2.default.instanceOf(_pydio2.default),mode:_propTypes2.default.oneOf(["book","selector","popover"]).isRequired},exports.default=AlphaPaginator=PydioContextConsumer(AlphaPaginator),exports.default=AlphaPaginator=_materialUiStyles.muiThemeable()(AlphaPaginator),exports.default=AlphaPaginator,module.exports=exports.default},{"material-ui":"material-ui","material-ui/styles":"material-ui/styles","prop-types":"prop-types",pydio:"pydio",react:"react"}],49:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default={list:{},listItem:{style:{fontSize:13},innerDivStyle:{padding:"10px 56px 10px 62px"}},avatar:{avatarSize:26,style:{top:5}},iconMenu:{style:{top:4,right:8}},iconButton:{style:{width:26,height:26,padding:5,right:8},iconStyle:{color:"rgba(0,0,0,.33)",fontSize:20}},divider:{style:{marginLeft:62}}},module.exports=exports.default},{}],50:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_pydioHttpApi=require("pydio/http/api"),_pydioHttpApi2=_interopRequireDefault(_pydioHttpApi),_pydioUtilLang=require("pydio/util/lang"),_pydioUtilLang2=_interopRequireDefault(_pydioUtilLang),IdmApi=_pydioHttpApi2.default.getRestClient().getIdmApi(),StdLimit=50,Loaders=function(){function Loaders(){_classCallCheck(this,Loaders)}return Loaders.childrenAsPromise=function(item){var leaf=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],childrenLoader=item.childrenLoader,itemsLoader=item.itemsLoader,leafLoaded=item.leafLoaded,collectionsLoaded=item.collectionsLoaded,leafs=item.leafs,collections=item.collections,loader=leaf?itemsLoader:childrenLoader,loaded=leaf?leafLoaded:collectionsLoaded;return new Promise(function(resolve,reject){if(!loaded&&loader)loader(item,function(newChildren){leaf?(item.leafs=newChildren,item.leafLoaded=!0):(item.collections=newChildren,item.collectionsLoaded=!0),resolve(newChildren)});else{resolve((leaf?leafs:collections)||[])}})},Loaders.computePagination=function(result){var count=void 0;return result.Users?count=result.Users.length:result.Groups?count=result.Groups.length:result.Teams&&(count=result.Teams.length),result.Total>count?{start:result.Offset,end:result.Offset+result.Limit,max:result.Total,interval:result.Limit}:null},Loaders.loadTeams=function(entry,callback){var offset=0,limit=StdLimit;if(entry.range){var _entry$range$split=entry.range.split("-"),start=_entry$range$split[0],end=_entry$range$split[1];offset=parseInt(start),end=parseInt(end),limit=end-offset}var actions={};_pydio2.default.getInstance().getController().actions.has("user_team_create")&&(actions={type:"team",remove:"574",multiple:!0}),IdmApi.listTeams("",offset,limit).then(function(collection){entry.pagination=Loaders.computePagination(collection);var items=collection.Teams.map(function(team){return{_parent:entry,id:team.Uuid,label:team.Label,type:"team",icon:"mdi mdi-account-multiple-outline",itemsLoader:Loaders.loadTeamUsers,actions:actions,_notSelectable:!0,IdmRole:team}});callback(items)})},Loaders.loadGroups=function(entry,callback){var path="/",filter="";entry.IdmUser&&(path=_pydioUtilLang2.default.trimRight(entry.IdmUser.GroupPath,"/")+"/"+entry.IdmUser.GroupLabel),entry.currentParams&&entry.currentParams.has_search&&(filter=entry.currentParams.value),IdmApi.listGroups(path,filter,!1,0,1e3).then(function(groups){var items=groups.Groups.map(function(idmUser){return{_parent:entry,id:idmUser.Uuid,label:idmUser.Attributes&&idmUser.Attributes.displayName?idmUser.Attributes.displayName:idmUser.GroupLabel,type:"group",icon:"mdi mdi-account-multiple",childrenLoader:entry.childrenLoader?Loaders.loadGroups:null,itemsLoader:entry.itemsLoader?Loaders.loadGroupUsers:null,currentParams:entry.currentParams&&entry.currentParams.alpha_pages?_extends({},entry.currentParams):{},IdmUser:idmUser}});callback(items)})},Loaders.loadExternalUsers=function(entry,callback){var filter="",offset=0,limit=StdLimit;if(entry.currentParams&&entry.currentParams.alpha_pages&&(filter=entry.currentParams.value),entry.range){var _entry$range$split2=entry.range.split("-"),start=_entry$range$split2[0],end=_entry$range$split2[1];offset=parseInt(start),end=parseInt(end),limit=end-offset}var pydio=_pydioHttpApi2.default.getClient().getPydioObject();IdmApi.listUsers("/",filter,!0,offset,limit,"shared").then(function(users){entry.pagination=Loaders.computePagination(users);var items=users.Users.filter(function(idmUser){return idmUser.Login!==pydio.user.id}).map(function(idmUser){return{_parent:entry,id:idmUser.Login,label:idmUser.Attributes&&idmUser.Attributes.displayName?idmUser.Attributes.displayName:idmUser.Login,avatar:idmUser.Attributes&&idmUser.Attributes.avatar?idmUser.Attributes.avatar:void 0,type:"user",external:!0,IdmUser:idmUser}});callback(items)})},Loaders.loadGroupUsers=function(entry,callback){var path="/",filter="",offset=0,limit=StdLimit;if(entry.IdmUser&&(path=_pydioUtilLang2.default.trimRight(entry.IdmUser.GroupPath,"/")+"/"+entry.IdmUser.GroupLabel),entry.currentParams&&(entry.currentParams.alpha_pages||entry.currentParams.has_search)&&(filter=entry.currentParams.value),entry.range){var _entry$range$split3=entry.range.split("-"),start=_entry$range$split3[0],end=_entry$range$split3[1];offset=parseInt(start),end=parseInt(end),limit=end-offset}var pydio=_pydioHttpApi2.default.getClient().getPydioObject();IdmApi.listUsers(path,filter,!1,offset,limit,"!shared").then(function(users){entry.pagination=Loaders.computePagination(users);var items=users.Users.filter(function(idmUser){return idmUser.Login!==pydio.user.id&&"pydio.anon.user"!==idmUser.Login}).map(function(idmUser){return{_parent:entry,id:idmUser.Login,label:idmUser.Attributes&&idmUser.Attributes.displayName?idmUser.Attributes.displayName:idmUser.Login,avatar:idmUser.Attributes&&idmUser.Attributes.avatar?idmUser.Attributes.avatar:void 0,type:"user",IdmUser:idmUser}});callback(items)})},Loaders.loadTeamUsers=function(entry,callback){var offset=0,limit=StdLimit,filter="";if(entry.range){var _entry$range$split4=entry.range.split("-"),start=_entry$range$split4[0],end=_entry$range$split4[1];offset=parseInt(start),end=parseInt(end),limit=end-offset}entry.currentParams&&(entry.currentParams.alpha_pages||entry.currentParams.has_search)&&(filter=entry.currentParams.value),IdmApi.listUsersWithRole(entry.IdmRole.Uuid,offset,limit,filter).then(function(users){entry.pagination=Loaders.computePagination(users);var items=users.Users.map(function(idmUser){return{_parent:entry,id:idmUser.Login,label:idmUser.Attributes&&idmUser.Attributes.displayName?idmUser.Attributes.displayName:idmUser.Login,type:"user",IdmUser:idmUser}});callback(items)})},Loaders}();exports.default=Loaders,module.exports=exports.default},{pydio:"pydio","pydio/http/api":"pydio/http/api","pydio/util/lang":"pydio/util/lang"}],51:[function(require,module,exports){"use strict";exports.__esModule=!0;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){
if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_react=require("react"),_materialUi=require("material-ui"),NestedListItem=function(_Component){_inherits(NestedListItem,_Component);function NestedListItem(){_classCallCheck(this,NestedListItem),_Component.apply(this,arguments)}return NestedListItem.prototype.onClick=function(){this.props.onClick(this.props.entry)},NestedListItem.prototype.buildNestedItems=function(data){return data.map(function(entry){return React.createElement(NestedListItem,{nestedLevel:this.props.nestedLevel+1,entry:entry,onClick:this.props.onClick,selected:this.props.selected,showIcons:!0})}.bind(this))},NestedListItem.prototype.render=function(){var _props=this.props,showIcons=_props.showIcons,entry=_props.entry,selected=_props.selected,id=entry.id,label=entry.label,icon=entry.icon,children=entry.collections||[],nested=this.buildNestedItems(children),fontIcon=void 0;return icon&&showIcons&&(fontIcon=React.createElement(_materialUi.FontIcon,{className:icon})),React.createElement(_materialUi.ListItem,{nestedLevel:this.props.nestedLevel,key:id,primaryText:label,onClick:this.onClick.bind(this),nestedItems:nested,initiallyOpen:!0,leftIcon:fontIcon,innerDivStyle:{fontWeight:selected===entry.id?500:400},style:selected===entry.id?{backgroundColor:"#efefef"}:{}})},NestedListItem}(_react.Component);NestedListItem.propTypes={nestedLevel:_propTypes2.default.number,selected:_propTypes2.default.string,onClick:_propTypes2.default.func},exports.default=NestedListItem,module.exports=exports.default},{"material-ui":"material-ui","prop-types":"prop-types",react:"react"}],52:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _TeamCard=require("./TeamCard"),_TeamCard2=_interopRequireDefault(_TeamCard),_UserCard=require("./UserCard"),_UserCard2=_interopRequireDefault(_UserCard),PropTypes=require("prop-types"),React=require("react"),_require=require("material-ui"),Paper=_require.Paper,IconButton=_require.IconButton,RightPanelCard=function(_React$Component){_inherits(RightPanelCard,_React$Component);function RightPanelCard(){_classCallCheck(this,RightPanelCard),_React$Component.apply(this,arguments)}return RightPanelCard.prototype.render=function(){var content=void 0,item=this.props.item||{};return"user"===item.type?content=React.createElement(_UserCard2.default,this.props):item.IdmRole&&item.IdmRole.IsTeam&&(content=React.createElement(_TeamCard2.default,this.props)),React.createElement(Paper,{zDepth:2,style:_extends({position:"relative",borderRadius:6},this.props.style)},React.createElement(IconButton,{iconClassName:"mdi mdi-close",style:{position:"absolute",top:0,right:0,zIndex:2},iconStyle:{color:"#e0e0e0"},onClick:this.props.onRequestClose}),content)},RightPanelCard}(React.Component);RightPanelCard.propTypes={pydio:PropTypes.instanceOf(Pydio),item:PropTypes.object,style:PropTypes.object,onRequestClose:PropTypes.func,onDeleteAction:PropTypes.func,onUpdateAction:PropTypes.func},exports.default=RightPanelCard,module.exports=exports.default},{"./TeamCard":55,"./UserCard":56,"material-ui":"material-ui","prop-types":"prop-types",react:"react"}],53:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_react=require("react"),_materialUi=require("material-ui"),_lodashDebounce=require("lodash.debounce"),_lodashDebounce2=_interopRequireDefault(_lodashDebounce),SearchForm=function(_Component){_inherits(SearchForm,_Component);function SearchForm(props,context){_classCallCheck(this,SearchForm),_Component.call(this,props,context),this.state={value:""},this.search=_lodashDebounce2.default(this.search.bind(this),300)}return SearchForm.prototype.search=function(){this.props.onSearch(this.state.value)},SearchForm.prototype.onChange=function(event,value){this.setState({value:value}),this.search()},SearchForm.prototype.render=function(){var _props=this.props,underlineShow=_props.underlineShow,searchLabel=_props.searchLabel,style=_props.style,inputStyle=_props.inputStyle,underlineStyle=_props.underlineStyle,underlineFocusStyle=_props.underlineFocusStyle,hintStyle=_props.hintStyle,value=this.state.value;return React.createElement("div",{style:_extends({minWidth:320},style)},React.createElement(_materialUi.TextField,{fullWidth:!0,value:value,onChange:this.onChange.bind(this),hintText:searchLabel,inputStyle:inputStyle,hintStyle:hintStyle,underlineStyle:underlineStyle,underlineFocusStyle:underlineFocusStyle,underlineShow:void 0===underlineShow||underlineShow}))},SearchForm}(_react.Component);SearchForm.propTypes={searchLabel:_propTypes2.default.string.isRequired,onSearch:_propTypes2.default.func.isRequired,style:_propTypes2.default.object,underlineShow:_propTypes2.default.bool},exports.default=SearchForm,module.exports=exports.default},{"lodash.debounce":"lodash.debounce","material-ui":"material-ui","prop-types":"prop-types",react:"react"}],54:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_SearchForm=require("./SearchForm"),_SearchForm2=_interopRequireDefault(_SearchForm),_UsersList=require("./UsersList"),_UsersList2=_interopRequireDefault(_UsersList),_Loaders=require("./Loaders"),_Loaders2=_interopRequireDefault(_Loaders),_require=require("react"),Component=_require.Component,_require$requireLib=require("pydio").requireLib("boot"),PydioContextConsumer=_require$requireLib.PydioContextConsumer,SearchPanel=function(_Component){_inherits(SearchPanel,_Component);function SearchPanel(props,context){_classCallCheck(this,SearchPanel),_Component.call(this,props.context),this.state={items:[]}}return SearchPanel.prototype.onSearch=function(value){var _this=this;if(!value)return void this.setState({items:[]});var params={value:value,existing_only:"true"};this.props.params&&(params=_extends({},params,this.props.params)),_Loaders2.default.listUsers(params,function(children){_this.setState({items:children})})},SearchPanel.prototype.render=function(){var _this2=this,_props=this.props,mode=_props.mode,item=_props.item,getMessage=_props.getMessage;return React.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column"}},React.createElement("div",{style:{padding:10,height:56,backgroundColor:this.state.select?activeTbarColor:"#fafafa",display:"flex",alignItems:"center",transition:DOMUtils.getBeziersTransition()}},"selector"===mode&&item._parent&&React.createElement(MaterialUI.IconButton,{iconClassName:"mdi mdi-chevron-left",onClick:function(){_this2.props.onFolderClicked(item._parent)}}),"book"===mode&&React.createElement("div",{style:{fontSize:20,color:"rgba(0,0,0,0.87)",flex:1}},this.props.title),React.createElement(_SearchForm2.default,{style:"book"===mode?{minWidth:320}:{flex:1},searchLabel:this.props.searchLabel,onSearch:this.onSearch.bind(this)})),React.createElement(_UsersList2.default,{mode:this.props.mode,onItemClicked:this.props.onItemClicked,item:{leafs:this.state.items},noToolbar:!0,emptyStatePrimaryText:getMessage(587,""),emptyStateSecondaryText:getMessage(588,"")}))},SearchPanel}(Component);SearchPanel.propTypes={params:_propTypes2.default.object,searchLabel:_propTypes2.default.string,onItemClicked:_propTypes2.default.func,item:_propTypes2.default.object,onFolderClicked:_propTypes2.default.func},exports.default=SearchPanel=PydioContextConsumer(SearchPanel),exports.default=SearchPanel,module.exports=exports.default},{"./Loaders":50,"./SearchForm":53,"./UsersList":57,"prop-types":"prop-types",pydio:"pydio",react:"react"}],55:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _UsersList=require("./UsersList"),_UsersList2=_interopRequireDefault(_UsersList),_Loaders=require("./Loaders"),_Loaders2=_interopRequireDefault(_Loaders),_avatarActionsPanel=require("../avatar/ActionsPanel"),_avatarActionsPanel2=_interopRequireDefault(_avatarActionsPanel),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_pydioHttpApi=require("pydio/http/api"),_pydioHttpApi2=_interopRequireDefault(_pydioHttpApi),React=require("react"),_require=require("material-ui"),TextField=_require.TextField,FlatButton=_require.FlatButton,CardTitle=_require.CardTitle,_require$requireLib=(_require.Divider,require("pydio").requireLib("boot")),PydioContextConsumer=_require$requireLib.PydioContextConsumer,TeamCard=function(_React$Component){_inherits(TeamCard,_React$Component);function TeamCard(props,context){_classCallCheck(this,TeamCard),_React$Component.call(this,props,context),this.state={label:this.props.item.label}}return TeamCard.prototype.loadMembers=function(item){var _this=this;this.setState({loading:!0}),_Loaders2.default.childrenAsPromise(item,!1).then(function(children){_Loaders2.default.childrenAsPromise(item,!0).then(function(children){_this.setState({members:item.leafs,loading:!1})})})},TeamCard.prototype.componentWillMount=function(){this.loadMembers(this.props.item)},TeamCard.prototype.componentWillReceiveProps=function(nextProps){this.loadMembers(nextProps.item),this.setState({label:nextProps.item.label})},TeamCard.prototype.onLabelChange=function(e,value){this.setState({label:value})},TeamCard.prototype.updateLabel=function(){var _this2=this;this.state.label!==this.props.item.label&&_pydioHttpApi2.default.getRestClient().getIdmApi().updateTeamLabel(this.props.item.IdmRole.Uuid,this.state.label,function(){_this2.props.onUpdateAction(_this2.props.item)}),this.setState({editMode:!1})},TeamCard.prototype.render=function(){var _this3=this,_props=this.props,item=_props.item,onDeleteAction=_props.onDeleteAction,getMessage=(_props.onCreateAction,_props.getMessage),editProps={team:item,userEditable:this.props.item.IdmRole.PoliciesContextEditable,onDeleteAction:function(){_this3.props.onDeleteAction(item._parent,[item])},onEditAction:function(){_this3.setState({editMode:!_this3.state.editMode})},reloadAction:function(){_this3.props.onUpdateAction(item)}},title=void 0;title=this.state.editMode?React.createElement("div",{style:{display:"flex",alignItems:"center",padding:12}},React.createElement(TextField,{style:{flex:1,fontSize:24},fullWidth:!0,disabled:!1,underlineShow:!1,value:this.state.label,onChange:this.onLabelChange.bind(this)}),React.createElement(FlatButton,{secondary:!0,label:getMessage(48),onClick:function(){_this3.updateLabel()}})):React.createElement(CardTitle,{style:{padding:"12px 16px 4px"},title:this.state.label,subtitle:item.leafs&&item.leafs.length?getMessage(576).replace("%s",item.leafs.length):getMessage(577)});var _props2=this.props,otherProps=(_props2.style,_objectWithoutProperties(_props2,["style"]));return React.createElement("div",null,React.createElement("div",{style:{backgroundColor:"#f8fafc",paddingBottom:4}},title,React.createElement(_avatarActionsPanel2.default,_extends({},otherProps,editProps,{style:{paddingLeft:8}}))),React.createElement(_UsersList2.default,{subHeader:getMessage(575),onItemClicked:function(){},item:item,mode:"inner",onDeleteAction:onDeleteAction}))},TeamCard}(React.Component);TeamCard.propTypes={pydio:_propTypes2.default.instanceOf(Pydio),item:_propTypes2.default.object,style:_propTypes2.default.object,onRequestClose:_propTypes2.default.func,onDeleteAction:_propTypes2.default.func,onUpdateAction:_propTypes2.default.func},exports.default=TeamCard=PydioContextConsumer(TeamCard),exports.default=TeamCard,module.exports=exports.default},{"../avatar/ActionsPanel":58,"./Loaders":50,"./UsersList":57,"material-ui":"material-ui","prop-types":"prop-types",pydio:"pydio","pydio/http/api":"pydio/http/api",react:"react"}],56:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_react=require("react"),_react2=_interopRequireDefault(_react),_avatarUserAvatar=require("../avatar/UserAvatar"),_avatarUserAvatar2=_interopRequireDefault(_avatarUserAvatar),_UserCreationForm=require("../UserCreationForm"),_UserCreationForm2=_interopRequireDefault(_UserCreationForm),UserCard=function(_React$Component){_inherits(UserCard,_React$Component);function UserCard(props,context){_classCallCheck(this,UserCard),_React$Component.call(this,props,context),this.state={editForm:!1}}return UserCard.prototype.componentWillReceiveProps=function(nextProps){nextProps.item!==this.props.item&&this.setState({editForm:!1})},UserCard.prototype.render=function(){var _this=this,item=this.props.item,editableProps={avatarStyle:{zIndex:1}},editForm=void 0;return item._parent&&"ext"===item._parent.id&&(editableProps=_extends({},editableProps,{userEditable:item.IdmUser.PoliciesContextEditable,onDeleteAction:function(){_this.props.onDeleteAction(item._parent,[item])},onEditAction:function(){_this.setState({editForm:!0})},reloadAction:function(){_this.props.onUpdateAction(item)}})),this.state.editForm&&(editForm=_react2.default.createElement(_UserCreationForm2.default,{pydio:this.props.pydio,zDepth:0,style:{flex:1},newUserName:item.id,editMode:!0,userData:item,onUserCreated:function(){_this.props.onUpdateAction(item),_this.setState({editForm:!1})},onCancel:function(){_this.setState({editForm:!1})}}),editableProps=_extends({},editableProps,{displayLabel:!0,displayAvatar:!0,useDefaultAvatar:!0,style:{textAlign:"center",borderBottom:"1px solid #e0e0e0",padding:10,backgroundColor:"#fafafa"},avatarStyle:{marginBottom:16}})),_react2.default.createElement("div",{style:editForm?{height:"100%",display:"flex",flexDirection:"column"}:{}},_react2.default.createElement(_avatarUserAvatar2.default,_extends({userId:this.props.item.id,richCard:!editForm,pydio:this.props.pydio,cardSize:this.props.style.width,cardStyle:{textAlign:"left",padding:"12px 16px 4px",backgroundColor:"#f8fafc"}},editableProps)),editForm)},UserCard}(_react2.default.Component);UserCard.propTypes={pydio:_propTypes2.default.instanceOf(Pydio),item:_propTypes2.default.object,style:_propTypes2.default.object,onRequestClose:_propTypes2.default.func,onDeleteAction:_propTypes2.default.func,onUpdateAction:_propTypes2.default.func},exports.default=UserCard,module.exports=exports.default},{"../UserCreationForm":45,"../avatar/UserAvatar":61,"prop-types":"prop-types",react:"react"}],57:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_avatarUserAvatar=require("../avatar/UserAvatar"),_avatarUserAvatar2=_interopRequireDefault(_avatarUserAvatar),_materialUi=require("material-ui"),_materialUiStyles=require("material-ui/styles"),_viewsEmptyStateView=require("../../views/EmptyStateView"),_viewsEmptyStateView2=_interopRequireDefault(_viewsEmptyStateView),_AlphaPaginator=require("./AlphaPaginator"),_AlphaPaginator2=_interopRequireDefault(_AlphaPaginator),_SearchForm=require("./SearchForm"),_SearchForm2=_interopRequireDefault(_SearchForm),_color=require("color"),_color2=_interopRequireDefault(_color),_pydioUtilDom=require("pydio/util/dom"),_pydioUtilDom2=_interopRequireDefault(_pydioUtilDom),_avatarCellActionsRenderer=require("../avatar/CellActionsRenderer"),_avatarCellActionsRenderer2=_interopRequireDefault(_avatarCellActionsRenderer),_ListStylesCompact=require("./ListStylesCompact"),_ListStylesCompact2=_interopRequireDefault(_ListStylesCompact),_require$requireLib=require("pydio").requireLib("boot"),Loader=_require$requireLib.Loader,PydioContextConsumer=_require$requireLib.PydioContextConsumer,UsersList=function(_React$Component){_inherits(UsersList,_React$Component);function UsersList(props,context){_classCallCheck(this,UsersList),_React$Component.call(this,props,context),this.state={select:!1,selection:[],editLabel:!1}}return UsersList.prototype.onLabelKeyEnter=function(e){"Enter"===e.key&&this.updateLabel()},UsersList.prototype.onLabelChange=function(e,value){this.setState({label:value})},UsersList.prototype.updateLabel=function(){this.state.label!==this.props.item.label&&this.props.onEditLabel(this.props.item,this.state.label),this.setState({editLabel:!1})},UsersList.prototype.render=function(){var _this=this,_props=this.props,item=_props.item,mode=_props.mode,paginatorType=_props.paginatorType,paginatorFolder=_props.paginatorFolder,loading=_props.loading,enableSearch=_props.enableSearch,showSubheaders=_props.showSubheaders,getMessage=_props.getMessage,actionsPanel=_props.actionsPanel,muiTheme=_props.muiTheme,bookColumn=_props.bookColumn,pydio=_props.pydio,reloadAction=_props.reloadAction,_props$listStyles=this.props.listStyles,listStyles=void 0===_props$listStyles?{}:_props$listStyles,className=void 0;"selector"!==mode&&"inner"!==mode||(listStyles=_ListStylesCompact2.default,className="compact");var avatarSize=listStyles.avatar?listStyles.avatar.avatarSize:36,folders=item.collections||[],leafs=item.leafs||[],foldersSubHeader=[],usersSubHeader=[];paginatorFolder?foldersSubHeader.push({subheader:_react2.default.createElement(_AlphaPaginator2.default,_extends({},this.props,{style:{lineHeight:"20px",padding:"14px 0"}}))}):folders.length&&(leafs.length||showSubheaders)&&foldersSubHeader.push({subheader:getMessage("532")}),paginatorType?usersSubHeader.push({subheader:_react2.default.createElement(_AlphaPaginator2.default,_extends({},this.props,{style:{lineHeight:"20px",padding:"14px 0"}}))}):showSubheaders&&usersSubHeader.push({subheader:getMessage("249")});var items=[].concat(foldersSubHeader,folders,usersSubHeader,leafs),total=items.length,elements=[],toggleSelect=function(){_this.setState({select:!_this.state.select,selection:[]})},createAction=function(){_this.props.onCreateAction(item)},deleteAction=function(){_this.props.onDeleteAction(item,_this.state.selection),_this.setState({select:!1,selection:[]})},accentColor=muiTheme.palette.accent2Color,appBar=muiTheme.appBar,stylesProps={toolbarHeight:"book"===mode?56:48,toolbarBgColor:"book"===mode?this.state.select?accentColor:"#fafafa":appBar.color,titleFontsize:"book"===mode?20:16,titleFontWeight:400,titleColor:"book"===mode?this.state.select?"white":"rgba(0,0,0,0.87)":appBar.textColor,titlePadding:10,button:{border:"1px solid "+accentColor,borderRadius:"50%",margin:"0 4px",width:36,height:36,padding:6},icon:{fontSize:22,color:accentColor}};if(bookColumn){var colorHue=_color2.default(muiTheme.palette.primary1Color).hsl().array()[0],headerTitle=new _color2.default({h:colorHue,s:30,l:43});stylesProps.toolbarBgColor="transparent",stylesProps.titleColor=headerTitle.toString(),stylesProps.titleFontsize=14,stylesProps.titleFontWeight=500,stylesProps.titlePadding="10px 6px 10px 16px",stylesProps.button.margin="0",stylesProps.button.border="0",stylesProps.icon.color="#ccc"}var searchProps={style:{flex:1,minWidth:110}};"selector"===mode&&(searchProps.inputStyle={color:"white"},searchProps.hintStyle={color:"rgba(255,255,255,.5)"},searchProps.underlineStyle={borderColor:"rgba(255,255,255,.5)"},searchProps.underlineFocusStyle={borderColor:"white"});var label=item.label;this.props.onEditLabel&&!this.state.select&&(label=this.state.editLabel?_react2.default.createElement("div",{style:{display:"flex",alignItems:"center",flex:1}},_react2.default.createElement(_materialUi.TextField,{style:{fontSize:20},value:this.state.label,onChange:this.onLabelChange.bind(this),onKeyDown:this.onLabelKeyEnter.bind(this)}),_react2.default.createElement(_materialUi.IconButton,{iconStyle:{color:"#e0e0e0"},secondary:!0,iconClassName:"mdi mdi-content-save",tooltip:getMessage(48),onClick:function(){_this.updateLabel()}})):_react2.default.createElement("div",{style:{display:"flex",alignItems:"center",flex:1}},label,_react2.default.createElement(_materialUi.IconButton,{iconStyle:{color:"#e0e0e0"},iconClassName:"mdi mdi-pencil",tooltip:getMessage(48),onClick:function(){_this.setState({editLabel:!0,label:item.label})}})));var createIcon="mdi mdi-account-plus";item.actions&&"teams"===item.actions.type&&(createIcon="mdi mdi-account-multiple-plus");var ellipsis={whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},toolbar=_react2.default.createElement("div",{style:{padding:stylesProps.titlePadding,height:stylesProps.toolbarHeight,minHeight:stylesProps.toolbarHeight,backgroundColor:stylesProps.toolbarBgColor,borderRadius:"2px 2px 0 0",display:"flex",alignItems:"center",transition:_pydioUtilDom2.default.getBeziersTransition()}},"selector"===mode&&item._parent&&_react2.default.createElement(_materialUi.IconButton,{style:{marginLeft:-10},iconStyle:{color:stylesProps.titleColor},iconClassName:"mdi mdi-chevron-left",onClick:function(){_this.props.onFolderClicked(item._parent)}}),"book"===mode&&total>0&&item.actions&&item.actions.multiple&&_react2.default.createElement(_materialUi.Checkbox,{style:{width:"initial",marginLeft:this.state.select?7:14},checked:this.state.select,onCheck:toggleSelect}),_react2.default.createElement("div",{style:_extends({flex:2,fontSize:stylesProps.titleFontsize,color:stylesProps.titleColor,fontWeight:stylesProps.titleFontWeight},ellipsis)},label),("book"===mode||"selector"===mode&&bookColumn)&&item.actions&&item.actions.create&&!this.state.select&&_react2.default.createElement(_materialUi.IconButton,{style:stylesProps.button,iconStyle:stylesProps.icon,iconClassName:createIcon,tooltipPosition:"bottom-left",tooltip:getMessage(item.actions.create),onClick:createAction}),bookColumn&&!item._parent&&_react2.default.createElement(_materialUi.IconButton,{style:stylesProps.button,iconStyle:stylesProps.icon,iconClassName:"mdi mdi-window-restore",tooltipPosition:"bottom-left",tooltip:pydio.MessageHash[411],onClick:function(){pydio.Controller.fireAction("open_address_book")}}),"book"===mode&&item.actions&&item.actions.remove&&this.state.select&&_react2.default.createElement(_materialUi.RaisedButton,{secondary:!0,label:getMessage(item.actions.remove),disabled:!this.state.selection.length,onClick:deleteAction}),!this.state.select&&actionsPanel,enableSearch&&!bookColumn&&_react2.default.createElement(_SearchForm2.default,_extends({searchLabel:this.props.searchLabel,onSearch:this.props.onSearch},searchProps)),reloadAction&&("book"===mode||"selector"===mode&&bookColumn)&&_react2.default.createElement(_materialUi.IconButton,{style:stylesProps.button,iconStyle:stylesProps.icon,iconClassName:"mdi mdi-refresh",tooltipPosition:"bottom-left",tooltip:pydio.MessageHash[149],onClick:reloadAction,disabled:loading}));item._parent&&"book"===mode&&item._parent._parent&&"teams"!==item._parent.id&&(elements.push(_react2.default.createElement(_materialUi.ListItem,_extends({key:"__parent__",primaryText:"..",onClick:function(e){e.stopPropagation(),_this.props.onFolderClicked(item._parent)},leftAvatar:_react2.default.createElement(_materialUi.Avatar,{icon:_react2.default.createElement(_materialUi.FontIcon,{className:"mdi mdi-arrow-up"}),size:avatarSize})},listStyles.listItem))),total&&elements.push(_react2.default.createElement(_materialUi.Divider,{inset:!0,key:"parent-divider"}))),items.forEach(function(item,index){var _this2=this;if(item.subheader)return void elements.push(_react2.default.createElement(_materialUi.Subheader,{key:item.subheader},item.subheader));var fontIcon=_react2.default.createElement(_avatarUserAvatar2.default,{avatarSize:avatarSize,pydio:this.props.pydio||pydio,userId:item.id,userLabel:item.label,avatar:item.avatar,icon:item.icon,idmUser:item.IdmUser,userType:item.type||"group",avatarOnly:!0,useDefaultAvatar:!0,style:listStyles.avatar?listStyles.avatar.style:{}}),rightIconButton=void 0,touchTap=function(e){e.stopPropagation(),_this2.props.onItemClicked(item)};if(folders.indexOf(item)>-1&&this.props.onFolderClicked?(touchTap=function(e){e.stopPropagation(),_this2.props.onFolderClicked(item)},"selector"!==mode||item._notSelectable||this.props.usersOnly||(rightIconButton=_react2.default.createElement(_materialUi.IconButton,_extends({iconClassName:"mdi mdi-account-multiple-plus",tooltip:getMessage("addressbook.pick.group"),tooltipPosition:"top-left",iconStyle:{color:"rgba(0,0,0,0.33)"},onClick:function(){_this2.props.onItemClicked(item)}},listStyles.iconButton)))):"inner"===mode&&this.props.onDeleteAction&&(rightIconButton=_react2.default.createElement(_materialUi.IconButton,_extends({iconClassName:"mdi mdi-delete",tooltip:getMessage(257),tooltipPosition:"top-left",iconStyle:{color:"rgba(0,0,0,0.13)",hoverColor:"rgba(0,0,0,0.53)"},onClick:function(){_this2.props.onDeleteAction(_this2.props.item,[item])}},listStyles.iconButton))),bookColumn&&this.props.actionsForCell&&item.type){var menuItems=new _avatarCellActionsRenderer2.default(pydio,this.props.actionsForCell,null,item).renderItems();rightIconButton=menuItems.length?_react2.default.createElement(_materialUi.IconMenu,_extends({},listStyles.iconMenu,{iconButtonElement:_react2.default.createElement(_materialUi.IconButton,_extends({iconClassName:"mdi mdi-dots-vertical",iconStyle:{color:"rgba(0,0,0,.33)"}},listStyles.iconButton)),targetOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"top"},desktop:!0}),menuItems):null}var select=function(e,checked){if(checked)_this2.setState({selection:[].concat(_this2.state.selection,[item])});else{var stateSel=_this2.state.selection,selection=[].concat(stateSel.slice(0,stateSel.indexOf(item)),stateSel.slice(stateSel.indexOf(item)+1));_this2.setState({selection:selection})}};elements.push(_react2.default.createElement(_materialUi.ListItem,_extends({key:item.id,primaryText:_react2.default.createElement("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},item.label),onClick:touchTap,disabled:"inner"===mode,leftAvatar:!this.state.select&&fontIcon,rightIconButton:rightIconButton,leftCheckbox:this.state.select&&_react2.default.createElement(_materialUi.Checkbox,{checked:this.state.selection.indexOf(item)>-1,onCheck:select})},listStyles.listItem))),"inner"!==mode&&index<total-1&&elements.push(_react2.default.createElement(_materialUi.Divider,_extends({inset:!0,key:item.id+"-divider"
},listStyles.divider)))}.bind(this));var emptyState=void 0;if(!elements.length){var emptyStateProps={style:{backgroundColor:"transparent",minHeight:300},iconClassName:"mdi mdi-account-off",primaryTextId:this.props.emptyStatePrimaryText||getMessage(629),secondaryTextId:"book"===mode?this.props.emptyStateSecondaryText||null:null};"book"===mode&&item.actions&&item.actions.create&&(emptyStateProps=_extends({},emptyStateProps,{actionLabelId:getMessage(item.actions.create),actionCallback:createAction})),"compact"===className&&(emptyStateProps=_extends({},emptyStateProps,{style:{backgroundColor:"transparent",minHeight:150},iconStyle:{fontSize:40},legendStyle:{fontSize:13}})),emptyState=_react2.default.createElement(_viewsEmptyStateView2.default,emptyStateProps)}return _react2.default.createElement("div",{style:{flex:1,flexDirection:"column",display:"flex",width:"100%",overflowX:"hidden"},onClick:this.props.onClick,className:className},"inner"!==mode&&!this.props.noToolbar&&toolbar,!emptyState&&!loading&&_react2.default.createElement(_materialUi.List,{style:{flex:1,overflowY:"inner"!==mode?"auto":"initial"}},this.props.subHeader&&_react2.default.createElement(_materialUi.Subheader,null,this.props.subHeader),elements),loading&&_react2.default.createElement(Loader,{style:{flex:1}}),!loading&&emptyState,"selector"===mode&&enableSearch&&bookColumn&&_react2.default.createElement(_SearchForm2.default,{searchLabel:this.props.searchLabel,onSearch:this.props.onSearch,style:{padding:"0 20px",minWidth:null,borderTop:"1px solid #e0e0e0",backgroundColor:"white"},underlineShow:!1}))},UsersList}(_react2.default.Component);UsersList.propTypes={item:_propTypes2.default.object,onCreateAction:_propTypes2.default.func,onDeleteAction:_propTypes2.default.func,onItemClicked:_propTypes2.default.func,onFolderClicked:_propTypes2.default.func,onEditLabel:_propTypes2.default.func,mode:_propTypes2.default.oneOf(["book","selector","inner"]),bookColumn:_propTypes2.default.bool},exports.default=UsersList=PydioContextConsumer(UsersList),exports.default=UsersList=_materialUiStyles.muiThemeable()(UsersList),exports.default=UsersList,module.exports=exports.default},{"../../views/EmptyStateView":63,"../avatar/CellActionsRenderer":59,"../avatar/UserAvatar":61,"./AlphaPaginator":48,"./ListStylesCompact":49,"./SearchForm":53,color:"color","material-ui":"material-ui","material-ui/styles":"material-ui/styles","prop-types":"prop-types",pydio:"pydio","pydio/util/dom":"pydio/util/dom",react:"react"}],58:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_addressbookAddressBook=require("../addressbook/AddressBook"),_addressbookAddressBook2=_interopRequireDefault(_addressbookAddressBook),_policiesResourcePoliciesPanel=require("../../policies/ResourcePoliciesPanel"),_policiesResourcePoliciesPanel2=_interopRequireDefault(_policiesResourcePoliciesPanel),React=require("react"),PydioApi=require("pydio/http/api"),ResourcesManager=require("pydio/http/resources-manager"),_require=require("material-ui"),IconButton=_require.IconButton,Popover=_require.Popover,_require2=require("material-ui/styles"),muiThemeable=_require2.muiThemeable,_require$requireLib=require("pydio").requireLib("boot"),PydioContextConsumer=_require$requireLib.PydioContextConsumer,AsyncComponent=_require$requireLib.AsyncComponent,ActionsPanel=function(_React$Component){_inherits(ActionsPanel,_React$Component);function ActionsPanel(props,context){_classCallCheck(this,ActionsPanel),_React$Component.call(this,props,context),this.state={showPicker:!1,pickerAnchor:null,showMailer:!1,mailerAnchor:null,showPolicies:!1,policiesAnchor:null}}return ActionsPanel.prototype.onTeamSelected=function(item){this.setState({showPicker:!1}),item.IdmRole&&item.IdmRole.IsTeam&&PydioApi.getRestClient().getIdmApi().addUserToTeam(item.IdmRole.Uuid,this.props.userId,this.props.reloadAction)},ActionsPanel.prototype.onUserSelected=function(item){PydioApi.getRestClient().getIdmApi().addUserToTeam(this.props.team.id,item.IdmUser.Login,this.props.reloadAction)},ActionsPanel.prototype.openPicker=function(event){this.setState({showPicker:!0,pickerAnchor:event.currentTarget})},ActionsPanel.prototype.openPolicies=function(event){this.setState({showPolicies:!0,policiesAnchor:event.currentTarget})},ActionsPanel.prototype.openMailer=function(event){var _this=this,target=event.currentTarget;ResourcesManager.loadClassesAndApply(["PydioMailer"],function(){_this.setState({mailerLibLoaded:!0},function(){_this.setState({showMailer:!0,mailerAnchor:target})})})},ActionsPanel.prototype.componentDidUpdate=function(prevProps,prevState){this.props.lockOnSubPopoverOpen&&(!this.state.showPicker&&!this.state.showMailer||prevState.showPicker||prevState.showMailer?this.state.showPicker||this.state.showMailer||!prevState.showPicker&&!prevState.showMailer||this.props.lockOnSubPopoverOpen(!1):this.props.lockOnSubPopoverOpen(!0))},ActionsPanel.prototype.render=function(){var _this2=this,_props=this.props,getMessage=_props.getMessage,muiTheme=_props.muiTheme,team=_props.team,user=_props.user,userEditable=_props.userEditable,userId=_props.userId,style=_props.style,teamsEditable=(_props.zDepth,_pydio2.default.getInstance().getController().actions.has("user_team_create")),styles={button:{border:"0px solid "+muiTheme.palette.accent2Color,borderRadius:"50%",margin:"0 4px",width:30,height:30,padding:4},icon:{fontSize:20,color:muiTheme.palette.accent2Color}},usermails={},actions=[],resourceType=void 0,resourceId=void 0;return user&&user.IdmUser&&user.IdmUser.Attributes&&(user.IdmUser.Attributes.hasEmail||user.IdmUser.Attributes.email)&&(actions.push({key:"message",label:getMessage(598),icon:"email",callback:this.openMailer.bind(this)}),usermails[user.IdmUser.Login]=user.IdmUser),team?(resourceType="team",resourceId=team.id,teamsEditable&&actions.push({key:"users",label:getMessage(599),icon:"account-multiple-plus",callback:this.openPicker.bind(this)})):(resourceType="user",resourceId=userId,teamsEditable&&actions.push({key:"teams",label:getMessage(573),icon:"account-multiple-plus",callback:this.openPicker.bind(this)})),!userEditable||this.props.team&&!teamsEditable||(this.props.onEditAction&&actions.push({key:"edit",label:getMessage(this.props.team?580:600),icon:"pencil",callback:this.props.onEditAction}),actions.push({key:"policies",label:"Visibility",icon:"security",callback:this.openPolicies.bind(this)}),this.props.onDeleteAction&&actions.push({key:"delete",label:getMessage(this.props.team?570:582),icon:"delete",callback:this.props.onDeleteAction})),0===actions.length?null:React.createElement("div",{style:_extends({},style)},actions.map(function(a){return React.createElement(IconButton,{key:a.key,style:styles.button,iconStyle:styles.icon,tooltip:a.label,iconClassName:"mdi mdi-"+a.icon,onClick:a.callback})}),React.createElement(Popover,{open:this.state.showPicker,anchorEl:this.state.pickerAnchor,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},onRequestClose:function(){_this2.setState({showPicker:!1})},useLayerForClickAway:!1,style:{zIndex:2200}},React.createElement("div",{style:{width:256,height:320}},React.createElement(_addressbookAddressBook2.default,{mode:"selector",pydio:this.props.pydio,loaderStyle:{width:320,height:320},onItemSelected:this.props.team?this.onUserSelected.bind(this):this.onTeamSelected.bind(this),teamsOnly:!this.props.team,usersOnly:!!this.props.team}))),React.createElement(Popover,{open:this.state.showMailer,anchorEl:this.state.mailerAnchor,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},useLayerForClickAway:!1,style:{zIndex:2200}},React.createElement("div",{style:{width:256,height:320}},this.state.mailerLibLoaded&&React.createElement(AsyncComponent,{namespace:"PydioMailer",componentName:"Pane",pydio:_pydio2.default.getInstance(),zDepth:0,panelTitle:getMessage(598),uniqueUserStyle:!0,users:usermails,templateId:"DM",templateData:{From:_pydio2.default.getInstance().user.getPreference("displayName")||_pydio2.default.getInstance().user.id},onDismiss:function(){_this2.setState({showMailer:!1})},onFieldFocus:this.props.otherPopoverMouseOver}))),React.createElement(Popover,{open:this.state.showPolicies,anchorEl:this.state.policiesAnchor,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},useLayerForClickAway:!1,style:{zIndex:2e3}},React.createElement("div",{style:{width:256,height:320}},React.createElement(_policiesResourcePoliciesPanel2.default,{description:this.props.pydio.MessageHash["visibility.users.advanced"],pydio:this.props.pydio,resourceType:resourceType,resourceId:resourceId,onDismiss:function(){_this2.setState({showPolicies:!1})}}))))},ActionsPanel}(React.Component);ActionsPanel.propTypes={user:_propTypes2.default.object,team:_propTypes2.default.object,userEditable:_propTypes2.default.object},exports.default=ActionsPanel=PydioContextConsumer(ActionsPanel),exports.default=ActionsPanel=muiThemeable()(ActionsPanel),exports.default=ActionsPanel,module.exports=exports.default},{"../../policies/ResourcePoliciesPanel":41,"../addressbook/AddressBook":47,"material-ui":"material-ui","material-ui/styles":"material-ui/styles","prop-types":"prop-types",pydio:"pydio","pydio/http/api":"pydio/http/api","pydio/http/resources-manager":"pydio/http/resources-manager",react:"react"}],59:[function(require,module,exports){"use strict";exports.__esModule=!0;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _materialUi=require("material-ui"),_pydioModelIdmObjectHelper=require("pydio/model/idm-object-helper"),_pydioModelIdmObjectHelper2=_interopRequireDefault(_pydioModelIdmObjectHelper),_pydioModelCell=require("pydio/model/cell"),_pydioModelCell2=_interopRequireDefault(_pydioModelCell),CellActionsRenderer=function(){function CellActionsRenderer(pydio,cellModel,acl){var addressBookItem=arguments.length<=3||void 0===arguments[3]?null:arguments[3];_classCallCheck(this,CellActionsRenderer),this.props={pydio:pydio,cellModel:cellModel,acl:acl,addressBookItem:addressBookItem}}return CellActionsRenderer.prototype.createCell=function(){var _props=this.props,addressBookItem=_props.addressBookItem,pydio=_props.pydio,m=pydio.MessageHash,idmObject=void 0;addressBookItem.IdmUser?idmObject=addressBookItem.IdmUser:addressBookItem.IdmRole&&(idmObject=addressBookItem.IdmRole),idmObject&&pydio.user.getIdmUser().then(function(loggedUser){var loggedLabel=_pydioModelIdmObjectHelper2.default.extractLabelFromIdmObject(loggedUser),targetLabel=_pydioModelIdmObjectHelper2.default.extractLabelFromIdmObject(addressBookItem.IdmUser||addressBookItem.IdmRole),model=new _pydioModelCell2.default;model.setLabel(loggedLabel+", "+targetLabel),model.setDescription("Created by "+loggedLabel),model.addUser(idmObject),model.save().then(function(res){pydio.UI.displayMessage("SUCCESS",m[643].replace("%s",targetLabel))}).catch(function(reason){pydio.UI.displayMessage("ERROR",m[644].replace("%s",reason.message))})})},CellActionsRenderer.prototype.addToCell=function(){var idmObject=void 0,_props2=this.props,addressBookItem=_props2.addressBookItem,cellModel=_props2.cellModel;addressBookItem.IdmUser?idmObject=addressBookItem.IdmUser:addressBookItem.IdmRole&&(idmObject=addressBookItem.IdmRole),idmObject&&(cellModel.addUser(idmObject),cellModel.save())},CellActionsRenderer.prototype.removeFromCell=function(){var _props3=this.props,acl=_props3.acl,cellModel=_props3.cellModel;cellModel.removeUser(acl.RoleId),cellModel.save()},CellActionsRenderer.prototype.renderItems=function(){var _props4=this.props,pydio=_props4.pydio,cellModel=_props4.cellModel,acl=_props4.acl,addressBookItem=_props4.addressBookItem,m=pydio.MessageHash,isLogged=void 0;isLogged=acl?acl.User&&acl.User.Login===pydio.user.id:"user"===userType&&pydio.user.id===userId;var items=[];if(isLogged)return items;var userId=void 0,userType=void 0;addressBookItem&&(userId=addressBookItem.id,"group"===(userType=addressBookItem.type)&&addressBookItem.IdmRole&&(userId=addressBookItem.IdmRole.Uuid,userType="team"));var label=void 0;if(label=acl?_pydioModelIdmObjectHelper2.default.extractLabel(pydio,acl):addressBookItem.label,!0===cellModel)return pydio.getPluginConfigs("auth").get("USER_CREATE_CELLS")?[React.createElement(_materialUi.MenuItem,{primaryText:m[640].replace("%s",label),onClick:this.createCell.bind(this)})]:[];var canWrite=cellModel.isEditable(),acls=cellModel.getAcls(),isInCurrent=void 0;return Object.keys(acls).map(function(k){var cellAcl=acls[k],crt=void 0;(crt=acl?acl.RoleId===cellAcl.RoleId:"user"===userType&&cellAcl.User&&cellAcl.User.Login===userId||"group"===userType&&cellAcl.Group&&cellAcl.Group.Uuid===userId||"team"===userType&&cellAcl.Role&&cellAcl.Role.Uuid===userId)&&(isInCurrent=!0)}),isInCurrent?items.push(React.createElement(_materialUi.MenuItem,{primaryText:m[641],disabled:!canWrite,onClick:this.removeFromCell.bind(this)})):items.push(React.createElement(_materialUi.MenuItem,{primaryText:m[642],disabled:!canWrite,onClick:this.addToCell.bind(this)})),pydio.getPluginConfigs("auth").get("USER_CREATE_CELLS")&&items.push(React.createElement(_materialUi.Divider,null),React.createElement(_materialUi.MenuItem,{primaryText:m[640].replace("%s",label),onClick:this.createCell.bind(this)})),items},CellActionsRenderer}();exports.default=CellActionsRenderer,module.exports=exports.default},{"material-ui":"material-ui","pydio/model/cell":"pydio/model/cell","pydio/model/idm-object-helper":"pydio/model/idm-object-helper"}],60:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _materialUi=require("material-ui"),_addressbookUsersList=require("../addressbook/UsersList"),_addressbookUsersList2=_interopRequireDefault(_addressbookUsersList),_addressbookListStylesCompact=require("../addressbook/ListStylesCompact"),_addressbookListStylesCompact2=_interopRequireDefault(_addressbookListStylesCompact),_require=require("react"),Component=_require.Component,_require2=require("material-ui"),Divider=_require2.Divider,Subheader=_require2.Subheader,List=_require2.List,ListItem=_require2.ListItem,FontIcon=_require2.FontIcon,Avatar=_require2.Avatar,PydioApi=require("pydio/http/api"),_require$requireLib=require("pydio").requireLib("boot"),PydioContextConsumer=_require$requireLib.PydioContextConsumer,GraphPanel=function(_Component){_inherits(GraphPanel,_Component);function GraphPanel(){_classCallCheck(this,GraphPanel),_Component.apply(this,arguments)}return GraphPanel.prototype.render=function(){var _this=this,_props=this.props,graph=_props.graph,pydio=_props.pydio,getMessage=_props.getMessage,teamsEditable=pydio.getController().actions.has("user_team_create"),elements=[];if(graph.teams&&graph.teams.length){var onDeleteAction=null;teamsEditable&&(onDeleteAction=function(parentItem,team){PydioApi.getRestClient().getIdmApi().removeUserFromTeam(team[0].id,_this.props.userId,function(response){response&&response.message&&pydio.UI.displayMessage("SUCCESS",response.message),_this.props.reloadAction()})}),elements.push(React.createElement("div",{key:"teams"},React.createElement(_addressbookUsersList2.default,{subHeader:getMessage(581).replace("%s",graph.teams.length),onItemClicked:function(){},item:{leafs:graph.teams},mode:"inner",onDeleteAction:onDeleteAction})))}if(graph.cells){var cells=Object.values(graph.cells).filter(function(cell){return"ROOM"===cell.Scope});cells.length&&elements.push(React.createElement("div",null,elements.length?React.createElement(Divider,null):null,React.createElement(Subheader,null,1===cells.length?getMessage("601"):getMessage("602").replace("%1",cells.length)),React.createElement(List,{style:{paddingTop:0}},cells.map(function(cell){return React.createElement(ListItem,_extends({disabled:!0,leftAvatar:React.createElement(Avatar,{icon:React.createElement(FontIcon,{className:"mdi mdi-share-variant"}),backgroundColor:"#009688",size:_addressbookListStylesCompact2.default.avatar.avatarSize,style:_addressbookListStylesCompact2.default.avatar.style}),primaryText:cell.Label,rightIconButton:React.createElement(_materialUi.IconButton,_extends({iconClassName:"mdi mdi-open-in-new",tooltip:"Go to Cell",tooltipPosition:"top-left",onClick:function(){pydio.triggerRepositoryChange(cell.UUID)}},_addressbookListStylesCompact2.default.iconButton))},_addressbookListStylesCompact2.default.listItem))}))))}return React.createElement("div",null,elements)},GraphPanel}(Component);exports.default=GraphPanel=PydioContextConsumer(GraphPanel),exports.default=GraphPanel,module.exports=exports.default},{"../addressbook/ListStylesCompact":49,"../addressbook/UsersList":57,"material-ui":"material-ui",pydio:"pydio","pydio/http/api":"pydio/http/api",react:"react"}],61:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _GraphPanel=require("./GraphPanel"),_GraphPanel2=_interopRequireDefault(_GraphPanel),_ActionsPanel=require("./ActionsPanel"),_ActionsPanel2=_interopRequireDefault(_ActionsPanel),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_pydioHttpApi=require("pydio/http/api"),_pydioHttpApi2=_interopRequireDefault(_pydioHttpApi),debounce=require("lodash.debounce"),React=require("react"),Color=require("color"),_require=require("material-ui"),FontIcon=_require.FontIcon,Popover=_require.Popover,Paper=_require.Paper,Avatar=_require.Avatar,CardTitle=_require.CardTitle,_require2=(_require.Divider,require("material-ui/styles")),muiThemeable=_require2.muiThemeable,MetaCacheService=require("pydio/http/meta-cache-service"),_require3=require("pydio/http/users-api"),UsersApi=_require3.UsersApi,UserAvatar=function(_React$Component){_inherits(UserAvatar,_React$Component);function UserAvatar(props,context){_classCallCheck(this,UserAvatar),_React$Component.call(this,props,context),this.state={user:null,avatar:null,graph:null,local:!1}}return UserAvatar.prototype.componentDidMount=function(){this.loadPublicData(this.props.userId,this.props.idmUser)},UserAvatar.prototype.componentWillReceiveProps=function(nextProps){this.props.userId&&this.props.userId===nextProps.userId||(this.setState({label:nextProps.userId}),this.loadPublicData(nextProps.userId,nextProps.idmUser))},UserAvatar.prototype.componentWillUnmount=function(){this._userLoggedObs&&this.props.pydio.stopObserving("user_logged",this._userLoggedObs)},UserAvatar.prototype.loadPublicData=function(userId,idmUser){var _this=this,_props=this.props,userType=_props.userType,richCard=_props.richCard,pydio=_props.pydio;"group"!==userType&&"team"!==userType&&UsersApi.getUserPromise(userId,idmUser).then(function(userObject){userObject.isLocal()&&(_this._userLoggedObs=function(eventUser){_this._userLoggedObs=null,null!==eventUser&&_this.loadPublicData(userId)},pydio.observeOnce("user_logged",_this._userLoggedObs)),_this.setState({user:userObject,avatar:userObject.getAvatar(),local:userObject.isLocal()}),richCard&&!userObject.isNotFound()&&_pydioHttpApi2.default.getRestClient().getIdmApi().loadUserGraph(userId).then(function(response){var graph={cells:{},teams:[]};response.SharedCells&&response.SharedCells.forEach(function(workspace){graph.cells=response.SharedCells}),response.BelongsToTeams&&response.BelongsToTeams.forEach(function(role){graph.teams.push({id:role.Uuid,label:role.Label,type:"team",IdmRole:role})}),_this.setState({graph:graph})})}).catch(function(e){_this.setState({loadError:!0})})},UserAvatar.prototype.render=function(){var _this2=this,_state=this.state,user=_state.user,avatar=_state.avatar,graph=_state.graph,local=_state.local,loadError=_state.loadError,_props2=this.props,pydio=_props2.pydio,userId=_props2.userId,userType=_props2.userType,icon=_props2.icon,style=_props2.style,labelStyle=_props2.labelStyle,avatarLetters=_props2.avatarLetters,avatarStyle=_props2.avatarStyle,avatarSize=_props2.avatarSize,cardStyle=_props2.cardStyle,className=_props2.className,labelMaxChars=_props2.labelMaxChars,labelClassName=_props2.labelClassName,avatarClassName=_props2.avatarClassName,displayLabel=_props2.displayLabel,displayLocalLabel=_props2.displayLocalLabel,displayLabelChevron=_props2.displayLabelChevron,labelChevronStyle=_props2.labelChevronStyle,displayAvatar=_props2.displayAvatar,useDefaultAvatar=_props2.useDefaultAvatar,richCard=_props2.richCard,muiTheme=_props2.muiTheme,noActionsPanel=_props2.noActionsPanel,label=this.state.label,labelTitle=void 0,userTypeLabel=void 0,userNotFound=loadError,userIsPublic=!1;user?(label=user.getLabel(),userNotFound=user.isNotFound(),userIsPublic=user.isPublic()):label||(label=this.props.userLabel||this.props.userId),local&&displayLocalLabel&&(label=pydio.MessageHash[634]),labelMaxChars&&label&&label.length>labelMaxChars&&(label.split(" ").length>1?(labelTitle=label,label=label.split(" ").map(function(word){return word[0]}).join("")):label.split("@").length>1&&(labelTitle=label,label=label.split("@")[0].split(".").length>1?label.split("@")[0].split(".").map(function(word){return word[0]}).join(""):label.split("@")[0]));var avatarContent=void 0,avatarColor=void 0,avatarIcon=void 0,avatarClass=void 0;if(richCard&&(displayAvatar=!0,useDefaultAvatar=!0,displayLabel=!0),displayAvatar&&!avatar&&label&&(!displayLabel||useDefaultAvatar)){var avatarsColor=muiTheme.palette.avatarsColor;"group"!==userType&&"team"!==userType&&0!==userId.indexOf("PYDIO_GRP_/")&&0!==userId.indexOf("/USER_TEAM/")||(avatarsColor=Color(avatarsColor).darken(.2).toString());var iconClassName=void 0;switch(userType){case"group":iconClassName="mdi mdi-account-multiple",userTypeLabel="289",avatarClass="folder-avatar";break;case"team":iconClassName="mdi mdi-account-multiple-outline",userTypeLabel="603",avatarClass="folder-avatar";break;case"remote":iconClassName="mdi mdi-account-network",userTypeLabel="604",avatarClass="folder-avatar";break;default:iconClassName="mdi mdi-account",user?user.getExternal()?(userTypeLabel="589",user.isPublic()&&(userTypeLabel="589",label=pydio.MessageHash.public_link_user,iconClassName="mdi mdi-link")):userTypeLabel="590":userTypeLabel="288"}icon&&(iconClassName=icon),userTypeLabel&&(userTypeLabel=pydio.MessageHash[userTypeLabel]),richCard?(avatarIcon=React.createElement(FontIcon,{className:iconClassName,style:{color:avatarsColor}}),avatarColor="#f5f5f5"):(avatarColor=avatarsColor,iconClassName&&!avatarLetters?avatarIcon=React.createElement(FontIcon,{className:iconClassName}):(avatarContent=label.split(" ").map(function(word){return word[0]}).join("").substring(0,2),avatarContent.length<2&&(avatarContent=label.substring(0,2))))}var reloadAction=void 0,onEditAction=void 0,onMouseOver=void 0,onMouseOut=void 0,onClick=void 0,popover=void 0;richCard?function(){displayAvatar=!0,style=_extends({},style,{flexDirection:"column"}),avatarSize=50,avatarStyle=_extends({position:"absolute",right:16,top:12},avatarStyle);var localReload=function(){MetaCacheService.getInstance().deleteKey("user_public_data-graph",_this2.props.userId),_this2.loadPublicData(_this2.props.userId,_this2.props.idmUser)};reloadAction=function(){localReload(),_this2.props.reloadAction&&_this2.props.reloadAction()},onEditAction=function(){localReload(),_this2.props.onEditAction&&_this2.props.onEditAction()}}():local||userNotFound||userIsPublic||!this.props.richOnHover?local||userNotFound||userIsPublic||!this.props.richOnClick||function(){onMouseOut=function(){_this2.lockedBySubPopover||_this2.setState({showPopover:!1})},onMouseOut=debounce(onMouseOut,350),onClick=function(e){_this2.setState({showPopover:!0,popoverAnchor:e.currentTarget}),onMouseOut.cancel()};var onMouseOverInner=function(e){_this2.setState({showPopover:!0}),onMouseOut.cancel()},lockOnSubPopoverOpen=function(status){_this2.lockedBySubPopover=status,onMouseOverInner()},_props4=_this2.props,popoverProps=(_props4.style,_objectWithoutProperties(_props4,["style"]));popover=React.createElement(Popover,{open:_this2.state.showPopover,anchorEl:_this2.state.popoverAnchor,onRequestClose:function(reason){"clickAway"===reason&&_this2.lockedBySubPopover||_this2.setState({showPopover:!1})},anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},useLayerForClickAway:!1},React.createElement(Paper,{zDepth:2,style:{width:220,height:320,overflowY:"auto"},onMouseOver:onMouseOverInner,onMouseOut:onMouseOut},React.createElement(UserAvatar,_extends({},popoverProps,{richCard:!0,richOnHover:!1,cardSize:220,lockOnSubPopoverOpen:lockOnSubPopoverOpen}))))}():function(){onMouseOut=function(){_this2.lockedBySubPopover||_this2.setState({showPopover:!1})},onMouseOut=debounce(onMouseOut,350),onMouseOver=function(e){_this2.setState({showPopover:!0,popoverAnchor:e.currentTarget}),onMouseOut.cancel()};var onMouseOverInner=function(e){_this2.setState({showPopover:!0}),onMouseOut.cancel()},lockOnSubPopoverOpen=function(status){_this2.lockedBySubPopover=status,onMouseOverInner()},_props3=_this2.props,popoverProps=(_props3.style,_objectWithoutProperties(_props3,["style"]));popover=React.createElement(Popover,{open:_this2.state.showPopover,anchorEl:_this2.state.popoverAnchor,onRequestClose:function(reason){"clickAway"===reason&&_this2.lockedBySubPopover||_this2.setState({showPopover:!1})},anchorOrigin:{horizontal:"left",vertical:"center"},targetOrigin:{horizontal:"right",vertical:"center"},useLayerForClickAway:!1},React.createElement(Paper,{zDepth:2,style:{width:220,height:320,overflowY:"auto"},onMouseOver:onMouseOverInner,onMouseOut:onMouseOut},React.createElement(UserAvatar,_extends({},popoverProps,{richCard:!0,richOnHover:!1,cardSize:220,lockOnSubPopoverOpen:lockOnSubPopoverOpen}))))}(),avatar&&(avatarIcon=React.createElement(FontIcon,{style:{backgroundImage:"url("+avatar+"?dim="+avatarSize+")",backgroundSize:"cover",margin:0,width:"100%",height:"100%",borderRadius:"50%",backgroundPosition:"center"}}));var avatarComponent=React.createElement(Avatar,{icon:avatarIcon,size:avatarSize,style:this.props.avatarOnly?this.props.style:avatarStyle,backgroundColor:avatarColor,className:avatarClass||avatarClassName},avatarContent);if(this.props.avatarOnly)return avatarComponent;richCard?avatarComponent=React.createElement("div",{style:{textAlign:"center"}},avatarComponent):userNotFound&&(label=pydio.MessageHash["user.unknown"]);var labelChevron=void 0;return displayLabel&&displayLabelChevron&&(labelChevron=React.createElement("span",{className:"mdi mdi-chevron-down",style:_extends({},labelChevronStyle,{marginLeft:4,fontSize:"0.8em"})})),React.createElement("div",{className:className,style:style,onMouseOver:onMouseOver,onMouseOut:onMouseOut,onClick:onClick},displayAvatar&&(avatar||avatarContent||avatarIcon)&&avatarComponent,displayLabel&&!richCard&&React.createElement("div",{title:labelTitle,className:labelClassName,style:labelStyle},label),labelChevron,displayLabel&&richCard&&React.createElement(CardTitle,{style:_extends({textAlign:"center"},cardStyle),title:label,subtitle:userTypeLabel}),richCard&&user&&!noActionsPanel&&React.createElement(_ActionsPanel2.default,_extends({},this.state,this.props,{reloadAction:reloadAction,onEditAction:onEditAction,style:{paddingLeft:8,paddingBottom:4,backgroundColor:"#f8fafc"}})),richCard&&graph&&!noActionsPanel&&React.createElement(_GraphPanel2.default,_extends({graph:graph},this.props,{userLabel:label,reloadAction:reloadAction,onEditAction:onEditAction})),this.props.children,popover)},UserAvatar}(React.Component);UserAvatar.propTypes={userId:_propTypes2.default.string.isRequired,pydio:_propTypes2.default.instanceOf(Pydio),userLabel:_propTypes2.default.string,userType:_propTypes2.default.oneOf(["user","group","remote","team"]),icon:_propTypes2.default.string,richCard:_propTypes2.default.bool,richOnHover:_propTypes2.default.bool,richOnClick:_propTypes2.default.bool,userEditable:_propTypes2.default.bool,onEditAction:_propTypes2.default.func,onDeleteAction:_propTypes2.default.func,reloadAction:_propTypes2.default.func,displayLabel:_propTypes2.default.bool,displayLocalLabel:_propTypes2.default.bool,displayAvatar:_propTypes2.default.bool,avatarOnly:_propTypes2.default.bool,useDefaultAvatar:_propTypes2.default.bool,avatarSize:_propTypes2.default.number,avatarLetters:_propTypes2.default.bool,noActionsPanel:_propTypes2.default.bool,className:_propTypes2.default.string,labelClassName:_propTypes2.default.string,avatarClassName:_propTypes2.default.string,style:_propTypes2.default.object,labelStyle:_propTypes2.default.object,avatarStyle:_propTypes2.default.object},UserAvatar.defaultProps={displayLabel:!0,displayAvatar:!0,avatarSize:40,userType:"user",className:"user-avatar-widget",labelClassName:"user-label"},exports.default=UserAvatar=muiThemeable()(UserAvatar),exports.default=UserAvatar,module.exports=exports.default},{"./ActionsPanel":58,"./GraphPanel":60,color:"color","lodash.debounce":"lodash.debounce","material-ui":"material-ui","material-ui/styles":"material-ui/styles","prop-types":"prop-types","pydio/http/api":"pydio/http/api",
"pydio/http/meta-cache-service":"pydio/http/meta-cache-service","pydio/http/users-api":"pydio/http/users-api",react:"react"}],62:[function(require,module,exports){"use strict";exports.__esModule=!0;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _pydioModelDataModel=require("pydio/model/data-model"),_pydioModelDataModel2=_interopRequireDefault(_pydioModelDataModel),FuncUtils=require("pydio/util/func"),ResourcesManager=require("pydio/http/resources-manager"),Types={NODE_PROVIDER:"node",SORTABLE_LIST_ITEM:"sortable-list-item"};function collect(connect,monitor){return{connectDragSource:connect.dragSource(),isDragging:monitor.isDragging()}}function collectDrop(connect,monitor){return{connectDropTarget:connect.dropTarget(),canDrop:monitor.canDrop(),isOver:monitor.isOver(),isOverCurrent:monitor.isOver({shallow:!0})}}var DNDActionParameter=function(){function DNDActionParameter(source,target,step,dropEffect){_classCallCheck(this,DNDActionParameter),this._source=source,this._target=target,this._step=step,this._dropEffect=dropEffect}return DNDActionParameter.prototype.getSource=function(){return this._source},DNDActionParameter.prototype.getTarget=function(){return this._target},DNDActionParameter.prototype.getStep=function(){return this._step},DNDActionParameter.prototype.getDropEffect=function(){return this._dropEffect},DNDActionParameter}();DNDActionParameter.STEP_BEGIN_DRAG="beginDrag",DNDActionParameter.STEP_END_DRAG="endDrag",DNDActionParameter.STEP_CAN_DROP="canDrop",DNDActionParameter.STEP_HOVER_DROP="hover";var applyDNDAction=function(source,target,step,dropEffect){var Controller=window.pydio.Controller,dnd=Controller.defaultActions.get("dragndrop");if(!dnd)throw new Error("No DND Actions available");var dndAction=Controller.getActionByName(dnd);if(dndAction.deny){var dm=new _pydioModelDataModel2.default;if(dm.setSelectedNodes([source]),dndAction.fireSelectionChange(dm),dndAction.deny)throw new Error("DND action disabled")}var params=new DNDActionParameter(source,target,step,dropEffect),checkModule=dndAction.options.dragndropCheckModule;if(step===DNDActionParameter.STEP_CAN_DROP&&checkModule){if(!FuncUtils.getFunctionByName(checkModule,window))throw ResourcesManager.detectModuleToLoadAndApply(checkModule,function(){}),new Error("Cannot find test module, trying to load it");FuncUtils.executeFunctionByName(dndAction.options.dragndropCheckModule,window,Controller,params)}else dndAction.apply(params)},nodeDragSource={beginDrag:function(props){return{node:props.node}},endDrag:function(props,monitor,component){if(monitor.didDrop()){var item=monitor.getItem(),dropResult=monitor.getDropResult();try{applyDNDAction(item.node,dropResult.node,DNDActionParameter.STEP_END_DRAG,dropResult.dropEffect)}catch(e){}}}},nodeDropTarget={hover:function(props,monitor){},canDrop:function(props,monitor){var source=monitor.getItem().node,target=props.node;try{applyDNDAction(source,target,DNDActionParameter.STEP_CAN_DROP)}catch(e){return!1}return!0},drop:function(props,monitor){if(!monitor.didDrop())return{node:props.node}}};exports.Types=Types,exports.collect=collect,exports.collectDrop=collectDrop,exports.nodeDragSource=nodeDragSource,exports.nodeDropTarget=nodeDropTarget,exports.DNDActionParameter=DNDActionParameter},{"pydio/http/resources-manager":"pydio/http/resources-manager","pydio/model/data-model":"pydio/model/data-model","pydio/util/func":"pydio/util/func"}],63:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _require=require("react"),Component=_require.Component,_require2=require("material-ui"),FlatButton=_require2.FlatButton,FontIcon=_require2.FontIcon,_require3=require("material-ui/styles"),muiThemeable=_require3.muiThemeable,Color=require("color"),PropTypes=require("prop-types"),Pydio=require("pydio"),_Pydio$requireLib=Pydio.requireLib("boot"),PydioContextConsumer=_Pydio$requireLib.PydioContextConsumer,EmptyStateView=function(_Component){_inherits(EmptyStateView,_Component);function EmptyStateView(props,context){_classCallCheck(this,EmptyStateView),_Component.call(this,props,context)}return EmptyStateView.prototype.render=function(){var _props=this.props,style=_props.style,iconClassName=_props.iconClassName,primaryTextId=_props.primaryTextId,secondaryTextId=_props.secondaryTextId,actionLabelId=_props.actionLabelId,actionCallback=_props.actionCallback,actionStyle=_props.actionStyle,actionIconClassName=_props.actionIconClassName,getMessage=_props.getMessage,iconStyle=_props.iconStyle,legendStyle=_props.legendStyle,mainColor=Color(this.props.muiTheme.palette.primary1Color),styles={container:_extends({display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",flex:1,backgroundColor:mainColor.lightness(97).rgb().toString()},style),centered:{maxWidth:280,textAlign:"center",color:mainColor.fade(.6).toString()},icon:_extends({fontSize:100},iconStyle),primaryText:_extends({fontSize:16,fontWeight:500},legendStyle),secondaryText:{marginTop:20,fontSize:13},buttonContainer:{marginTop:100,textAlign:"center"},buttonStyle:{color:this.props.muiTheme.palette.accent2Color}},buttonIcon=actionIconClassName?React.createElement(FontIcon,{className:actionIconClassName}):null;return React.createElement("div",{style:styles.container},React.createElement("div",{style:styles.centered},React.createElement("div",{className:iconClassName,style:styles.icon}),React.createElement("div",{style:styles.primaryText},getMessage(primaryTextId)),secondaryTextId&&React.createElement("div",{style:styles.secondaryText},getMessage(secondaryTextId)),actionLabelId&&actionCallback&&React.createElement("div",{style:_extends({},styles.buttonContainer,actionStyle)},React.createElement(FlatButton,{style:styles.buttonStyle,label:getMessage(actionLabelId),onClick:actionCallback,icon:buttonIcon}))))},EmptyStateView}(Component);EmptyStateView.propTypes={pydio:PropTypes.instanceOf(Pydio).isRequired,iconClassName:PropTypes.string.isRequired,primaryTextId:PropTypes.string.isRequired,secondaryTextId:PropTypes.string,actionLabelId:PropTypes.string,actionCallback:PropTypes.func,actionStyle:PropTypes.object,style:PropTypes.object,iconStyle:PropTypes.object,legendStyle:PropTypes.object,getMessage:PropTypes.func},exports.default=EmptyStateView=PydioContextConsumer(EmptyStateView),exports.default=EmptyStateView=muiThemeable()(EmptyStateView),exports.default=EmptyStateView,module.exports=exports.default},{color:"color","material-ui":"material-ui","material-ui/styles":"material-ui/styles","prop-types":"prop-types",pydio:"pydio",react:"react"}],64:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}var _react=require("react"),_react2=_interopRequireDefault(_react),_materialUi=require("material-ui"),ModalAppBar=function(props){var style=props.style,titleStyle=props.titleStyle,iconStyleRight=props.iconStyleRight,iconStyleLeft=props.iconStyleLeft,otherProps=_objectWithoutProperties(props,["style","titleStyle","iconStyleRight","iconStyleLeft"]),styles={style:_extends({flexShrink:0},style),titleStyle:_extends({lineHeight:"56px",height:56,marginLeft:-8},titleStyle),iconStyleRight:_extends({marginTop:4},iconStyleRight),iconStyleLeft:_extends({marginTop:4},iconStyleLeft)};return _react2.default.createElement(_materialUi.AppBar,_extends({},otherProps,styles))};exports.default=ModalAppBar,module.exports=exports.default},{"material-ui":"material-ui",react:"react"}],65:[function(require,module,exports){"use strict";exports.__esModule=!0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _react=require("react"),_react2=_interopRequireDefault(_react),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_pydioModelNode=require("pydio/model/node"),_pydioModelDataModel=require("pydio/model/data-model"),SimpleReactActionBar=function(_React$Component){_inherits(SimpleReactActionBar,_React$Component);function SimpleReactActionBar(){_classCallCheck(this,SimpleReactActionBar),_React$Component.apply(this,arguments)}return SimpleReactActionBar.prototype.clickAction=function(event){var pydio=_pydio2.default.getInstance(),actionName=event.currentTarget.getAttribute("data-action"),_props=this.props,dataModel=_props.dataModel,node=_props.node;dataModel.setSelectedNodes([node]);var a=pydio.Controller.getActionByName(actionName);a.fireContextChange(dataModel,!0,pydio.user),a.apply([dataModel]),event.stopPropagation(),event.preventDefault()},SimpleReactActionBar.prototype.render=function(){var actions=this.props.actions.map(function(a){var _this=this;return _react2.default.createElement("div",{key:a.options.name,className:a.options.icon_class+" material-list-action-inline"||"",title:a.options.title,"data-action":a.options.name,onClick:function(e){return _this.clickAction(e)}})}.bind(this));return _react2.default.createElement("span",null,actions)},_createClass(SimpleReactActionBar,null,[{key:"propTypes",value:{dataModel:_propTypes2.default.instanceOf(_pydioModelDataModel.PydioDataModel).isRequired,node:_propTypes2.default.instanceOf(_pydioModelNode.Node).isRequired,actions:_propTypes2.default.array},enumerable:!0}]),SimpleReactActionBar}(_react2.default.Component);exports.default=SimpleReactActionBar,module.exports=exports.default},{"prop-types":"prop-types",pydio:"pydio","pydio/model/data-model":"pydio/model/data-model","pydio/model/node":"pydio/model/node",react:"react"}],66:[function(require,module,exports){"use strict";exports.__esModule=!0;var _this4=this,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _utilDND=require("../util/DND"),_react=require("react"),_react2=_interopRequireDefault(_react),_createReactClass=require("create-react-class"),_createReactClass2=_interopRequireDefault(_createReactClass),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_pydio=require("pydio"),_pydio2=_interopRequireDefault(_pydio),_materialUi=require("material-ui"),_materialUiStyles=require("material-ui/styles"),_Pydio$requireLib=_pydio2.default.requireLib("hoc"),withContextMenu=_Pydio$requireLib.withContextMenu,ContextMenuWrapper=function(props){return _react2.default.createElement("div",props)};ContextMenuWrapper=withContextMenu(ContextMenuWrapper);var DragDropTreeNode,SimpleTreeNode=_createReactClass2.default({displayName:"SimpleTreeNode",propTypes:{collapse:_propTypes2.default.bool,forceExpand:_propTypes2.default.bool,childrenOnly:_propTypes2.default.bool,depth:_propTypes2.default.number,onNodeSelect:_propTypes2.default.func,node:_propTypes2.default.instanceOf(AjxpNode),dataModel:_propTypes2.default.instanceOf(PydioDataModel),forceLabel:_propTypes2.default.string,nodeIsSelected:_propTypes2.default.func,showLoader:_propTypes2.default.bool,checkboxes:_propTypes2.default.array,checkboxesValues:_propTypes2.default.object,checkboxesComputeStatus:_propTypes2.default.func,onCheckboxCheck:_propTypes2.default.func,paddingOffset:_propTypes2.default.number},getDefaultProps:function(){return{collapse:!1,childrenOnly:!1,depth:0,paddingOffset:0,onNodeSelect:function(node){}}},listenToNode:function(node){this._childrenListener=function(){this.isMounted()&&this.setState({children:this._nodeToChildren(node)})}.bind(this),this._nodeListener=function(){this.isMounted()&&this.forceUpdate()}.bind(this),node.observe("child_added",this._childrenListener),node.observe("child_removed",this._childrenListener),node.observe("loaded",this._childrenListener),node.observe("loading",this._nodeListener),node.observe("node_replaced",this._nodeListener)},stopListening:function(node){node.stopObserving("child_added",this._childrenListener),node.stopObserving("child_removed",this._childrenListener),node.stopObserving("loaded",this._childrenListener),node.stopObserving("loading",this._nodeListener),node.stopObserving("node_replaced",this._nodeListener)},componentDidMount:function(){this.listenToNode(this.props.node)},componentWillUnmount:function(){this.stopListening(this.props.node)},componentWillReceiveProps:function(nextProps){var oldNode=this.props.node,newNode=nextProps.node;if(newNode===oldNode&&newNode.getMetadata().get("paginationData")){var remapedChildren=this.state.children.map(function(c){return c.setParent(newNode),c}),remapedPathes=this.state.children.map(function(c){return c.getPath()});this._nodeToChildren(newNode).forEach(function(nc){-1===remapedPathes.indexOf(nc.getPath())&&remapedChildren.push(nc)}),this.setState({children:remapedChildren})}else this.setState({children:this._nodeToChildren(newNode)});newNode!==oldNode&&(this.stopListening(oldNode),this.listenToNode(newNode))},getInitialState:function(){return{showChildren:!this.props.collapse||this.props.forceExpand,children:this._nodeToChildren(this.props.node)}},_nodeToChildren:function(){var children=[];this.props.node.getChildren().forEach(function(c){c.isLeaf()&&"ajxp_browsable_archive"!==c.getAjxpMime()||children.push(c)});var sortFunction=function(nodeA,nodeB){return nodeA.isRecycle()?1:nodeB.isRecycle()?-1:nodeA.getLabel().localeCompare(nodeB.getLabel(),void 0,{numeric:!0})};return children.sort(sortFunction),children},onNodeSelect:function(ev){this.props.onNodeSelect&&this.props.onNodeSelect(this.props.node),ev.preventDefault(),ev.stopPropagation()},onChildDisplayToggle:function(ev){this.props.node.getChildren().size&&this.setState({showChildren:!this.state.showChildren}),ev.preventDefault(),ev.stopPropagation()},nodeIsSelected:function(n){return this.props.nodeIsSelected?this.props.nodeIsSelected(n):-1!==this.props.dataModel.getSelectedNodes().indexOf(n)},render:function(){var _this=this,_props=this.props,node=_props.node,dataModel=_props.dataModel,childrenOnly=_props.childrenOnly,canDrop=_props.canDrop,isOverCurrent=_props.isOverCurrent,checkboxes=_props.checkboxes,checkboxesComputeStatus=_props.checkboxesComputeStatus,checkboxesValues=_props.checkboxesValues,onCheckboxCheck=_props.onCheckboxCheck,depth=_props.depth,paddingOffset=_props.paddingOffset,forceExpand=_props.forceExpand,selectedItemStyle=_props.selectedItemStyle,getItemStyle=_props.getItemStyle,forceLabel=_props.forceLabel,showLoader=_props.showLoader,noPaginator=_props.noPaginator,hasFolderChildrens=!!this.state.children.length,hasChildren=void 0;if(hasFolderChildrens)hasChildren=_react2.default.createElement("span",{onClick:this.onChildDisplayToggle},this.state.showChildren||forceExpand?_react2.default.createElement("span",{className:"tree-icon icon-angle-down"}):_react2.default.createElement("span",{className:"tree-icon icon-angle-right"}));else{var cname="tree-icon icon-angle-right";node.isLoaded()&&(cname+=" no-folder-children"),hasChildren=_react2.default.createElement("span",{className:cname})}var selfLabel,isSelected=this.nodeIsSelected(node)?"mui-menu-item mui-is-selected":"mui-menu-item";if(!childrenOnly){canDrop&&isOverCurrent&&(isSelected+=" droppable-active");var boxes;if(checkboxes){var values={},inherited=!1,disabled={},additionalClassName="";if(checkboxesComputeStatus){var status=checkboxesComputeStatus(node);values=status.VALUES,inherited=status.INHERITED,disabled=status.DISABLED,status.CLASSNAME&&(additionalClassName=" "+status.CLASSNAME)}else checkboxesValues&&checkboxesValues[node.getPath()]&&(values=checkboxesValues[node.getPath()]);var valueClasses=[];boxes=checkboxes.map(function(c){var selected=void 0!==values[c]&&values[c],click=function(event,value){onCheckboxCheck(node,c,value)}.bind(this);return selected&&valueClasses.push(c),_react2.default.createElement(_materialUi.Checkbox,{name:c,key:c+"-"+(selected?"true":"false"),checked:selected,onCheck:click,disabled:disabled[c],className:"cbox-"+c,style:{width:44}})}.bind(this)),isSelected+=inherited?" inherited ":"",isSelected+=valueClasses.length?" checkbox-values-"+valueClasses.join("-"):" checkbox-values-empty",boxes=_react2.default.createElement("div",{style:{display:"flex",alignItems:"center"},className:"tree-checkboxes"+additionalClassName},boxes)}var itemStyle={paddingLeft:paddingOffset+20*depth};this.nodeIsSelected(node)&&selectedItemStyle&&(itemStyle=_extends({},itemStyle,selectedItemStyle)),getItemStyle&&(itemStyle=_extends({},itemStyle,getItemStyle(node)));var icon="mdi mdi-folder",ajxpMime=node.getAjxpMime();"ajxp_browsable_archive"===ajxpMime?icon="mdi mdi-archive":"ajxp_recycle"===ajxpMime&&(icon="mdi mdi-delete");var loader=void 0;showLoader&&node.isLoading()&&(loader=_react2.default.createElement(_materialUi.CircularProgress,{size:14,style:{marginLeft:7},thickness:1})),selfLabel=_react2.default.createElement(ContextMenuWrapper,{node:node,className:"tree-item "+isSelected+(boxes?" has-checkboxes":""),style:itemStyle},_react2.default.createElement("div",{className:"tree-item-label",onClick:this.onNodeSelect,title:node.getLabel(),"data-id":node.getPath()},hasChildren,_react2.default.createElement("span",{className:"tree-icon "+icon}),forceLabel||node.getLabel(),loader),boxes)}var children=[],connector=function(instance){return instance},draggable=!1;return window.ReactDND&&this.props.connectDropTarget&&this.props.connectDragSource&&function(){var connectDragSource=_this.props.connectDragSource,connectDropTarget=_this.props.connectDropTarget;connector=function(instance){connectDragSource(ReactDOM.findDOMNode(instance)),connectDropTarget(ReactDOM.findDOMNode(instance))},draggable=!0}(),(this.state.showChildren||forceExpand)&&(children=this.state.children.map(function(child){var props=_extends({},this.props,{forceLabel:null,childrenOnly:!1,key:child.getPath(),node:child,depth:depth+1});return _react2.default.createElement(draggable?DragDropTreeNode:SimpleTreeNode,props)}.bind(this))),_react2.default.createElement("li",{ref:connector,className:"treenode"+node.getPath().replace(/\//g,"_")},selfLabel,_react2.default.createElement("ul",null,!noPaginator&&node.getMetadata().has("paginationData")&&parseInt(node.getMetadata().get("paginationData").get("total"))>1&&_react2.default.createElement(TreePaginator,{node:node,dataModel:dataModel,depth:depth+1,paddingOffset:paddingOffset}),children))}});DragDropTreeNode=window.ReactDND?ReactDND.flow(ReactDND.DragSource(_utilDND.Types.NODE_PROVIDER,_utilDND.nodeDragSource,_utilDND.collect),ReactDND.DropTarget(_utilDND.Types.NODE_PROVIDER,_utilDND.nodeDropTarget,_utilDND.collectDrop))(SimpleTreeNode):SimpleTreeNode;var TreePaginator=function(_React$Component){_inherits(TreePaginator,_React$Component);function TreePaginator(){_classCallCheck(this,TreePaginator),_React$Component.apply(this,arguments)}return TreePaginator.prototype.goTo=function(i){var _props2=this.props,dataModel=_props2.dataModel,node=_props2.node;node.getMetadata().get("paginationData").set("current",i),node.reload(dataModel.getAjxpNodeProvider())},TreePaginator.prototype.render=function(){var _this2=this,_props3=this.props,node=_props3.node,depth=_props3.depth,paddingOffset=_props3.paddingOffset,icProps=(_props3.muiTheme,{style:{width:24,height:24,padding:0}}),data=node.getMetadata().get("paginationData"),crt=data.get("current"),total=data.get("total"),pageWord=_pydio2.default.getMessages()[331],label=pageWord+" "+crt+" / "+total;return _react2.default.createElement("li",null,_react2.default.createElement("div",{style:{paddingLeft:paddingOffset+20*depth,paddingTop:5,paddingBottom:5,display:"flex",alignItems:"center"}},_react2.default.createElement("div",{style:{paddingLeft:14,paddingRight:6,color:"rgba(0,0,0,.43)"},className:"mdi mdi-format-list-bulleted"}),_react2.default.createElement("div",{style:{display:"flex",alignItems:"center",color:"rgba(0,0,0,.73)",backgroundColor:"rgba(0,0,0,0.02)",borderRadius:3,marginRight:10}},_react2.default.createElement(_materialUi.IconButton,_extends({iconClassName:"mdi mdi-chevron-left",onClick:function(){_this2.goTo(crt-1)},disabled:1===crt},icProps)),_react2.default.createElement("div",{style:{padding:"0 20px",flex:1,textAlign:"center",fontSize:13}},label),_react2.default.createElement(_materialUi.IconButton,_extends({iconClassName:"mdi mdi-chevron-right",onClick:function(){_this2.goTo(crt+1)},disabled:crt===total},icProps)))))},TreePaginator}(_react2.default.Component);TreePaginator=_materialUiStyles.muiThemeable()(TreePaginator);var DNDTreeView=function(_React$Component2){_inherits(DNDTreeView,_React$Component2);function DNDTreeView(){var _this3=this;_classCallCheck(this,DNDTreeView),_React$Component2.apply(this,arguments),this.onNodeSelect=function(node){_this3.props.onNodeSelect?_this3.props.onNodeSelect(node):_this3.props.dataModel.setSelectedNodes([node])}}return DNDTreeView.prototype.render=function(){return _react2.default.createElement("ul",{className:this.props.className},_react2.default.createElement(DragDropTreeNode,{childrenOnly:!this.props.showRoot,forceExpand:this.props.forceExpand,node:this.props.node?this.props.node:this.props.dataModel.getRootNode(),dataModel:this.props.dataModel,onNodeSelect:this.onNodeSelect,nodeIsSelected:this.props.nodeIsSelected,forceLabel:this.props.rootLabel,checkboxes:this.props.checkboxes,checkboxesValues:this.props.checkboxesValues,checkboxesComputeStatus:this.props.checkboxesComputeStatus,onCheckboxCheck:this.props.onCheckboxCheck,selectedItemStyle:this.props.selectedItemStyle,getItemStyle:this.props.getItemStyle,paddingOffset:this.props.paddingOffset,noPaginator:this.props.noPaginator,showLoader:this.props.showLoader}))},_createClass(DNDTreeView,null,[{key:"propTypes",value:{showRoot:_propTypes2.default.bool,rootLabel:_propTypes2.default.string,onNodeSelect:_propTypes2.default.func,node:_propTypes2.default.instanceOf(AjxpNode).isRequired,dataModel:_propTypes2.default.instanceOf(PydioDataModel).isRequired,selectable:_propTypes2.default.bool,selectableMultiple:_propTypes2.default.bool,initialSelectionModel:_propTypes2.default.array,onSelectionChange:_propTypes2.default.func,forceExpand:_propTypes2.default.bool,nodeIsSelected:_propTypes2.default.func,showLoader:_propTypes2.default.bool,checkboxes:_propTypes2.default.array,checkboxesValues:_propTypes2.default.object,checkboxesComputeStatus:_propTypes2.default.func,onCheckboxCheck:_propTypes2.default.func,paddingOffset:_propTypes2.default.number},enumerable:!0},{key:"defaultProps",value:{showRoot:!0,onNodeSelect:_this4.onNodeSelect},enumerable:!0}]),DNDTreeView}(_react2.default.Component),TreeView=function(_React$Component3){_inherits(TreeView,_React$Component3);function TreeView(){var _this5=this;_classCallCheck(this,TreeView),_React$Component3.apply(this,arguments),this.onNodeSelect=function(node){_this5.props.onNodeSelect?_this5.props.onNodeSelect(node):_this5.props.dataModel.setSelectedNodes([node])}}return TreeView.prototype.render=function(){return _react2.default.createElement("ul",{className:this.props.className},_react2.default.createElement(SimpleTreeNode,{childrenOnly:!this.props.showRoot,forceExpand:this.props.forceExpand,node:this.props.node?this.props.node:this.props.dataModel.getRootNode(),dataModel:this.props.dataModel,onNodeSelect:this.onNodeSelect,nodeIsSelected:this.props.nodeIsSelected,forceLabel:this.props.rootLabel,checkboxes:this.props.checkboxes,checkboxesValues:this.props.checkboxesValues,checkboxesComputeStatus:this.props.checkboxesComputeStatus,onCheckboxCheck:this.props.onCheckboxCheck,selectedItemStyle:this.props.selectedItemStyle,getItemStyle:this.props.getItemStyle,paddingOffset:this.props.paddingOffset,showLoader:this.props.showLoader}))},_createClass(TreeView,null,[{key:"propTypes",value:{showRoot:_propTypes2.default.bool,rootLabel:_propTypes2.default.string,onNodeSelect:_propTypes2.default.func,node:_propTypes2.default.instanceOf(AjxpNode).isRequired,dataModel:_propTypes2.default.instanceOf(PydioDataModel).isRequired,selectable:_propTypes2.default.bool,selectableMultiple:_propTypes2.default.bool,initialSelectionModel:_propTypes2.default.array,onSelectionChange:_propTypes2.default.func,forceExpand:_propTypes2.default.bool,nodeIsSelected:_propTypes2.default.func,showLoader:_propTypes2.default.bool,checkboxes:_propTypes2.default.array,checkboxesValues:_propTypes2.default.object,checkboxesComputeStatus:_propTypes2.default.func,onCheckboxCheck:_propTypes2.default.func,paddingOffset:_propTypes2.default.number},enumerable:!0},{key:"defaultProps",value:{showRoot:!0,onNodeSelect:_this4.onNodeSelect},enumerable:!0}]),TreeView}(_react2.default.Component),FoldersTree=function(_React$Component4){_inherits(FoldersTree,_React$Component4);function FoldersTree(){var _this6=this;_classCallCheck(this,FoldersTree),_React$Component4.apply(this,arguments),this.nodeObserver=function(){var r=_this6.props.dataModel.getRootNode();r.isLoaded()?_this6.forceUpdate():r.observeOnce("loaded",function(){this.forceUpdate()}.bind(_this6))},this.treeNodeSelected=function(n){_this6.props.onNodeSelected?_this6.props.onNodeSelected(n):_this6.props.dataModel.requireContextChange(n)},this.nodeIsSelected=function(n){return n===_this6.props.dataModel.getContextNode()}}return FoldersTree.prototype.componentDidMount=function(){var dm=this.props.dataModel;this._dmObs=this.nodeObserver,dm.observe("context_changed",this._dmObs),dm.observe("root_node_changed",this._dmObs),this.nodeObserver()},FoldersTree.prototype.componentWillUnmount=function(){if(this._dmObs){var dm=this.props.dataModel;dm.stopObserving("context_changed",this._dmObs),dm.stopObserving("root_node_changed",this._dmObs)}},FoldersTree.prototype.render=function(){return this.props.draggable?_react2.default.createElement(PydioComponents.DNDTreeView,{onNodeSelect:this.treeNodeSelected,nodeIsSelected:this.nodeIsSelected,dataModel:this.props.dataModel,node:this.props.dataModel.getRootNode(),showRoot:!!this.props.showRoot,selectedItemStyle:this.props.selectedItemStyle,getItemStyle:this.props.getItemStyle,noPaginator:this.props.noPaginator,className:"folders-tree"+(this.props.className?" "+this.props.className:"")}):_react2.default.createElement(PydioComponents.TreeView,{onNodeSelect:this.treeNodeSelected,nodeIsSelected:this.nodeIsSelected,dataModel:this.props.dataModel,node:this.props.dataModel.getRootNode(),selectedItemStyle:this.props.selectedItemStyle,getItemStyle:this.props.getItemStyle,showRoot:!!this.props.showRoot,noPaginator:this.props.noPaginator,className:"folders-tree"+(this.props.className?" "+this.props.className:"")})},_createClass(FoldersTree,null,[{key:"propTypes",value:{pydio:_propTypes2.default.instanceOf(_pydio2.default).isRequired,dataModel:_propTypes2.default.instanceOf(PydioDataModel).isRequired,className:_propTypes2.default.string,onNodeSelected:_propTypes2.default.func,draggable:_propTypes2.default.bool},enumerable:!0}]),FoldersTree}(_react2.default.Component);exports.TreeView=TreeView,exports.DNDTreeView=DNDTreeView,exports.FoldersTree=FoldersTree},{"../util/DND":62,"create-react-class":"create-react-class","material-ui":"material-ui","material-ui/styles":"material-ui/styles","prop-types":"prop-types",pydio:"pydio",react:"react"}],67:[function(require,module,exports){(function(global){var LARGE_ARRAY_SIZE=200,HASH_UNDEFINED="__lodash_hash_undefined__",COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2,MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",promiseTag="[object Promise]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",undefinedTag="[object Undefined]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,
typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arraySome(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseUnary(func){return function(value){return func(value)}}function cacheHas(cache,key){return cache.has(key)}function getValue(object,key){return null==object?void 0:object[key]}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),nativeObjectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?root.Buffer:void 0,Symbol=root.Symbol,Uint8Array=root.Uint8Array,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,symToStringTag=Symbol?Symbol.toStringTag:void 0,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,nativeKeys=overArg(Object.keys,Object),DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet;function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[],this.size=0}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet;function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED),this}function setCacheHas(value){return this.__data__.has(value)}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas;function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){return null==value?void 0===value?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack))}function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag,othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack))}function baseIsNative(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length;if(objLength!=getAllKeys(other).length&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1)}return stack.delete(object),stack.delete(other),result}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}var getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)}))}:stubArray,getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});function isIndex(value,length){return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function isPrototype(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}function objectToString(value){return nativeObjectToString.call(value)}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function eq(value,other){return value===other||value!==value&&other!==other}var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isArray=Array.isArray;function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}var isBuffer=nativeIsBuffer||stubFalse;function isEqual(value,other){return baseIsEqual(value,other)}function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}function isObjectLike(value){return null!=value&&"object"==typeof value}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function stubArray(){return[]}function stubFalse(){return!1}module.exports=isEqual}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],68:[function(require,module,exports){(function(global){(function(){var undefined,VERSION="4.17.21",LARGE_ARRAY_SIZE=200,CORE_ERROR_TEXT="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",FUNC_ERROR_TEXT="Expected a function",INVALID_TEMPL_VAR_ERROR_TEXT="Invalid `variable` option passed into `_.template`",HASH_UNDEFINED="__lodash_hash_undefined__",MAX_MEMOIZE_SIZE=500,PLACEHOLDER="__lodash_placeholder__",CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2,WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,WRAP_FLIP_FLAG=512,DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...",HOT_COUNT=800,HOT_SPAN=16,LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,LAZY_WHILE_FLAG=3,INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e308,NAN=NaN,MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,wrapFlags=[["ary",WRAP_ARY_FLAG],["bind",WRAP_BIND_FLAG],["bindKey",WRAP_BIND_KEY_FLAG],["curry",WRAP_CURRY_FLAG],["curryRight",WRAP_CURRY_RIGHT_FLAG],["flip",WRAP_FLIP_FLAG],["partial",WRAP_PARTIAL_FLAG],["partialRight",WRAP_PARTIAL_RIGHT_FLAG],["rearg",WRAP_REARG_FLAG]],argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",domExcTag="[object DOMException]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",promiseTag="[object Promise]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",undefinedTag="[object Undefined]",weakMapTag="[object WeakMap]",weakSetTag="[object WeakSet]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source),reTrimStart=/^\s+/,reWhitespace=/\s/,reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /,reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,reForbiddenIdentifierChars=/[()=,{}\[\]\/\s]/,reEscapeChar=/\\(\\)?/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsOctal=/^0o[0-7]+$/i,reIsUint=/^(?:0|[1-9]\d*)$/,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange,rsApos="['’]",rsAstral="["+rsAstralRange+"]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reApos=RegExp(rsApos,"g"),reComboMark=RegExp(rsCombo,"g"),reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g"),reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g"),reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]"),reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,contextProps=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],templateCounter=-1,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var deburredLetters={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},freeParseFloat=parseFloat,freeParseInt=parseInt,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){for(var index=-1,length=null==array?0:array.length;++index<length;){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayEach(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}function arrayEachRight(array,iteratee){for(var length=null==array?0:array.length;length--&&!1!==iteratee(array[length],length,array););return array}function arrayEvery(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}function arrayIncludes(array,value){return!!(null==array?0:array.length)&&baseIndexOf(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[--length]);length--;)accumulator=iteratee(accumulator,array[length],length,array);return accumulator}function arraySome(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}var asciiSize=baseProperty("length");function asciiToArray(string){return string.split("")}function asciiWords(string){return string.match(reAsciiWord)||[]}function baseFindKey(collection,predicate,eachFunc){var result;return eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection))return result=key,!1}),result}function baseFindIndex(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}function baseIndexOfWith(array,value,fromIndex,comparator){for(var index=fromIndex-1,length=array.length;++index<length;)if(comparator(array[index],value))return index;return-1}function baseIsNaN(value){return value!==value}function baseMean(array,iteratee){var length=null==array?0:array.length;return length?baseSum(array,iteratee)/length:NAN}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyOf(object){return function(key){return null==object?undefined:object[key]}}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){return eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=!1,value):iteratee(accumulator,value,index,collection)}),accumulator}function baseSortBy(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}function baseSum(array,iteratee){for(var result,index=-1,length=array.length;++index<length;){var current=iteratee(array[index]);current!==undefined&&(result=result===undefined?current:result+current)}return result}
function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]]})}function baseTrim(string){return string?string.slice(0,trimmedEndIndex(string)+1).replace(reTrimStart,""):string}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function cacheHas(cache,key){return cache.has(key)}function charsStartIndex(strSymbols,chrSymbols){for(var index=-1,length=strSymbols.length;++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function charsEndIndex(strSymbols,chrSymbols){for(var index=strSymbols.length;index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function countHolders(array,placeholder){for(var length=array.length,result=0;length--;)array[length]===placeholder&&++result;return result}var deburrLetter=basePropertyOf(deburredLetters),escapeHtmlChar=basePropertyOf(htmlEscapes);function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function getValue(object,key){return null==object?undefined:object[key]}function hasUnicode(string){return reHasUnicode.test(string)}function hasUnicodeWord(string){return reHasUnicodeWord.test(string)}function iteratorToArray(iterator){for(var data,result=[];!(data=iterator.next()).done;)result.push(data.value);return result}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function replaceHolders(array,placeholder){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index];value!==placeholder&&value!==PLACEHOLDER||(array[index]=PLACEHOLDER,result[resIndex++]=index)}return result}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}function setToPairs(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=[value,value]}),result}function strictIndexOf(array,value,fromIndex){for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}function strictLastIndexOf(array,value,fromIndex){for(var index=fromIndex+1;index--;)if(array[index]===value)return index;return index}function stringSize(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string)}function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}function trimmedEndIndex(string){for(var index=string.length;index--&&reWhitespace.test(string.charAt(index)););return index}var unescapeHtmlChar=basePropertyOf(htmlUnescapes);function unicodeSize(string){for(var result=reUnicode.lastIndex=0;reUnicode.test(string);)++result;return result}function unicodeToArray(string){return string.match(reUnicode)||[]}function unicodeWords(string){return string.match(reUnicodeWord)||[]}var runInContext=function runInContext(context){context=null==context?root:_.defaults(root.Object(),context,_.pick(root,contextProps));var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=context["__core-js_shared__"],funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,idCounter=0,maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),nativeObjectToString=objectProto.toString,objectCtorString=funcToString.call(Object),oldDash=root._,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?context.Buffer:undefined,Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:undefined,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined,symIterator=Symbol?Symbol.iterator:undefined,symToStringTag=Symbol?Symbol.toStringTag:undefined,defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}(),ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout,nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse,DataView=getNative(context,"DataView"),Map=getNative(context,"Map"),Promise=getNative(context,"Promise"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create"),metaMap=WeakMap&&new WeakMap,realNames={},dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=undefined,result}}();function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value,this.__actions__=[],this.__chain__=!!chainAll,this.__index__=0,this.__values__=undefined}lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}},lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper;function LazyWrapper(value){this.__wrapped__=value,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=MAX_ARRAY_LENGTH,this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);return result.__actions__=copyArray(this.__actions__),result.__dir__=this.__dir__,result.__filtered__=this.__filtered__,result.__iteratees__=copyArray(this.__iteratees__),result.__takeCount__=this.__takeCount__,result.__views__=copyArray(this.__views__),result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1,result.__filtered__=!0}else result=this.clone(),result.__dir__*=-1;return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||!isRight&&arrLength==length&&takeCount==length)return baseWrapperValue(array,this.__actions__);var result=[];outer:for(;length--&&resIndex<takeCount;){index+=dir;for(var iterIndex=-1,value=array[index];++iterIndex<iterLength;){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG)value=computed;else if(!computed){if(type==LAZY_FILTER_FLAG)continue outer;break outer}}result[resIndex++]=value}return result}LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper;function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value,this}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet;function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[],this.size=0}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet;function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED),this}function setCacheHas(value){return this.__data__.has(value)}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas;function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:undefined}function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length))}function arrayShuffle(array){return shuffleSelf(copyArray(array))}function assignMergeValue(object,key,value){(value===undefined||eq(object[key],value))&&(value!==undefined||key in object)||baseAssignValue(object,key,value)}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(value!==undefined||key in object)||baseAssignValue(object,key,value)}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseAggregator(collection,setter,iteratee,accumulator){return baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection)}),accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object)}function baseAssignValue(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}function baseAt(object,paths){for(var index=-1,length=paths.length,result=Array(length),skip=null==object;++index<length;)result[index]=skip?undefined:get(object,paths[index]);return result}function baseClamp(number,lower,upper){return number===number&&(upper!==undefined&&(number=number<=upper?number:upper),lower!==undefined&&(number=number>=lower?number:lower)),number}function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){if(result=isFlat||isFunc?{}:initCloneObject(value),!isDeep)return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;stack.set(value,result),isSet(value)?value.forEach(function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))}):isMap(value)&&value.forEach(function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))});var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys,props=isArr?undefined:keysFunc(value);return arrayEach(props||value,function(subValue,key){props&&(key=subValue,subValue=value[key]),assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))}),result}function baseConforms(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props)}}function baseConformsTo(object,source,props){var length=props.length;if(null==object)return!length;for(object=Object(object);length--;){var key=props[length],predicate=source[key],value=object[key];if(value===undefined&&!(key in object)||!predicate(value))return!1}return!0}function baseDelay(func,wait,args){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=!0,length=array.length,result=[],valuesLength=values.length;if(!length)return result;iteratee&&(values=arrayMap(values,baseUnary(iteratee))),comparator?(includes=arrayIncludesWith,isCommon=!1):values.length>=LARGE_ARRAY_SIZE&&(includes=cacheHas,isCommon=!1,values=new SetCache(values));outer:for(;++index<length;){var value=array[index],computed=null==iteratee?value:iteratee(value);if(value=comparator||0!==value?value:0,isCommon&&computed===computed){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===computed)continue outer;result.push(value)}else includes(values,computed,comparator)||result.push(value)}return result}var baseEach=createBaseEach(baseForOwn),baseEachRight=createBaseEach(baseForOwnRight,!0);function baseEvery(collection,predicate){var result=!0;return baseEach(collection,function(value,index,collection){return result=!!predicate(value,index,collection)}),result}function baseExtremum(array,iteratee,comparator){for(var index=-1,length=array.length;++index<length;){var value=array[index],current=iteratee(value);if(null!=current&&(computed===undefined?current===current&&!isSymbol(current):comparator(current,computed)))var computed=current,result=value}return result}function baseFill(array,value,start,end){var length=array.length;for(start=toInteger(start),start<0&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:toInteger(end),end<0&&(end+=length),end=start>end?0:toLength(end);start<end;)array[start++]=value;return array}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}var baseFor=createBaseFor(),baseForRight=createBaseFor(!0);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}function baseGet(object,path){path=castPath(path,object);for(var index=0,length=path.length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:undefined}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){return null==value?value===undefined?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}function baseGt(value,other){return value>other}function baseHas(object,key){return null!=object&&hasOwnProperty.call(object,key)}function baseHasIn(object,key){return null!=object&&key in Object(object)}function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}function baseIntersection(arrays,iteratee,comparator){for(var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=1/0,result=[];othIndex--;){var array=arrays[othIndex];othIndex&&iteratee&&(array=arrayMap(array,baseUnary(iteratee))),maxLength=nativeMin(array.length,maxLength),caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined}array=arrays[0];var index=-1,seen=caches[0];outer:for(;++index<length&&result.length<maxLength;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){for(othIndex=othLength;--othIndex;){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator)))continue outer}seen&&seen.push(computed),result.push(value)}}return result}function baseInverter(object,setter,iteratee,accumulator){return baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object)}),accumulator}function baseInvoke(object,path,args){path=castPath(path,object),object=parent(object,path);var func=null==object?object:object[toKey(last(path))];return null==func?undefined:apply(func,object,args)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsArrayBuffer(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag}function baseIsDate(value){return isObjectLike(value)&&baseGetTag(value)==dateTag}function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack))}function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag,othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack))}function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(result===undefined?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result))return!1}}return!0}function baseIsNative(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}function baseIsRegExp(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag}function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}function baseIteratee(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function baseKeysIn(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}function baseLt(value,other){return value<other}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}function baseMatches(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseMerge(object,source,srcIndex,customizer,stack){object!==source&&baseFor(source,function(srcValue,key){if(stack||(stack=new Stack),isObject(srcValue))baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):undefined;newValue===undefined&&(newValue=srcValue),assignMergeValue(object,key,newValue)}},keysIn)}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked)return void assignMergeValue(object,key,stacked);var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined,isCommon=newValue===undefined;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue,isArr||isBuff||isTyped?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):isBuff?(isCommon=!1,newValue=cloneBuffer(srcValue,!0)):isTyped?(isCommon=!1,newValue=cloneTypedArray(srcValue,!0)):newValue=[]:isPlainObject(srcValue)||isArguments(srcValue)?(newValue=objValue,isArguments(objValue)?newValue=toPlainObject(objValue):isObject(objValue)&&!isFunction(objValue)||(newValue=initCloneObject(srcValue))):isCommon=!1}isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack.delete(srcValue)),assignMergeValue(object,key,newValue)}function baseNth(array,n){var length=array.length;if(length)return n+=n<0?length:0,isIndex(n,length)?array[n]:undefined}function baseOrderBy(collection,iteratees,orders){iteratees=iteratees.length?arrayMap(iteratees,function(iteratee){return isArray(iteratee)?function(value){return baseGet(value,1===iteratee.length?iteratee[0]:iteratee)}:iteratee}):[identity];var index=-1;return iteratees=arrayMap(iteratees,baseUnary(getIteratee())),baseSortBy(baseMap(collection,function(value,key,collection){return{criteria:arrayMap(iteratees,function(iteratee){return iteratee(value)}),index:++index,value:value}}),function(object,other){return compareMultiple(object,other,orders)})}function basePick(object,paths){return basePickBy(object,paths,function(value,path){return hasIn(object,path)})}function basePickBy(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;for(array===values&&(values=copyArray(values)),iteratee&&(seen=arrayMap(array,baseUnary(iteratee)));++index<length;)for(var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;(fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1;)seen!==array&&splice.call(seen,fromIndex,1),splice.call(array,fromIndex,1);return array}function basePullAt(array,indexes){for(var length=array?indexes.length:0,lastIndex=length-1;length--;){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;isIndex(index)?splice.call(array,index,1):baseUnset(array,index)}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRange(start,end,step,fromRight){for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}function baseRepeat(string,n){var result="";if(!string||n<1||n>MAX_SAFE_INTEGER)return result;do{n%2&&(result+=string),(n=nativeFloor(n/2))&&(string+=string)}while(n);return result}function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}function baseSample(collection){return arraySample(values(collection))}function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length))}function baseSet(object,path,value,customizer){if(!isObject(object))return object;path=castPath(path,object);for(var index=-1,length=path.length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if("__proto__"===key||"constructor"===key||"prototype"===key)return object;if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined,newValue===undefined&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}var baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity,baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;function baseShuffle(collection){return shuffleSelf(values(collection))}function baseSlice(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),end=end>length?length:end,end<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return!(result=predicate(value,index,collection))}),!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=null==array?low:array.length;if("number"==typeof value&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){for(;low<high;){var mid=low+high>>>1,computed=array[mid];null!==computed&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value)?low=mid+1:high=mid}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){var low=0,high=null==array?0:array.length;if(0===high)return 0;value=iteratee(value);for(var valIsNaN=value!==value,valIsNull=null===value,valIsSymbol=isSymbol(value),valIsUndefined=value===undefined;low<high;){
var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),othIsDefined=computed!==undefined,othIsNull=null===computed,othIsReflexive=computed===computed,othIsSymbol=isSymbol(computed);if(valIsNaN)var setLow=retHighest||othIsReflexive;else setLow=valIsUndefined?othIsReflexive&&(retHighest||othIsDefined):valIsNull?othIsReflexive&&othIsDefined&&(retHighest||!othIsNull):valIsSymbol?othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol):!othIsNull&&!othIsSymbol&&(retHighest?computed<=value:computed<value);setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function baseSortedUniq(array,iteratee){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=0===value?0:value}}return result}function baseToNumber(value){return"number"==typeof value?value:isSymbol(value)?NAN:+value}function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed===computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}function baseUnset(object,path){return path=castPath(path,object),null==(object=parent(object,path))||delete object[toKey(last(path))]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){for(var length=array.length,index=fromRight?length:-1;(fromRight?index--:++index<length)&&predicate(array[index],index,array););return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;return result instanceof LazyWrapper&&(result=result.value()),arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))},result)}function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2)return length?baseUniq(arrays[0]):[];for(var index=-1,result=Array(length);++index<length;)for(var array=arrays[index],othIndex=-1;++othIndex<length;)othIndex!=index&&(result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator));return baseUniq(baseFlatten(result,1),iteratee,comparator)}function baseZipObject(props,values,assignFunc){for(var index=-1,length=props.length,valsLength=values.length,result={};++index<length;){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value)}return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function castFunction(value){return"function"==typeof value?value:identity}function castPath(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}var castRest=baseRest;function castSlice(array,start,end){var length=array.length;return end=end===undefined?length:end,!start&&end>=length?array:baseSlice(array,start,end)}var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id)};function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function compareAscending(value,other){if(value!==other){var valIsDefined=value!==undefined,valIsNull=null===value,valIsReflexive=value===value,valIsSymbol=isSymbol(value),othIsDefined=other!==undefined,othIsNull=null===other,othIsReflexive=other===other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}function compareMultiple(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength)return result;return result*("desc"==orders[index]?-1:1)}}return object.index-other.index}function composeArgs(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[holders[argsIndex]]=args[argsIndex]);for(;rangeLength--;)result[leftIndex++]=args[argsIndex++];return result}function composeArgsRight(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;++argsIndex<rangeLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[offset+holders[holdersIndex]]=args[argsIndex++]);return result}function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;newValue===undefined&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object)}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator)}}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):undefined,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?undefined:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}function createBind(func,bitmask,thisArg){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){return(this&&this!==root&&this instanceof wrapper?Ctor:func).apply(isBind?thisArg:this,arguments)}return wrapper}function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):undefined,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(func,bitmask,arity){var Ctor=createCtor(func);function wrapper(){for(var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);index--;)args[index]=arguments[index];var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);return(length-=holders.length)<arity?createRecurry(func,bitmask,createHybrid,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length):apply(this&&this!==root&&this instanceof wrapper?Ctor:func,this,args)}return wrapper}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:undefined}}function createFlow(fromRight){return flatRest(function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;for(fromRight&&funcs.reverse();index--;){var func=funcs[index];if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);if(prereq&&!wrapper&&"wrapper"==getFuncName(func))var wrapper=new LodashWrapper([],!0)}for(index=wrapper?index:length;++index<length;){func=funcs[index];var funcName=getFuncName(func),data="wrapper"==funcName?getData(func):undefined;wrapper=data&&isLaziable(data[0])&&data[1]==(WRAP_ARY_FLAG|WRAP_CURRY_FLAG|WRAP_PARTIAL_FLAG|WRAP_REARG_FLAG)&&!data[4].length&&1==data[9]?wrapper[getFuncName(data[0])].apply(wrapper,data[3]):1==func.length&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments,value=args[0];if(wrapper&&1==args.length&&isArray(value))return wrapper.plant(value).value();for(var index=0,result=length?funcs[index].apply(this,args):value;++index<length;)result=funcs[index].call(this,result);return result}})}function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&WRAP_ARY_FLAG,isBind=bitmask&WRAP_BIND_FLAG,isBindKey=bitmask&WRAP_BIND_KEY_FLAG,isCurried=bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG),isFlip=bitmask&WRAP_FLIP_FLAG,Ctor=isBindKey?undefined:createCtor(func);function wrapper(){for(var length=arguments.length,args=Array(length),index=length;index--;)args[index]=arguments[index];if(isCurried)var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder);if(partials&&(args=composeArgs(args,partials,holders,isCurried)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight,isCurried)),length-=holdersCount,isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;return length=args.length,argPos?args=reorder(args,argPos):isFlip&&length>1&&args.reverse(),isAry&&ary<length&&(args.length=ary),this&&this!==root&&this instanceof wrapper&&(fn=Ctor||createCtor(fn)),fn.apply(thisBinding,args)}return wrapper}function createInverter(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{})}}function createMathOperation(operator,defaultValue){return function(value,other){var result;if(value===undefined&&other===undefined)return defaultValue;if(value!==undefined&&(result=value),other!==undefined){if(result===undefined)return other;"string"==typeof value||"string"==typeof other?(value=baseToString(value),other=baseToString(other)):(value=baseToNumber(value),other=baseToNumber(other)),result=operator(value,other)}return result}}function createOver(arrayFunc){return flatRest(function(iteratees){return iteratees=arrayMap(iteratees,baseUnary(getIteratee())),baseRest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args)})})})}function createPadding(length,chars){chars=chars===undefined?" ":baseToString(chars);var charsLength=chars.length;if(charsLength<2)return charsLength?baseRepeat(chars,length):chars;var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}function createPartial(func,bitmask,thisArg,partials){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];return apply(fn,isBind?thisArg:this,args)}return wrapper}function createRange(fromRight){return function(start,end,step){return step&&"number"!=typeof step&&isIterateeCall(start,end,step)&&(end=step=undefined),start=toFinite(start),end===undefined?(end=start,start=0):end=toFinite(end),step=step===undefined?start<end?1:-1:toFinite(step),baseRange(start,end,step,fromRight)}}function createRelationalOperation(operator){return function(value,other){return"string"==typeof value&&"string"==typeof other||(value=toNumber(value),other=toNumber(other)),operator(value,other)}}function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&WRAP_CURRY_FLAG,newHolders=isCurry?holders:undefined,newHoldersRight=isCurry?undefined:holders,newPartials=isCurry?partials:undefined,newPartialsRight=isCurry?undefined:partials;bitmask|=isCurry?WRAP_PARTIAL_FLAG:WRAP_PARTIAL_RIGHT_FLAG,(bitmask&=~(isCurry?WRAP_PARTIAL_RIGHT_FLAG:WRAP_PARTIAL_FLAG))&WRAP_CURRY_BOUND_FLAG||(bitmask&=~(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG));var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,argPos,ary,arity],result=wrapFunc.apply(undefined,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,setWrapToString(result,func,bitmask)}function createRound(methodName){var func=Math[methodName];return function(number,precision){if(number=toNumber(number),(precision=null==precision?0:nativeMin(toInteger(precision),292))&&nativeIsFinite(number)){var pair=(toString(number)+"e").split("e");return pair=(toString(func(pair[0]+"e"+(+pair[1]+precision)))+"e").split("e"),+(pair[0]+"e"+(+pair[1]-precision))}return func(number)}}var createSet=Set&&1/setToArray(new Set([,-0]))[1]==INFINITY?function(values){return new Set(values)}:noop;function createToPairs(keysFunc){return function(object){var tag=getTag(object);return tag==mapTag?mapToArray(object):tag==setTag?setToPairs(object):baseToPairs(object,keysFunc(object))}}function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&WRAP_BIND_KEY_FLAG;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(length||(bitmask&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG),partials=holders=undefined),ary=ary===undefined?ary:nativeMax(toInteger(ary),0),arity=arity===undefined?arity:toInteger(arity),length-=holders?holders.length:0,bitmask&WRAP_PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&mergeData(newData,data),func=newData[0],bitmask=newData[1],thisArg=newData[2],partials=newData[3],holders=newData[4],arity=newData[9]=newData[9]===undefined?isBindKey?0:func.length:nativeMax(newData[9]-length,0),!arity&&bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)&&(bitmask&=~(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)),bitmask&&bitmask!=WRAP_BIND_FLAG)result=bitmask==WRAP_CURRY_FLAG||bitmask==WRAP_CURRY_RIGHT_FLAG?createCurry(func,bitmask,arity):bitmask!=WRAP_PARTIAL_FLAG&&bitmask!=(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG)||holders.length?createHybrid.apply(undefined,newData):createPartial(func,bitmask,thisArg,partials);else var result=createBind(func,bitmask,thisArg);return setWrapToString((data?baseSetData:setData)(result,newData),func,bitmask)}function customDefaultsAssignIn(objValue,srcValue,key,object){return objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)?srcValue:objValue}function customDefaultsMerge(objValue,srcValue,key,object,source,stack){return isObject(objValue)&&isObject(srcValue)&&(stack.set(srcValue,objValue),baseMerge(objValue,srcValue,undefined,customDefaultsMerge,stack),stack.delete(srcValue)),objValue}function customOmitClone(value){return isPlainObject(value)?undefined:value}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var arrStacked=stack.get(array),othStacked=stack.get(other);if(arrStacked&&othStacked)return arrStacked==other&&othStacked==array;var index=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:undefined;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(compared!==undefined){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length;if(objLength!=getAllKeys(other).length&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var objStacked=stack.get(object),othStacked=stack.get(other);if(objStacked&&othStacked)return objStacked==other&&othStacked==object;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1)}return stack.delete(object),stack.delete(other),result}function flatRest(func){return setToString(overRest(func,undefined,flatten),func+"")}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}var getData=metaMap?function(func){return metaMap.get(func)}:noop;function getFuncName(func){for(var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}function getHolder(func){return(hasOwnProperty.call(lodash,"placeholder")?lodash:func).placeholder}function getIteratee(){var result=lodash.iteratee||iteratee;return result=result===iteratee?baseIteratee:result,arguments.length?result(arguments[0],arguments[1]):result}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}function getMatchData(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}var getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)}))}:stubArray,getSymbolsIn=nativeGetSymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray,getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});function getView(start,end,transforms){for(var index=-1,length=transforms.length;++index<length;){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size)}}return{start:start,end:end}}function getWrapDetails(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}function hasPath(object,path,hasFunc){path=castPath(path,object);for(var index=-1,length=path.length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor;case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return new Ctor;case symbolTag:return cloneSymbol(object)}}function insertWrapDetails(source,details){var length=details.length;if(!length)return source;var lastIndex=length-1;return details[lastIndex]=(length>1?"& ":"")+details[lastIndex],details=details.join(length>2?", ":" "),source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function isIndex(value,length){var type=typeof value;return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if("function"!=typeof other||!(funcName in LazyWrapper.prototype))return!1;if(func===other)return!0;var data=getData(other);return!!data&&func===data[0]}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}var isMaskable=coreJsData?isFunction:stubFalse;function isPrototype(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}function isStrictComparable(value){return value===value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(srcValue!==undefined||key in Object(object)))}}function memoizeCapped(func){var result=memoize(func,function(key){return cache.size===MAX_MEMOIZE_SIZE&&cache.clear(),key}),cache=result.cache;return result}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG|WRAP_ARY_FLAG),isCombo=srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_CURRY_FLAG||srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&source[7].length<=source[8]&&bitmask==WRAP_CURRY_FLAG;if(!isCommon&&!isCombo)return data;srcBitmask&WRAP_BIND_FLAG&&(data[2]=source[2],newBitmask|=bitmask&WRAP_BIND_FLAG?0:WRAP_CURRY_BOUND_FLAG);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value,data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}return value=source[5],value&&(partials=data[5],data[5]=partials?composeArgsRight(partials,value,source[6]):value,data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]),value=source[7],value&&(data[7]=value),srcBitmask&WRAP_ARY_FLAG&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8])),null==data[9]&&(data[9]=source[9]),data[0]=source[0],data[1]=newBitmask,data}function nativeKeysIn(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}function objectToString(value){return nativeObjectToString.call(value)}function overRest(func,start,transform){return start=nativeMax(start===undefined?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}function reorder(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}function safeGet(object,key){if(("constructor"!==key||"function"!=typeof object[key])&&"__proto__"!=key)return object[key]}var setData=shortOut(baseSetData),setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait)},setToString=shortOut(baseSetToString);function setWrapToString(wrapper,reference,bitmask){var source=reference+"";return setToString(wrapper,insertWrapDetails(source,updateWrapDetails(getWrapDetails(source),bitmask)))}function shortOut(func){var count=0,lastCalled=0;return function(){
var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return arguments[0]}else count=0;return func.apply(undefined,arguments)}}function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;for(size=size===undefined?length:size;++index<size;){var rand=baseRandom(index,lastIndex),value=array[rand];array[rand]=array[index],array[index]=value}return array.length=size,array}var stringToPath=memoizeCapped(function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)}),result});function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function updateWrapDetails(details,bitmask){return arrayEach(wrapFlags,function(pair){var value="_."+pair[0];bitmask&pair[1]&&!arrayIncludes(details,value)&&details.push(value)}),details.sort()}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper)return wrapper.clone();var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);return result.__actions__=copyArray(wrapper.__actions__),result.__index__=wrapper.__index__,result.__values__=wrapper.__values__,result}function chunk(array,size,guard){size=(guard?isIterateeCall(array,size,guard):size===undefined)?1:nativeMax(toInteger(size),0);var length=null==array?0:array.length;if(!length||size<1)return[];for(var index=0,resIndex=0,result=Array(nativeCeil(length/size));index<length;)result[resIndex++]=baseSlice(array,index,index+=size);return result}function compact(array){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];value&&(result[resIndex++]=value)}return result}function concat(){var length=arguments.length;if(!length)return[];for(var args=Array(length-1),array=arguments[0],index=length;index--;)args[index-1]=arguments[index];return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1))}var difference=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0)):[]}),differenceBy=baseRest(function(array,values){var iteratee=last(values);return isArrayLikeObject(iteratee)&&(iteratee=undefined),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),getIteratee(iteratee,2)):[]}),differenceWith=baseRest(function(array,values){var comparator=last(values);return isArrayLikeObject(comparator)&&(comparator=undefined),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),undefined,comparator):[]});function drop(array,n,guard){var length=null==array?0:array.length;return length?(n=guard||n===undefined?1:toInteger(n),baseSlice(array,n<0?0:n,length)):[]}function dropRight(array,n,guard){var length=null==array?0:array.length;return length?(n=guard||n===undefined?1:toInteger(n),n=length-n,baseSlice(array,0,n<0?0:n)):[]}function dropRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0,!0):[]}function dropWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0):[]}function fill(array,value,start,end){var length=null==array?0:array.length;return length?(start&&"number"!=typeof start&&isIterateeCall(array,value,start)&&(start=0,end=length),baseFill(array,value,start,end)):[]}function findIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseFindIndex(array,getIteratee(predicate,3),index)}function findLastIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=length-1;return fromIndex!==undefined&&(index=toInteger(fromIndex),index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1)),baseFindIndex(array,getIteratee(predicate,3),index,!0)}function flatten(array){return(null==array?0:array.length)?baseFlatten(array,1):[]}function flattenDeep(array){return(null==array?0:array.length)?baseFlatten(array,INFINITY):[]}function flattenDepth(array,depth){return(null==array?0:array.length)?(depth=depth===undefined?1:toInteger(depth),baseFlatten(array,depth)):[]}function fromPairs(pairs){for(var index=-1,length=null==pairs?0:pairs.length,result={};++index<length;){var pair=pairs[index];result[pair[0]]=pair[1]}return result}function head(array){return array&&array.length?array[0]:undefined}function indexOf(array,value,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseIndexOf(array,value,index)}function initial(array){return(null==array?0:array.length)?baseSlice(array,0,-1):[]}var intersection=baseRest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]}),intersectionBy=baseRest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return iteratee===last(mapped)?iteratee=undefined:mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[]}),intersectionWith=baseRest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return comparator="function"==typeof comparator?comparator:undefined,comparator&&mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):[]});function join(array,separator){return null==array?"":nativeJoin.call(array,separator)}function last(array){var length=null==array?0:array.length;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=length;return fromIndex!==undefined&&(index=toInteger(fromIndex),index=index<0?nativeMax(length+index,0):nativeMin(index,length-1)),value===value?strictLastIndexOf(array,value,index):baseFindIndex(array,baseIsNaN,index,!0)}function nth(array,n){return array&&array.length?baseNth(array,toInteger(n)):undefined}var pull=baseRest(pullAll);function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}function pullAllBy(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array}function pullAllWith(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,undefined,comparator):array}var pullAt=flatRest(function(array,indexes){var length=null==array?0:array.length,result=baseAt(array,indexes);return basePullAt(array,arrayMap(indexes,function(index){return isIndex(index,length)?+index:index}).sort(compareAscending)),result});function remove(array,predicate){var result=[];if(!array||!array.length)return result;var index=-1,indexes=[],length=array.length;for(predicate=getIteratee(predicate,3);++index<length;){var value=array[index];predicate(value,index,array)&&(result.push(value),indexes.push(index))}return basePullAt(array,indexes),result}function reverse(array){return null==array?array:nativeReverse.call(array)}function slice(array,start,end){var length=null==array?0:array.length;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)?(start=0,end=length):(start=null==start?0:toInteger(start),end=end===undefined?length:toInteger(end)),baseSlice(array,start,end)):[]}function sortedIndex(array,value){return baseSortedIndex(array,value)}function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2))}function sortedIndexOf(array,value){var length=null==array?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value))return index}return-1}function sortedLastIndex(array,value){return baseSortedIndex(array,value,!0)}function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),!0)}function sortedLastIndexOf(array,value){if(null==array?0:array.length){var index=baseSortedIndex(array,value,!0)-1;if(eq(array[index],value))return index}return-1}function sortedUniq(array){return array&&array.length?baseSortedUniq(array):[]}function sortedUniqBy(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[]}function tail(array){var length=null==array?0:array.length;return length?baseSlice(array,1,length):[]}function take(array,n,guard){return array&&array.length?(n=guard||n===undefined?1:toInteger(n),baseSlice(array,0,n<0?0:n)):[]}function takeRight(array,n,guard){var length=null==array?0:array.length;return length?(n=guard||n===undefined?1:toInteger(n),n=length-n,baseSlice(array,n<0?0:n,length)):[]}function takeRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!1,!0):[]}function takeWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]}var union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0))}),unionBy=baseRest(function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=undefined),baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),getIteratee(iteratee,2))}),unionWith=baseRest(function(arrays){var comparator=last(arrays);return comparator="function"==typeof comparator?comparator:undefined,baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),undefined,comparator)});function uniq(array){return array&&array.length?baseUniq(array):[]}function uniqBy(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[]}function uniqWith(array,comparator){return comparator="function"==typeof comparator?comparator:undefined,array&&array.length?baseUniq(array,undefined,comparator):[]}function unzip(array){if(!array||!array.length)return[];var length=0;return array=arrayFilter(array,function(group){if(isArrayLikeObject(group))return length=nativeMax(group.length,length),!0}),baseTimes(length,function(index){return arrayMap(array,baseProperty(index))})}function unzipWith(array,iteratee){if(!array||!array.length)return[];var result=unzip(array);return null==iteratee?result:arrayMap(result,function(group){return apply(iteratee,undefined,group)})}var without=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]}),xor=baseRest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))}),xorBy=baseRest(function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=undefined),baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2))}),xorWith=baseRest(function(arrays){var comparator=last(arrays);return comparator="function"==typeof comparator?comparator:undefined,baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator)}),zip=baseRest(unzip);function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)}function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet)}var zipWith=baseRest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;return iteratee="function"==typeof iteratee?(arrays.pop(),iteratee):undefined,unzipWith(arrays,iteratee)});function chain(value){var result=lodash(value);return result.__chain__=!0,result}function tap(value,interceptor){return interceptor(value),value}function thru(value,interceptor){return interceptor(value)}var wrapperAt=flatRest(function(paths){var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};return!(length>1||this.__actions__.length)&&value instanceof LazyWrapper&&isIndex(start)?(value=value.slice(start,+start+(length?1:0)),value.__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(value,this.__chain__).thru(function(array){return length&&!array.length&&array.push(undefined),array})):this.thru(interceptor)});function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperNext(){this.__values__===undefined&&(this.__values__=toArray(this.value()));var done=this.__index__>=this.__values__.length;return{done:done,value:done?undefined:this.__values__[this.__index__++]}}function wrapperToIterator(){return this}function wrapperPlant(value){for(var result,parent=this;parent instanceof baseLodash;){var clone=wrapperClone(parent);clone.__index__=0,clone.__values__=undefined,result?previous.__wrapped__=clone:result=clone;var previous=clone;parent=parent.__wrapped__}return previous.__wrapped__=value,result}function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;return this.__actions__.length&&(wrapped=new LazyWrapper(this)),wrapped=wrapped.reverse(),wrapped.__actions__.push({func:thru,args:[reverse],thisArg:undefined}),new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}var countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:baseAssignValue(result,key,1)});function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=undefined),func(collection,getIteratee(predicate,3))}function filter(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,getIteratee(predicate,3))}var find=createFind(findIndex),findLast=createFind(findLastIndex);function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1)}function flatMapDeep(collection,iteratee){return baseFlatten(map(collection,iteratee),INFINITY)}function flatMapDepth(collection,iteratee,depth){return depth=depth===undefined?1:toInteger(depth),baseFlatten(map(collection,iteratee),depth)}function forEach(collection,iteratee){return(isArray(collection)?arrayEach:baseEach)(collection,getIteratee(iteratee,3))}function forEachRight(collection,iteratee){return(isArray(collection)?arrayEachRight:baseEachRight)(collection,getIteratee(iteratee,3))}var groupBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):baseAssignValue(result,key,[value])});function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection),fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;return fromIndex<0&&(fromIndex=nativeMax(length+fromIndex,0)),isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1}var invokeMap=baseRest(function(collection,path,args){var index=-1,isFunc="function"==typeof path,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args)}),result}),keyBy=createAggregator(function(result,value,key){baseAssignValue(result,key,value)});function map(collection,iteratee){return(isArray(collection)?arrayMap:baseMap)(collection,getIteratee(iteratee,3))}function orderBy(collection,iteratees,orders,guard){return null==collection?[]:(isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),orders=guard?undefined:orders,isArray(orders)||(orders=null==orders?[]:[orders]),baseOrderBy(collection,iteratees,orders))}var partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]});function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)}function reduceRight(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)}function reject(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,negate(getIteratee(predicate,3)))}function sample(collection){return(isArray(collection)?arraySample:baseSample)(collection)}function sampleSize(collection,n,guard){return n=(guard?isIterateeCall(collection,n,guard):n===undefined)?1:toInteger(n),(isArray(collection)?arraySampleSize:baseSampleSize)(collection,n)}function shuffle(collection){return(isArray(collection)?arrayShuffle:baseShuffle)(collection)}function size(collection){if(null==collection)return 0;if(isArrayLike(collection))return isString(collection)?stringSize(collection):collection.length;var tag=getTag(collection);return tag==mapTag||tag==setTag?collection.size:baseKeys(collection).length}function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=undefined),func(collection,getIteratee(predicate,3))}var sortBy=baseRest(function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])&&(iteratees=[iteratees[0]]),baseOrderBy(collection,baseFlatten(iteratees,1),[])}),now=ctxNow||function(){return root.Date.now()};function after(n,func){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){if(--n<1)return func.apply(this,arguments)}}function ary(func,n,guard){return n=guard?undefined:n,n=func&&null==n?func.length:n,createWrap(func,WRAP_ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){return--n>0&&(result=func.apply(this,arguments)),n<=1&&(func=undefined),result}}var bind=baseRest(function(func,thisArg,partials){var bitmask=WRAP_BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(func,bitmask,thisArg,partials,holders)}),bindKey=baseRest(function(object,key,partials){var bitmask=WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(key,bitmask,object,partials,holders)});function curry(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity);return result.placeholder=curry.placeholder,result}function curryRight(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity);return result.placeholder=curryRight.placeholder,result}function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxing="maxWait"in options,maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing);function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=undefined,lastInvokeTime=time,result=func.apply(thisArg,args)}function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,timeWaiting=wait-timeSinceLastCall;return maxing?nativeMin(timeWaiting,maxWait-timeSinceLastInvoke):timeWaiting}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){return timerId=undefined,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=undefined,result)}function cancel(){timerId!==undefined&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=undefined}function flush(){return timerId===undefined?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(timerId===undefined)return leadingEdge(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return timerId===undefined&&(timerId=setTimeout(timerExpired,wait)),result}return debounced.cancel=cancel,debounced.flush=flush,debounced}var defer=baseRest(function(func,args){return baseDelay(func,1,args)}),delay=baseRest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)});function flip(func){return createWrap(func,WRAP_FLIP_FLAG)}function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache;function negate(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}function once(func){return before(2,func)}var overArgs=castRest(function(func,transforms){transforms=1==transforms.length&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()));var funcsLength=transforms.length;return baseRest(function(args){for(var index=-1,length=nativeMin(args.length,funcsLength);++index<length;)args[index]=transforms[index].call(this,args[index]);return apply(func,this,args)})}),partial=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partial));return createWrap(func,WRAP_PARTIAL_FLAG,undefined,partials,holders)}),partialRight=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partialRight));return createWrap(func,WRAP_PARTIAL_RIGHT_FLAG,undefined,partials,holders)}),rearg=flatRest(function(func,indexes){return createWrap(func,WRAP_REARG_FLAG,undefined,undefined,undefined,indexes)});function rest(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=start===undefined?start:toInteger(start),baseRest(func,start)}function spread(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=null==start?0:nativeMax(toInteger(start),0),baseRest(function(args){var array=args[start],otherArgs=castSlice(args,0,start);return array&&arrayPush(otherArgs,array),apply(func,this,otherArgs)})}function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}function unary(func){return ary(func,1)}function wrap(value,wrapper){return partial(castFunction(wrapper),value)}function castArray(){if(!arguments.length)return[];var value=arguments[0];return isArray(value)?value:[value]}function clone(value){return baseClone(value,CLONE_SYMBOLS_FLAG)}function cloneWith(value,customizer){return customizer="function"==typeof customizer?customizer:undefined,baseClone(value,CLONE_SYMBOLS_FLAG,customizer)}function cloneDeep(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}function cloneDeepWith(value,customizer){return customizer="function"==typeof customizer?customizer:undefined,baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG,customizer)}function conformsTo(object,source){return null==source||baseConformsTo(object,source,keys(source))}function eq(value,other){return value===other||value!==value&&other!==other}var gt=createRelationalOperation(baseGt),gte=createRelationalOperation(function(value,other){return value>=other}),isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isArray=Array.isArray,isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):baseIsArrayBuffer;function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isBoolean(value){return!0===value||!1===value||isObjectLike(value)&&baseGetTag(value)==boolTag}var isBuffer=nativeIsBuffer||stubFalse,isDate=nodeIsDate?baseUnary(nodeIsDate):baseIsDate;function isElement(value){return isObjectLike(value)&&1===value.nodeType&&!isPlainObject(value)}function isEmpty(value){if(null==value)return!0;if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var tag=getTag(value);if(tag==mapTag||tag==setTag)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0}function isEqual(value,other){return baseIsEqual(value,other)}function isEqualWith(value,other,customizer){customizer="function"==typeof customizer?customizer:undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,undefined,customizer):!!result}function isError(value){if(!isObjectLike(value))return!1;var tag=baseGetTag(value);return tag==errorTag||tag==domExcTag||"string"==typeof value.message&&"string"==typeof value.name&&!isPlainObject(value)}function isFinite(value){return"number"==typeof value&&nativeIsFinite(value)}function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isInteger(value){return"number"==typeof value&&value==toInteger(value)}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}function isObjectLike(value){return null!=value&&"object"==typeof value}var isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;function isMatch(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))}function isMatchWith(object,source,customizer){return customizer="function"==typeof customizer?customizer:undefined,baseIsMatch(object,source,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){if(isMaskable(value))throw new Error(CORE_ERROR_TEXT);return baseIsNative(value)}function isNull(value){return null===value}function isNil(value){return null==value}function isNumber(value){return"number"==typeof value||isObjectLike(value)&&baseGetTag(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag)return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):baseIsRegExp;function isSafeInteger(value){return isInteger(value)&&value>=-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER}var isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&baseGetTag(value)==symbolTag}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function isUndefined(value){return value===undefined}function isWeakMap(value){return isObjectLike(value)&&getTag(value)==weakMapTag}function isWeakSet(value){return isObjectLike(value)&&baseGetTag(value)==weakSetTag}var lt=createRelationalOperation(baseLt),lte=createRelationalOperation(function(value,other){return value<=other});function toArray(value){if(!value)return[];if(isArrayLike(value))return isString(value)?stringToArray(value):copyArray(value);if(symIterator&&value[symIterator])return iteratorToArray(value[symIterator]());var tag=getTag(value);return(tag==mapTag?mapToArray:tag==setTag?setToArray:values)(value)}function toFinite(value){if(!value)return 0===value?value:0;if((value=toNumber(value))===INFINITY||value===-INFINITY){return(value<0?-1:1)*MAX_INTEGER}return value===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0}function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toSafeInteger(value){return value?baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER):0===value?value:0}function toString(value){return null==value?"":baseToString(value)}var assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source))return void copyObject(source,keys(source),object);for(var key in source)hasOwnProperty.call(source,key)&&assignValue(object,key,source[key])}),assignIn=createAssigner(function(object,source){copyObject(source,keysIn(source),object)}),assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)}),assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)}),at=flatRest(baseAt);function create(prototype,properties){var result=baseCreate(prototype);return null==properties?result:baseAssign(result,properties)}var defaults=baseRest(function(object,sources){object=Object(object);var index=-1,length=sources.length,guard=length>2?sources[2]:undefined;for(guard&&isIterateeCall(sources[0],sources[1],guard)&&(length=1);++index<length;)for(var source=sources[index],props=keysIn(source),propsIndex=-1,propsLength=props.length;++propsIndex<propsLength;){var key=props[propsIndex],value=object[key];(value===undefined||eq(value,objectProto[key])&&!hasOwnProperty.call(object,key))&&(object[key]=source[key])}return object}),defaultsDeep=baseRest(function(args){return args.push(undefined,customDefaultsMerge),apply(mergeWith,undefined,args)});function findKey(object,predicate){
return baseFindKey(object,getIteratee(predicate,3),baseForOwn)}function findLastKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight)}function forIn(object,iteratee){return null==object?object:baseFor(object,getIteratee(iteratee,3),keysIn)}function forInRight(object,iteratee){return null==object?object:baseForRight(object,getIteratee(iteratee,3),keysIn)}function forOwn(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3))}function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3))}function functions(object){return null==object?[]:baseFunctions(object,keys(object))}function functionsIn(object){return null==object?[]:baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=null==object?undefined:baseGet(object,path);return result===undefined?defaultValue:result}function has(object,path){return null!=object&&hasPath(object,path,baseHas)}function hasIn(object,path){return null!=object&&hasPath(object,path,baseHasIn)}var invert=createInverter(function(result,value,key){null!=value&&"function"!=typeof value.toString&&(value=nativeObjectToString.call(value)),result[value]=key},constant(identity)),invertBy=createInverter(function(result,value,key){null!=value&&"function"!=typeof value.toString&&(value=nativeObjectToString.call(value)),hasOwnProperty.call(result,value)?result[value].push(key):result[value]=[key]},getIteratee),invoke=baseRest(baseInvoke);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}function mapKeys(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value)}),result}function mapValues(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))}),result}var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)}),mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)}),omit=flatRest(function(object,paths){var result={};if(null==object)return result;var isDeep=!1;paths=arrayMap(paths,function(path){return path=castPath(path,object),isDeep||(isDeep=path.length>1),path}),copyObject(object,getAllKeysIn(object),result),isDeep&&(result=baseClone(result,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone));for(var length=paths.length;length--;)baseUnset(result,paths[length]);return result});function omitBy(object,predicate){return pickBy(object,negate(getIteratee(predicate)))}var pick=flatRest(function(object,paths){return null==object?{}:basePick(object,paths)});function pickBy(object,predicate){if(null==object)return{};var props=arrayMap(getAllKeysIn(object),function(prop){return[prop]});return predicate=getIteratee(predicate),basePickBy(object,props,function(value,path){return predicate(value,path[0])})}function result(object,path,defaultValue){path=castPath(path,object);var index=-1,length=path.length;for(length||(length=1,object=undefined);++index<length;){var value=null==object?undefined:object[toKey(path[index])];value===undefined&&(index=length,value=defaultValue),object=isFunction(value)?value.call(object):value}return object}function set(object,path,value){return null==object?object:baseSet(object,path,value)}function setWith(object,path,value,customizer){return customizer="function"==typeof customizer?customizer:undefined,null==object?object:baseSet(object,path,value,customizer)}var toPairs=createToPairs(keys),toPairsIn=createToPairs(keysIn);function transform(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);if(iteratee=getIteratee(iteratee,4),null==accumulator){var Ctor=object&&object.constructor;accumulator=isArrLike?isArr?new Ctor:[]:isObject(object)&&isFunction(Ctor)?baseCreate(getPrototype(object)):{}}return(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)}),accumulator}function unset(object,path){return null==object||baseUnset(object,path)}function update(object,path,updater){return null==object?object:baseUpdate(object,path,castFunction(updater))}function updateWith(object,path,updater,customizer){return customizer="function"==typeof customizer?customizer:undefined,null==object?object:baseUpdate(object,path,castFunction(updater),customizer)}function values(object){return null==object?[]:baseValues(object,keys(object))}function valuesIn(object){return null==object?[]:baseValues(object,keysIn(object))}function clamp(number,lower,upper){return upper===undefined&&(upper=lower,lower=undefined),upper!==undefined&&(upper=toNumber(upper),upper=upper===upper?upper:0),lower!==undefined&&(lower=toNumber(lower),lower=lower===lower?lower:0),baseClamp(toNumber(number),lower,upper)}function inRange(number,start,end){return start=toFinite(start),end===undefined?(end=start,start=0):end=toFinite(end),number=toNumber(number),baseInRange(number,start,end)}function random(lower,upper,floating){if(floating&&"boolean"!=typeof floating&&isIterateeCall(lower,upper,floating)&&(upper=floating=undefined),floating===undefined&&("boolean"==typeof upper?(floating=upper,upper=undefined):"boolean"==typeof lower&&(floating=lower,lower=undefined)),lower===undefined&&upper===undefined?(lower=0,upper=1):(lower=toFinite(lower),upper===undefined?(upper=lower,lower=0):upper=toFinite(upper)),lower>upper){var temp=lower;lower=upper,upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)}var camelCase=createCompounder(function(result,word,index){return word=word.toLowerCase(),result+(index?capitalize(word):word)});function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){return(string=toString(string))&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=toString(string),target=baseToString(target);var length=string.length;position=position===undefined?length:baseClamp(toInteger(position),0,length);var end=position;return(position-=target.length)>=0&&string.slice(position,end)==target}function escape(string){return string=toString(string),string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){return string=toString(string),string&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string}var kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()}),lowerCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toLowerCase()}),lowerFirst=createCaseFirst("toLowerCase");function pad(string,length,chars){string=toString(string),length=toInteger(length);var strLength=length?stringSize(string):0;if(!length||strLength>=length)return string;var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars)}function padEnd(string,length,chars){string=toString(string),length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string}function padStart(string,length,chars){string=toString(string),length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string}function parseInt(string,radix,guard){return guard||null==radix?radix=0:radix&&(radix=+radix),nativeParseInt(toString(string).replace(reTrimStart,""),radix||0)}function repeat(string,n,guard){return n=(guard?isIterateeCall(string,n,guard):n===undefined)?1:toInteger(n),baseRepeat(toString(string),n)}function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])}var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()});function split(string,separator,limit){return limit&&"number"!=typeof limit&&isIterateeCall(string,separator,limit)&&(separator=limit=undefined),(limit=limit===undefined?MAX_ARRAY_LENGTH:limit>>>0)?(string=toString(string),string&&("string"==typeof separator||null!=separator&&!isRegExp(separator))&&!(separator=baseToString(separator))&&hasUnicode(string)?castSlice(stringToArray(string),0,limit):string.split(separator,limit)):[]}var startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+upperFirst(word)});function startsWith(string,target,position){return string=toString(string),position=null==position?0:baseClamp(toInteger(position),0,string.length),target=baseToString(target),string.slice(position,position+target.length)==target}function template(string,options,guard){var settings=lodash.templateSettings;guard&&isIterateeCall(string,options,guard)&&(options=undefined),string=toString(string),options=assignInWith({},options,settings,customDefaultsAssignIn);var isEscaping,isEvaluating,imports=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys),index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g"),sourceURL="//# sourceURL="+(hasOwnProperty.call(options,"sourceURL")?(options.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(isEscaping=!0,source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match}),source+="';\n";var variable=hasOwnProperty.call(options,"variable")&&options.variable;if(variable){if(reForbiddenIdentifierChars.test(variable))throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT)}else source="with (obj) {\n"+source+"\n}\n";source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});if(result.source=source,isError(result))throw result;return result}function toLower(value){return toString(value).toLowerCase()}function toUpper(value){return toString(value).toUpperCase()}function trim(string,chars,guard){if((string=toString(string))&&(guard||chars===undefined))return baseTrim(string);if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars);return castSlice(strSymbols,charsStartIndex(strSymbols,chrSymbols),charsEndIndex(strSymbols,chrSymbols)+1).join("")}function trimEnd(string,chars,guard){if((string=toString(string))&&(guard||chars===undefined))return string.slice(0,trimmedEndIndex(string)+1);if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string);return castSlice(strSymbols,0,charsEndIndex(strSymbols,stringToArray(chars))+1).join("")}function trimStart(string,chars,guard){if((string=toString(string))&&(guard||chars===undefined))return string.replace(reTrimStart,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string);return castSlice(strSymbols,charsStartIndex(strSymbols,stringToArray(chars))).join("")}function truncate(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?toInteger(options.length):length,omission="omission"in options?baseToString(options.omission):omission}string=toString(string);var strLength=string.length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength)return string;var end=length-stringSize(omission);if(end<1)return omission;var result=strSymbols?castSlice(strSymbols,0,end).join(""):string.slice(0,end);if(separator===undefined)return result+omission;if(strSymbols&&(end+=result.length-end),isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;for(separator.global||(separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g")),separator.lastIndex=0;match=separator.exec(substring);)var newEnd=match.index;result=result.slice(0,newEnd===undefined?end:newEnd)}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);index>-1&&(result=result.slice(0,index))}return result+omission}function unescape(string){return string=toString(string),string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}var upperCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toUpperCase()}),upperFirst=createCaseFirst("toUpperCase");function words(string,pattern,guard){return string=toString(string),pattern=guard?undefined:pattern,pattern===undefined?hasUnicodeWord(string)?unicodeWords(string):asciiWords(string):string.match(pattern)||[]}var attempt=baseRest(function(func,args){try{return apply(func,undefined,args)}catch(e){return isError(e)?e:new Error(e)}}),bindAll=flatRest(function(object,methodNames){return arrayEach(methodNames,function(key){key=toKey(key),baseAssignValue(object,key,bind(object[key],object))}),object});function cond(pairs){var length=null==pairs?0:pairs.length,toIteratee=getIteratee();return pairs=length?arrayMap(pairs,function(pair){if("function"!=typeof pair[1])throw new TypeError(FUNC_ERROR_TEXT);return[toIteratee(pair[0]),pair[1]]}):[],baseRest(function(args){for(var index=-1;++index<length;){var pair=pairs[index];if(apply(pair[0],this,args))return apply(pair[1],this,args)}})}function conforms(source){return baseConforms(baseClone(source,CLONE_DEEP_FLAG))}function constant(value){return function(){return value}}function defaultTo(value,defaultValue){return null==value||value!==value?defaultValue:value}var flow=createFlow(),flowRight=createFlow(!0);function identity(value){return value}function iteratee(func){return baseIteratee("function"==typeof func?func:baseClone(func,CLONE_DEEP_FLAG))}function matches(source){return baseMatches(baseClone(source,CLONE_DEEP_FLAG))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,CLONE_DEEP_FLAG))}var method=baseRest(function(path,args){return function(object){return baseInvoke(object,path,args)}}),methodOf=baseRest(function(object,args){return function(path){return baseInvoke(object,path,args)}});function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);null!=options||isObject(source)&&(methodNames.length||!props.length)||(options=source,source=object,object=this,methodNames=baseFunctions(source,keys(source)));var chain=!(isObject(options)&&"chain"in options&&!options.chain),isFunc=isFunction(object);return arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func,isFunc&&(object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__);return(result.__actions__=copyArray(this.__actions__)).push({func:func,args:arguments,thisArg:object}),result.__chain__=chainAll,result}return func.apply(object,arrayPush([this.value()],arguments))})}),object}function noConflict(){return root._===this&&(root._=oldDash),this}function noop(){}function nthArg(n){return n=toInteger(n),baseRest(function(args){return baseNth(args,n)})}var over=createOver(arrayMap),overEvery=createOver(arrayEvery),overSome=createOver(arraySome);function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}function propertyOf(object){return function(path){return null==object?undefined:baseGet(object,path)}}var range=createRange(),rangeRight=createRange(!0);function stubArray(){return[]}function stubFalse(){return!1}function stubObject(){return{}}function stubString(){return""}function stubTrue(){return!0}function times(n,iteratee){if((n=toInteger(n))<1||n>MAX_SAFE_INTEGER)return[];var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=getIteratee(iteratee),n-=MAX_ARRAY_LENGTH;for(var result=baseTimes(length,iteratee);++index<n;)iteratee(index);return result}function toPath(value){return isArray(value)?arrayMap(value,toKey):isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))}function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id}var add=createMathOperation(function(augend,addend){return augend+addend},0),ceil=createRound("ceil"),divide=createMathOperation(function(dividend,divisor){return dividend/divisor},1),floor=createRound("floor");function max(array){return array&&array.length?baseExtremum(array,identity,baseGt):undefined}function maxBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):undefined}function mean(array){return baseMean(array,identity)}function meanBy(array,iteratee){return baseMean(array,getIteratee(iteratee,2))}function min(array){return array&&array.length?baseExtremum(array,identity,baseLt):undefined}function minBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):undefined}var multiply=createMathOperation(function(multiplier,multiplicand){return multiplier*multiplicand},1),round=createRound("round"),subtract=createMathOperation(function(minuend,subtrahend){return minuend-subtrahend},0);function sum(array){return array&&array.length?baseSum(array,identity):0}function sumBy(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee,2)):0}return lodash.after=after,lodash.ary=ary,lodash.assign=assign,lodash.assignIn=assignIn,lodash.assignInWith=assignInWith,lodash.assignWith=assignWith,lodash.at=at,lodash.before=before,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.castArray=castArray,lodash.chain=chain,lodash.chunk=chunk,lodash.compact=compact,lodash.concat=concat,lodash.cond=cond,lodash.conforms=conforms,lodash.constant=constant,lodash.countBy=countBy,lodash.create=create,lodash.curry=curry,lodash.curryRight=curryRight,lodash.debounce=debounce,lodash.defaults=defaults,lodash.defaultsDeep=defaultsDeep,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.differenceBy=differenceBy,lodash.differenceWith=differenceWith,lodash.drop=drop,lodash.dropRight=dropRight,lodash.dropRightWhile=dropRightWhile,lodash.dropWhile=dropWhile,lodash.fill=fill,lodash.filter=filter,lodash.flatMap=flatMap,lodash.flatMapDeep=flatMapDeep,lodash.flatMapDepth=flatMapDepth,lodash.flatten=flatten,lodash.flattenDeep=flattenDeep,lodash.flattenDepth=flattenDepth,lodash.flip=flip,lodash.flow=flow,lodash.flowRight=flowRight,lodash.fromPairs=fromPairs,lodash.functions=functions,lodash.functionsIn=functionsIn,lodash.groupBy=groupBy,lodash.initial=initial,lodash.intersection=intersection,lodash.intersectionBy=intersectionBy,lodash.intersectionWith=intersectionWith,lodash.invert=invert,lodash.invertBy=invertBy,lodash.invokeMap=invokeMap,lodash.iteratee=iteratee,lodash.keyBy=keyBy,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=mapKeys,lodash.mapValues=mapValues,lodash.matches=matches,lodash.matchesProperty=matchesProperty,lodash.memoize=memoize,lodash.merge=merge,lodash.mergeWith=mergeWith,lodash.method=method,lodash.methodOf=methodOf,lodash.mixin=mixin,lodash.negate=negate,lodash.nthArg=nthArg,lodash.omit=omit,lodash.omitBy=omitBy,lodash.once=once,lodash.orderBy=orderBy,lodash.over=over,lodash.overArgs=overArgs,lodash.overEvery=overEvery,lodash.overSome=overSome,lodash.partial=partial,lodash.partialRight=partialRight,lodash.partition=partition,lodash.pick=pick,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=propertyOf,lodash.pull=pull,lodash.pullAll=pullAll,lodash.pullAllBy=pullAllBy,lodash.pullAllWith=pullAllWith,lodash.pullAt=pullAt,lodash.range=range,lodash.rangeRight=rangeRight,lodash.rearg=rearg,lodash.reject=reject,lodash.remove=remove,lodash.rest=rest,lodash.reverse=reverse,lodash.sampleSize=sampleSize,lodash.set=set,lodash.setWith=setWith,lodash.shuffle=shuffle,lodash.slice=slice,lodash.sortBy=sortBy,lodash.sortedUniq=sortedUniq,lodash.sortedUniqBy=sortedUniqBy,lodash.split=split,lodash.spread=spread,lodash.tail=tail,lodash.take=take,lodash.takeRight=takeRight,lodash.takeRightWhile=takeRightWhile,lodash.takeWhile=takeWhile,lodash.tap=tap,lodash.throttle=throttle,lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=toPairs,lodash.toPairsIn=toPairsIn,lodash.toPath=toPath,lodash.toPlainObject=toPlainObject,lodash.transform=transform,lodash.unary=unary,lodash.union=union,lodash.unionBy=unionBy,lodash.unionWith=unionWith,lodash.uniq=uniq,lodash.uniqBy=uniqBy,lodash.uniqWith=uniqWith,lodash.unset=unset,lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=update,lodash.updateWith=updateWith,lodash.values=values,lodash.valuesIn=valuesIn,lodash.without=without,lodash.words=words,lodash.wrap=wrap,lodash.xor=xor,lodash.xorBy=xorBy,lodash.xorWith=xorWith,lodash.zip=zip,lodash.zipObject=zipObject,lodash.zipObjectDeep=zipObjectDeep,lodash.zipWith=zipWith,lodash.entries=toPairs,lodash.entriesIn=toPairsIn,lodash.extend=assignIn,lodash.extendWith=assignInWith,mixin(lodash,lodash),lodash.add=add,lodash.attempt=attempt,lodash.camelCase=camelCase,lodash.capitalize=capitalize,lodash.ceil=ceil,lodash.clamp=clamp,lodash.clone=clone,lodash.cloneDeep=cloneDeep,lodash.cloneDeepWith=cloneDeepWith,lodash.cloneWith=cloneWith,lodash.conformsTo=conformsTo,lodash.deburr=deburr,lodash.defaultTo=defaultTo,lodash.divide=divide,lodash.endsWith=endsWith,lodash.eq=eq,lodash.escape=escape,lodash.escapeRegExp=escapeRegExp,lodash.every=every,lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=findKey,lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=findLastKey,lodash.floor=floor,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=forIn,lodash.forInRight=forInRight,lodash.forOwn=forOwn,lodash.forOwnRight=forOwnRight,lodash.get=get,lodash.gt=gt,lodash.gte=gte,lodash.has=has,lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.inRange=inRange,lodash.invoke=invoke,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isArrayBuffer=isArrayBuffer,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=isBoolean,lodash.isBuffer=isBuffer,lodash.isDate=isDate,lodash.isElement=isElement,lodash.isEmpty=isEmpty,lodash.isEqual=isEqual,lodash.isEqualWith=isEqualWith,lodash.isError=isError,lodash.isFinite=isFinite,lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=isMap,lodash.isMatch=isMatch,lodash.isMatchWith=isMatchWith,lodash.isNaN=isNaN,lodash.isNative=isNative,lodash.isNil=isNil,lodash.isNull=isNull,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isSafeInteger=isSafeInteger,lodash.isSet=isSet,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=isTypedArray,lodash.isUndefined=isUndefined,lodash.isWeakMap=isWeakMap,lodash.isWeakSet=isWeakSet,lodash.join=join,lodash.kebabCase=kebabCase,lodash.last=last,lodash.lastIndexOf=lastIndexOf,lodash.lowerCase=lowerCase,lodash.lowerFirst=lowerFirst,lodash.lt=lt,lodash.lte=lte,lodash.max=max,lodash.maxBy=maxBy,lodash.mean=mean,lodash.meanBy=meanBy,lodash.min=min,lodash.minBy=minBy,lodash.stubArray=stubArray,lodash.stubFalse=stubFalse,lodash.stubObject=stubObject,lodash.stubString=stubString,lodash.stubTrue=stubTrue,lodash.multiply=multiply,lodash.nth=nth,lodash.noConflict=noConflict,lodash.noop=noop,lodash.now=now,lodash.pad=pad,lodash.padEnd=padEnd,lodash.padStart=padStart,lodash.parseInt=parseInt,lodash.random=random,lodash.reduce=reduce,lodash.reduceRight=reduceRight,lodash.repeat=repeat,lodash.replace=replace,lodash.result=result,lodash.round=round,lodash.runInContext=runInContext,lodash.sample=sample,lodash.size=size,lodash.snakeCase=snakeCase,lodash.some=some,lodash.sortedIndex=sortedIndex,lodash.sortedIndexBy=sortedIndexBy,lodash.sortedIndexOf=sortedIndexOf,lodash.sortedLastIndex=sortedLastIndex,lodash.sortedLastIndexBy=sortedLastIndexBy,lodash.sortedLastIndexOf=sortedLastIndexOf,lodash.startCase=startCase,lodash.startsWith=startsWith,lodash.subtract=subtract,lodash.sum=sum,lodash.sumBy=sumBy,lodash.template=template,lodash.times=times,lodash.toFinite=toFinite,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=toLower,lodash.toNumber=toNumber,lodash.toSafeInteger=toSafeInteger,lodash.toString=toString,lodash.toUpper=toUpper,lodash.trim=trim,lodash.trimEnd=trimEnd,lodash.trimStart=trimStart,lodash.truncate=truncate,lodash.unescape=unescape,lodash.uniqueId=uniqueId,lodash.upperCase=upperCase,lodash.upperFirst=upperFirst,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,function(){var source={};return baseForOwn(lodash,function(func,methodName){hasOwnProperty.call(lodash.prototype,methodName)||(source[methodName]=func)}),source}(),{chain:!1}),lodash.VERSION=VERSION,arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash}),arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.__filtered__&&!index?new LazyWrapper(this):this.clone();return result.__filtered__?result.__takeCount__=nativeMin(n,result.__takeCount__):result.__views__.push({size:nativeMin(n,MAX_ARRAY_LENGTH),type:methodName+(result.__dir__<0?"Right":"")}),result},LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}}),arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||type==LAZY_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();return result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type}),result.__filtered__=result.__filtered__||isFilter,result}}),arrayEach(["head","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}}),arrayEach(["initial","tail"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()},LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)},LazyWrapper.prototype.invokeMap=baseRest(function(path,args){return"function"==typeof path?new LazyWrapper(this):this.map(function(value){return baseInvoke(value,path,args)})}),LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)))},LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;return result.__filtered__&&(start>0||end<0)?new LazyWrapper(result):(start<0?result=result.takeRight(-start):start&&(result=result.drop(start)),end!==undefined&&(end=toInteger(end),result=end<0?result.dropRight(-end):result.take(end-start)),result)},LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH)},baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+("last"==methodName?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);lodashFunc&&(lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value),interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};useLazy&&checkIteratee&&"function"==typeof iteratee&&1!=iteratee.length&&(isLazy=useLazy=!1);var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);return result.__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(result,chainAll)}return isUnwrapped&&onlyLazy?func.apply(this,args):(result=this.thru(interceptor),isUnwrapped?isTaker?result.value()[0]:result.value():result)})}),arrayEach(["pop","push","shift","sort","splice","unshift"],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args)}return this[chainName](function(value){return func.apply(isArray(value)?value:[],args)})}}),baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"";hasOwnProperty.call(realNames,key)||(realNames[key]=[]),realNames[key].push({name:methodName,func:lodashFunc})}}),realNames[createHybrid(undefined,WRAP_BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}],LazyWrapper.prototype.clone=lazyClone,LazyWrapper.prototype.reverse=lazyReverse,LazyWrapper.prototype.value=lazyValue,lodash.prototype.at=wrapperAt,lodash.prototype.chain=wrapperChain,lodash.prototype.commit=wrapperCommit,lodash.prototype.next=wrapperNext,lodash.prototype.plant=wrapperPlant,lodash.prototype.reverse=wrapperReverse,lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue,lodash.prototype.first=lodash.prototype.head,symIterator&&(lodash.prototype[symIterator]=wrapperToIterator),lodash},_=runInContext();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(root._=_,define(function(){return _})):freeModule?((freeModule.exports=_)._=_,freeExports._=_):root._=_}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],69:[function(require,module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{
cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)};function Item(fun,array){this.fun=fun,this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={};function noop(){}process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],70:[function(require,module,exports){"use strict";function _typeof(obj){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_reactDom=_interopRequireDefault(require("react-dom")),_propTypes=_interopRequireDefault(require("prop-types")),_reactDraggable=require("react-draggable"),_reactResizable=require("react-resizable"),_utils=require("./utils"),_calculateUtils=require("./calculateUtils"),_ReactGridLayoutPropTypes=require("./ReactGridLayoutPropTypes"),_classnames=_interopRequireDefault(require("classnames"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var GridItem=function(_React$Component){_inherits(GridItem,_React$Component);var _super=_createSuper(GridItem);function GridItem(){var _this;_classCallCheck(this,GridItem);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=_super.call.apply(_super,[this].concat(args)),_defineProperty(_assertThisInitialized(_this),"state",{resizing:null,dragging:null,className:""}),_defineProperty(_assertThisInitialized(_this),"currentNode",void 0),_defineProperty(_assertThisInitialized(_this),"onDragStart",function(e,_ref){var node=_ref.node,_this$props=_this.props,onDragStart=_this$props.onDragStart,transformScale=_this$props.transformScale;if(onDragStart){var newPosition={top:0,left:0},offsetParent=node.offsetParent;if(offsetParent){var parentRect=offsetParent.getBoundingClientRect(),clientRect=node.getBoundingClientRect(),cLeft=clientRect.left/transformScale,pLeft=parentRect.left/transformScale,cTop=clientRect.top/transformScale,pTop=parentRect.top/transformScale;newPosition.left=cLeft-pLeft+offsetParent.scrollLeft,newPosition.top=cTop-pTop+offsetParent.scrollTop,_this.setState({dragging:newPosition});var _calcXY=(0,_calculateUtils.calcXY)(_this.getPositionParams(),newPosition.top,newPosition.left,_this.props.w,_this.props.h),x=_calcXY.x,y=_calcXY.y;return onDragStart.call(_assertThisInitialized(_this),_this.props.i,x,y,{e:e,node:node,newPosition:newPosition})}}}),_defineProperty(_assertThisInitialized(_this),"onDrag",function(e,_ref2){var node=_ref2.node,deltaX=_ref2.deltaX,deltaY=_ref2.deltaY,onDrag=_this.props.onDrag;if(onDrag){if(!_this.state.dragging)throw new Error("onDrag called before onDragStart.");var top=_this.state.dragging.top+deltaY,left=_this.state.dragging.left+deltaX,_this$props2=_this.props,isBounded=_this$props2.isBounded,i=_this$props2.i,w=_this$props2.w,h=_this$props2.h,containerWidth=_this$props2.containerWidth,positionParams=_this.getPositionParams();if(isBounded){var offsetParent=node.offsetParent;if(offsetParent){var _this$props3=_this.props,margin=_this$props3.margin,rowHeight=_this$props3.rowHeight,bottomBoundary=offsetParent.clientHeight-(0,_calculateUtils.calcGridItemWHPx)(h,rowHeight,margin[1]);top=(0,_calculateUtils.clamp)(top,0,bottomBoundary);var colWidth=(0,_calculateUtils.calcGridColWidth)(positionParams),rightBoundary=containerWidth-(0,_calculateUtils.calcGridItemWHPx)(w,colWidth,margin[0]);left=(0,_calculateUtils.clamp)(left,0,rightBoundary)}}var newPosition={top:top,left:left};_this.setState({dragging:newPosition});var _calcXY2=(0,_calculateUtils.calcXY)(positionParams,top,left,w,h),x=_calcXY2.x,y=_calcXY2.y;return onDrag.call(_assertThisInitialized(_this),i,x,y,{e:e,node:node,newPosition:newPosition})}}),_defineProperty(_assertThisInitialized(_this),"onDragStop",function(e,_ref3){var node=_ref3.node,onDragStop=_this.props.onDragStop;if(onDragStop){if(!_this.state.dragging)throw new Error("onDragEnd called before onDragStart.");var _this$props4=_this.props,w=_this$props4.w,h=_this$props4.h,i=_this$props4.i,_this$state$dragging=_this.state.dragging,left=_this$state$dragging.left,top=_this$state$dragging.top,newPosition={top:top,left:left};_this.setState({dragging:null});var _calcXY3=(0,_calculateUtils.calcXY)(_this.getPositionParams(),top,left,w,h),x=_calcXY3.x,y=_calcXY3.y;return onDragStop.call(_assertThisInitialized(_this),i,x,y,{e:e,node:node,newPosition:newPosition})}}),_defineProperty(_assertThisInitialized(_this),"onResizeStop",function(e,callbackData){_this.onResizeHandler(e,callbackData,"onResizeStop")}),_defineProperty(_assertThisInitialized(_this),"onResizeStart",function(e,callbackData){_this.onResizeHandler(e,callbackData,"onResizeStart")}),_defineProperty(_assertThisInitialized(_this),"onResize",function(e,callbackData){_this.onResizeHandler(e,callbackData,"onResize")}),_this}return _createClass(GridItem,[{key:"shouldComponentUpdate",value:function(nextProps,nextState){if(this.props.children!==nextProps.children)return!0;if(this.props.droppingPosition!==nextProps.droppingPosition)return!0;var oldPosition=(0,_calculateUtils.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),newPosition=(0,_calculateUtils.calcGridItemPosition)(this.getPositionParams(nextProps),nextProps.x,nextProps.y,nextProps.w,nextProps.h,nextState);return!(0,_utils.fastPositionEqual)(oldPosition,newPosition)||this.props.useCSSTransforms!==nextProps.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(prevProps){this.moveDroppingItem(prevProps)}},{key:"moveDroppingItem",value:function(prevProps){var droppingPosition=this.props.droppingPosition;if(droppingPosition){var prevDroppingPosition=prevProps.droppingPosition||{left:0,top:0},dragging=this.state.dragging;this.currentNode||(this.currentNode=_reactDom.default.findDOMNode(this));var shouldDrag=dragging&&droppingPosition.left!==prevDroppingPosition.left||droppingPosition.top!==prevDroppingPosition.top;if(dragging){if(shouldDrag){var deltaX=droppingPosition.left-dragging.left,deltaY=droppingPosition.top-dragging.top;this.onDrag(droppingPosition.e,{node:this.currentNode,deltaX:deltaX,deltaY:deltaY})}}else this.onDragStart(droppingPosition.e,{node:this.currentNode,deltaX:droppingPosition.left,deltaY:droppingPosition.top})}}},{key:"getPositionParams",value:function(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:props.cols,containerPadding:props.containerPadding,containerWidth:props.containerWidth,margin:props.margin,maxRows:props.maxRows,rowHeight:props.rowHeight}}},{key:"createStyle",value:function(pos){var style,_this$props5=this.props,usePercentages=_this$props5.usePercentages,containerWidth=_this$props5.containerWidth,useCSSTransforms=_this$props5.useCSSTransforms;return useCSSTransforms?style=(0,_utils.setTransform)(pos):(style=(0,_utils.setTopLeft)(pos),usePercentages&&(style.left=(0,_utils.perc)(pos.left/containerWidth),style.width=(0,_utils.perc)(pos.width/containerWidth))),style}},{key:"mixinDraggable",value:function(child,isDraggable){return _react.default.createElement(_reactDraggable.DraggableCore,{disabled:!isDraggable,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale},child)}},{key:"mixinResizable",value:function(child,position,isResizable){var _this$props6=this.props,cols=_this$props6.cols,x=_this$props6.x,minW=_this$props6.minW,minH=_this$props6.minH,maxW=_this$props6.maxW,maxH=_this$props6.maxH,transformScale=_this$props6.transformScale,resizeHandles=_this$props6.resizeHandles,resizeHandle=_this$props6.resizeHandle,positionParams=this.getPositionParams(),maxWidth=(0,_calculateUtils.calcGridItemPosition)(positionParams,0,0,cols-x,0).width,mins=(0,_calculateUtils.calcGridItemPosition)(positionParams,0,0,minW,minH),maxes=(0,_calculateUtils.calcGridItemPosition)(positionParams,0,0,maxW,maxH),minConstraints=[mins.width,mins.height],maxConstraints=[Math.min(maxes.width,maxWidth),Math.min(maxes.height,1/0)];return _react.default.createElement(_reactResizable.Resizable,{draggableOpts:{disabled:!isResizable},className:isResizable?void 0:"react-resizable-hide",width:position.width,height:position.height,minConstraints:minConstraints,maxConstraints:maxConstraints,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:transformScale,resizeHandles:resizeHandles,handle:resizeHandle},child)}},{key:"onResizeHandler",value:function(e,_ref4,handlerName){var node=_ref4.node,size=_ref4.size,handler=this.props[handlerName];if(handler){var _this$props7=this.props,cols=_this$props7.cols,x=_this$props7.x,y=_this$props7.y,i=_this$props7.i,maxH=_this$props7.maxH,minH=_this$props7.minH,_this$props8=this.props,minW=_this$props8.minW,maxW=_this$props8.maxW,_calcWH=(0,_calculateUtils.calcWH)(this.getPositionParams(),size.width,size.height,x,y),w=_calcWH.w,h=_calcWH.h;minW=Math.max(minW,1),maxW=Math.min(maxW,cols-x),w=(0,_calculateUtils.clamp)(w,minW,maxW),h=(0,_calculateUtils.clamp)(h,minH,maxH),this.setState({resizing:"onResizeStop"===handlerName?null:size}),handler.call(this,i,w,h,{e:e,node:node,size:size})}}},{key:"render",value:function(){var _this$props9=this.props,x=_this$props9.x,y=_this$props9.y,w=_this$props9.w,h=_this$props9.h,isDraggable=_this$props9.isDraggable,isResizable=_this$props9.isResizable,droppingPosition=_this$props9.droppingPosition,useCSSTransforms=_this$props9.useCSSTransforms,pos=(0,_calculateUtils.calcGridItemPosition)(this.getPositionParams(),x,y,w,h,this.state),child=_react.default.Children.only(this.props.children),newChild=_react.default.cloneElement(child,{className:(0,_classnames.default)("react-grid-item",child.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":isDraggable,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(droppingPosition),cssTransforms:useCSSTransforms}),style:_objectSpread(_objectSpread(_objectSpread({},this.props.style),child.props.style),this.createStyle(pos))});return newChild=this.mixinResizable(newChild,pos,isResizable),newChild=this.mixinDraggable(newChild,isDraggable)}}]),GridItem}(_react.default.Component);exports.default=GridItem,_defineProperty(GridItem,"propTypes",{children:_propTypes.default.element,cols:_propTypes.default.number.isRequired,containerWidth:_propTypes.default.number.isRequired,rowHeight:_propTypes.default.number.isRequired,margin:_propTypes.default.array.isRequired,maxRows:_propTypes.default.number.isRequired,containerPadding:_propTypes.default.array.isRequired,x:_propTypes.default.number.isRequired,y:_propTypes.default.number.isRequired,w:_propTypes.default.number.isRequired,h:_propTypes.default.number.isRequired,minW:function(props,propName){var value=props[propName];return"number"!=typeof value?new Error("minWidth not Number"):value>props.w||value>props.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(props,propName){var value=props[propName];return"number"!=typeof value?new Error("maxWidth not Number"):value<props.w||value<props.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(props,propName){var value=props[propName];return"number"!=typeof value?new Error("minHeight not Number"):value>props.h||value>props.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(props,propName){var value=props[propName];return"number"!=typeof value?new Error("maxHeight not Number"):value<props.h||value<props.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:_propTypes.default.string.isRequired,resizeHandles:_ReactGridLayoutPropTypes.resizeHandlesType,resizeHandle:_ReactGridLayoutPropTypes.resizeHandleType,onDragStop:_propTypes.default.func,onDragStart:_propTypes.default.func,onDrag:_propTypes.default.func,onResizeStop:_propTypes.default.func,onResizeStart:_propTypes.default.func,onResize:_propTypes.default.func,isDraggable:_propTypes.default.bool.isRequired,isResizable:_propTypes.default.bool.isRequired,isBounded:_propTypes.default.bool.isRequired,static:_propTypes.default.bool,useCSSTransforms:_propTypes.default.bool.isRequired,transformScale:_propTypes.default.number,className:_propTypes.default.string,handle:_propTypes.default.string,cancel:_propTypes.default.string,droppingPosition:_propTypes.default.shape({e:_propTypes.default.object.isRequired,left:_propTypes.default.number.isRequired,top:_propTypes.default.number.isRequired})}),_defineProperty(GridItem,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},{"./ReactGridLayoutPropTypes":72,"./calculateUtils":74,"./utils":78,classnames:"classnames","prop-types":"prop-types",react:"react","react-dom":"react-dom","react-draggable":"react-draggable","react-resizable":84}],71:[function(require,module,exports){"use strict";function _typeof(obj){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var React=_interopRequireWildcard(require("react")),_lodash=_interopRequireDefault(require("lodash.isequal")),_classnames=_interopRequireDefault(require("classnames")),_utils=require("./utils"),_calculateUtils=require("./calculateUtils"),_GridItem=_interopRequireDefault(require("./GridItem")),_ReactGridLayoutPropTypes=_interopRequireDefault(require("./ReactGridLayoutPropTypes"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(arr,i){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var layoutClassName="react-grid-layout",isFirefox=!1;try{isFirefox=/firefox/i.test(navigator.userAgent)}catch(e){}var ReactGridLayout=function(_React$Component){_inherits(ReactGridLayout,_React$Component);var _super=_createSuper(ReactGridLayout);function ReactGridLayout(props,context){var _this;return _classCallCheck(this,ReactGridLayout),_this=_super.call(this,props,context),_defineProperty(_assertThisInitialized(_this),"state",{activeDrag:null,layout:(0,_utils.synchronizeLayoutWithChildren)(_this.props.layout,_this.props.children,_this.props.cols,(0,_utils.compactType)(_this.props)),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),_defineProperty(_assertThisInitialized(_this),"dragEnterCounter",0),_defineProperty(_assertThisInitialized(_this),"onDragOver",function(e){var _e$nativeEvent$target;if(isFirefox&&(null===(_e$nativeEvent$target=e.nativeEvent.target)||void 0===_e$nativeEvent$target||!_e$nativeEvent$target.classList.contains(layoutClassName)))return e.preventDefault(),!1;var _this$props=_this.props,droppingItem=_this$props.droppingItem,margin=_this$props.margin,cols=_this$props.cols,rowHeight=_this$props.rowHeight,maxRows=_this$props.maxRows,width=_this$props.width,containerPadding=_this$props.containerPadding,layout=_this.state.layout,_e$nativeEvent=e.nativeEvent,layerX=_e$nativeEvent.layerX,layerY=_e$nativeEvent.layerY,droppingPosition={left:layerX,top:layerY,e:e};if(_this.state.droppingDOMNode){if(_this.state.droppingPosition){var _this$state$droppingP=_this.state.droppingPosition,left=_this$state$droppingP.left,top=_this$state$droppingP.top,shouldUpdatePosition=left!=layerX||top!=layerY;shouldUpdatePosition&&_this.setState({droppingPosition:droppingPosition})}}else{var positionParams={cols:cols,margin:margin,maxRows:maxRows,rowHeight:rowHeight,containerWidth:width,containerPadding:containerPadding||margin},calculatedPosition=(0,_calculateUtils.calcXY)(positionParams,layerY,layerX,droppingItem.w,droppingItem.h);_this.setState({droppingDOMNode:React.createElement("div",{key:droppingItem.i}),droppingPosition:droppingPosition,layout:[].concat(_toConsumableArray(layout),[_objectSpread(_objectSpread({},droppingItem),{},{x:calculatedPosition.x,y:calculatedPosition.y,static:!1,isDraggable:!0})])})}e.stopPropagation(),e.preventDefault()}),_defineProperty(_assertThisInitialized(_this),"removeDroppingPlaceholder",function(){var _this$props2=_this.props,droppingItem=_this$props2.droppingItem,cols=_this$props2.cols,layout=_this.state.layout,newLayout=(0,_utils.compact)(layout.filter(function(l){return l.i!==droppingItem.i}),(0,_utils.compactType)(_this.props),cols);_this.setState({layout:newLayout,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),_defineProperty(_assertThisInitialized(_this),"onDragLeave",function(){0===--_this.dragEnterCounter&&_this.removeDroppingPlaceholder()}),_defineProperty(_assertThisInitialized(_this),"onDragEnter",function(){_this.dragEnterCounter++}),_defineProperty(_assertThisInitialized(_this),"onDrop",function(e){var droppingItem=_this.props.droppingItem,layout=_this.state.layout,item=layout.find(function(l){return l.i===droppingItem.i});_this.dragEnterCounter=0,_this.removeDroppingPlaceholder(),_this.props.onDrop(layout,item,e)}),(0,_utils.autoBindHandlers)(_assertThisInitialized(_this),["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),_this}return _createClass(ReactGridLayout,[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"shouldComponentUpdate",value:function(nextProps,nextState){return this.props.children!==nextProps.children||!(0,_utils.fastRGLPropsEqual)(this.props,nextProps,_lodash.default)||this.state.activeDrag!==nextState.activeDrag||this.state.mounted!==nextState.mounted||this.state.droppingPosition!==nextState.droppingPosition}},{key:"componentDidUpdate",value:function(prevProps,prevState){if(!this.state.activeDrag){var newLayout=this.state.layout,oldLayout=prevState.layout;this.onLayoutMaybeChanged(newLayout,oldLayout)}}},{key:"containerHeight",value:function(){if(this.props.autoSize){var nbRow=(0,_utils.bottom)(this.state.layout),containerPaddingY=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return nbRow*this.props.rowHeight+(nbRow-1)*this.props.margin[1]+2*containerPaddingY+"px"}}},{key:"onDragStart",value:function(i,x,y,_ref){var e=_ref.e,node=_ref.node,layout=this.state.layout,l=(0,_utils.getLayoutItem)(layout,i);if(l)return this.setState({oldDragItem:(0,_utils.cloneLayoutItem)(l),oldLayout:this.state.layout}),this.props.onDragStart(layout,l,l,null,e,node)}},{key:"onDrag",value:function(i,x,y,_ref2){var e=_ref2.e,node=_ref2.node,oldDragItem=this.state.oldDragItem,layout=this.state.layout,cols=this.props.cols,l=(0,_utils.getLayoutItem)(layout,i);if(l){var placeholder={w:l.w,h:l.h,x:l.x,y:l.y,placeholder:!0,i:i};layout=(0,_utils.moveElement)(layout,l,x,y,!0,this.props.preventCollision,(0,_utils.compactType)(this.props),cols),this.props.onDrag(layout,oldDragItem,l,placeholder,e,node),this.setState({layout:(0,_utils.compact)(layout,(0,_utils.compactType)(this.props),cols),activeDrag:placeholder})}}},{key:"onDragStop",value:function(i,x,y,_ref3){var e=_ref3.e,node=_ref3.node;if(this.state.activeDrag){var oldDragItem=this.state.oldDragItem,layout=this.state.layout,_this$props3=this.props,cols=_this$props3.cols,preventCollision=_this$props3.preventCollision,l=(0,_utils.getLayoutItem)(layout,i);if(l){layout=(0,_utils.moveElement)(layout,l,x,y,!0,preventCollision,(0,_utils.compactType)(this.props),cols),this.props.onDragStop(layout,oldDragItem,l,null,e,node);var newLayout=(0,_utils.compact)(layout,(0,_utils.compactType)(this.props),cols),oldLayout=this.state.oldLayout;this.setState({activeDrag:null,layout:newLayout,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(newLayout,oldLayout)}}}},{key:"onLayoutMaybeChanged",value:function(newLayout,oldLayout){oldLayout||(oldLayout=this.state.layout),(0,_lodash.default)(oldLayout,newLayout)||this.props.onLayoutChange(newLayout)}},{key:"onResizeStart",value:function(i,w,h,_ref4){var e=_ref4.e,node=_ref4.node,layout=this.state.layout,l=(0,_utils.getLayoutItem)(layout,i);l&&(this.setState({oldResizeItem:(0,_utils.cloneLayoutItem)(l),oldLayout:this.state.layout}),this.props.onResizeStart(layout,l,l,null,e,node))}},{key:"onResize",value:function(i,w,h,_ref5){var e=_ref5.e,node=_ref5.node,_this$state=this.state,layout=_this$state.layout,oldResizeItem=_this$state.oldResizeItem,_this$props4=this.props,cols=_this$props4.cols,preventCollision=_this$props4.preventCollision,_withLayoutItem=(0,_utils.withLayoutItem)(layout,i,function(l){var hasCollisions;if(preventCollision){var collisions=(0,_utils.getAllCollisions)(layout,_objectSpread(_objectSpread({},l),{},{w:w,h:h})).filter(function(layoutItem){return layoutItem.i!==l.i})
;if(hasCollisions=collisions.length>0){var leastX=1/0,leastY=1/0;collisions.forEach(function(layoutItem){layoutItem.x>l.x&&(leastX=Math.min(leastX,layoutItem.x)),layoutItem.y>l.y&&(leastY=Math.min(leastY,layoutItem.y))}),Number.isFinite(leastX)&&(l.w=leastX-l.x),Number.isFinite(leastY)&&(l.h=leastY-l.y)}}return hasCollisions||(l.w=w,l.h=h),l}),_withLayoutItem2=_slicedToArray(_withLayoutItem,2),newLayout=_withLayoutItem2[0],l=_withLayoutItem2[1];if(l){var placeholder={w:l.w,h:l.h,x:l.x,y:l.y,static:!0,i:i};this.props.onResize(newLayout,oldResizeItem,l,placeholder,e,node),this.setState({layout:(0,_utils.compact)(newLayout,(0,_utils.compactType)(this.props),cols),activeDrag:placeholder})}}},{key:"onResizeStop",value:function(i,w,h,_ref6){var e=_ref6.e,node=_ref6.node,_this$state2=this.state,layout=_this$state2.layout,oldResizeItem=_this$state2.oldResizeItem,cols=this.props.cols,l=(0,_utils.getLayoutItem)(layout,i);this.props.onResizeStop(layout,oldResizeItem,l,null,e,node);var newLayout=(0,_utils.compact)(layout,(0,_utils.compactType)(this.props),cols),oldLayout=this.state.oldLayout;this.setState({activeDrag:null,layout:newLayout,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(newLayout,oldLayout)}},{key:"placeholder",value:function(){var activeDrag=this.state.activeDrag;if(!activeDrag)return null;var _this$props5=this.props,width=_this$props5.width,cols=_this$props5.cols,margin=_this$props5.margin,containerPadding=_this$props5.containerPadding,rowHeight=_this$props5.rowHeight,maxRows=_this$props5.maxRows,useCSSTransforms=_this$props5.useCSSTransforms,transformScale=_this$props5.transformScale;return React.createElement(_GridItem.default,{w:activeDrag.w,h:activeDrag.h,x:activeDrag.x,y:activeDrag.y,i:activeDrag.i,className:"react-grid-placeholder",containerWidth:width,cols:cols,margin:margin,containerPadding:containerPadding||margin,maxRows:maxRows,rowHeight:rowHeight,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:useCSSTransforms,transformScale:transformScale},React.createElement("div",null))}},{key:"processGridItem",value:function(child,isDroppingItem){if(child&&child.key){var l=(0,_utils.getLayoutItem)(this.state.layout,String(child.key));if(!l)return null;var _this$props6=this.props,width=_this$props6.width,cols=_this$props6.cols,margin=_this$props6.margin,containerPadding=_this$props6.containerPadding,rowHeight=_this$props6.rowHeight,maxRows=_this$props6.maxRows,isDraggable=_this$props6.isDraggable,isResizable=_this$props6.isResizable,isBounded=_this$props6.isBounded,useCSSTransforms=_this$props6.useCSSTransforms,transformScale=_this$props6.transformScale,draggableCancel=_this$props6.draggableCancel,draggableHandle=_this$props6.draggableHandle,resizeHandles=_this$props6.resizeHandles,resizeHandle=_this$props6.resizeHandle,_this$state3=this.state,mounted=_this$state3.mounted,droppingPosition=_this$state3.droppingPosition,draggable="boolean"==typeof l.isDraggable?l.isDraggable:!l.static&&isDraggable,resizable="boolean"==typeof l.isResizable?l.isResizable:!l.static&&isResizable,resizeHandlesOptions=l.resizeHandles||resizeHandles,bounded=draggable&&isBounded&&!1!==l.isBounded;return React.createElement(_GridItem.default,{containerWidth:width,cols:cols,margin:margin,containerPadding:containerPadding||margin,maxRows:maxRows,rowHeight:rowHeight,cancel:draggableCancel,handle:draggableHandle,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:draggable,isResizable:resizable,isBounded:bounded,useCSSTransforms:useCSSTransforms&&mounted,usePercentages:!mounted,transformScale:transformScale,w:l.w,h:l.h,x:l.x,y:l.y,i:l.i,minH:l.minH,minW:l.minW,maxH:l.maxH,maxW:l.maxW,static:l.static,droppingPosition:isDroppingItem?droppingPosition:void 0,resizeHandles:resizeHandlesOptions,resizeHandle:resizeHandle},child)}}},{key:"render",value:function(){var _this2=this,_this$props7=this.props,className=_this$props7.className,style=_this$props7.style,isDroppable=_this$props7.isDroppable,innerRef=_this$props7.innerRef,mergedClassName=(0,_classnames.default)(layoutClassName,className),mergedStyle=_objectSpread({height:this.containerHeight()},style);return React.createElement("div",{ref:innerRef,className:mergedClassName,style:mergedStyle,onDrop:isDroppable?this.onDrop:_utils.noop,onDragLeave:isDroppable?this.onDragLeave:_utils.noop,onDragEnter:isDroppable?this.onDragEnter:_utils.noop,onDragOver:isDroppable?this.onDragOver:_utils.noop},React.Children.map(this.props.children,function(child){return _this2.processGridItem(child)}),isDroppable&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}],[{key:"getDerivedStateFromProps",value:function(nextProps,prevState){var newLayoutBase;if(prevState.activeDrag)return null;if((0,_lodash.default)(nextProps.layout,prevState.propsLayout)&&nextProps.compactType===prevState.compactType?(0,_utils.childrenEqual)(nextProps.children,prevState.children)||(newLayoutBase=prevState.layout):newLayoutBase=nextProps.layout,newLayoutBase){return{layout:(0,_utils.synchronizeLayoutWithChildren)(newLayoutBase,nextProps.children,nextProps.cols,(0,_utils.compactType)(nextProps)),compactType:nextProps.compactType,children:nextProps.children,propsLayout:nextProps.layout}}return null}}]),ReactGridLayout}(React.Component);exports.default=ReactGridLayout,_defineProperty(ReactGridLayout,"displayName","ReactGridLayout"),_defineProperty(ReactGridLayout,"propTypes",_ReactGridLayoutPropTypes.default),_defineProperty(ReactGridLayout,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:_utils.noop,onDragStart:_utils.noop,onDrag:_utils.noop,onDragStop:_utils.noop,onResizeStart:_utils.noop,onResize:_utils.noop,onResizeStop:_utils.noop,onDrop:_utils.noop})},{"./GridItem":70,"./ReactGridLayoutPropTypes":72,"./calculateUtils":74,"./utils":78,classnames:"classnames","lodash.isequal":67,react:"react"}],72:[function(require,module,exports){(function(process){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.resizeHandleType=exports.resizeHandlesType=void 0;var _propTypes=_interopRequireDefault(require("prop-types")),_react=_interopRequireDefault(require("react"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var resizeHandlesType=_propTypes.default.arrayOf(_propTypes.default.oneOf(["s","w","e","n","sw","nw","se","ne"]));exports.resizeHandlesType=resizeHandlesType;var resizeHandleType=_propTypes.default.oneOfType([_propTypes.default.node,_propTypes.default.func]);exports.resizeHandleType=resizeHandleType;var _default={className:_propTypes.default.string,style:_propTypes.default.object,width:_propTypes.default.number,autoSize:_propTypes.default.bool,cols:_propTypes.default.number,draggableCancel:_propTypes.default.string,draggableHandle:_propTypes.default.string,verticalCompact:function(props){!1===props.verticalCompact&&"production"!==process.env.NODE_ENV&&console.warn('`verticalCompact` on <ReactGridLayout> is deprecated and will be removed soon. Use `compactType`: "horizontal" | "vertical" | null.')},compactType:_propTypes.default.oneOf(["vertical","horizontal"]),layout:function(props){var layout=props.layout;void 0!==layout&&require("./utils").validateLayout(layout,"layout")},margin:_propTypes.default.arrayOf(_propTypes.default.number),containerPadding:_propTypes.default.arrayOf(_propTypes.default.number),rowHeight:_propTypes.default.number,maxRows:_propTypes.default.number,isBounded:_propTypes.default.bool,isDraggable:_propTypes.default.bool,isResizable:_propTypes.default.bool,preventCollision:_propTypes.default.bool,useCSSTransforms:_propTypes.default.bool,transformScale:_propTypes.default.number,isDroppable:_propTypes.default.bool,resizeHandles:resizeHandlesType,resizeHandle:resizeHandleType,onLayoutChange:_propTypes.default.func,onDragStart:_propTypes.default.func,onDrag:_propTypes.default.func,onDragStop:_propTypes.default.func,onResizeStart:_propTypes.default.func,onResize:_propTypes.default.func,onResizeStop:_propTypes.default.func,onDrop:_propTypes.default.func,droppingItem:_propTypes.default.shape({i:_propTypes.default.string.isRequired,w:_propTypes.default.number.isRequired,h:_propTypes.default.number.isRequired}),children:function(props,propName){var children=props[propName],keys={};_react.default.Children.forEach(children,function(child){if(keys[child.key])throw new Error('Duplicate child key "'+child.key+'" found! This will cause problems in ReactGridLayout.');keys[child.key]=!0})},innerRef:_propTypes.default.any};exports.default=_default}).call(this,require("_process"))},{"./utils":78,_process:69,"prop-types":"prop-types",react:"react"}],73:[function(require,module,exports){"use strict";function _typeof(obj){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var React=_interopRequireWildcard(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_lodash=_interopRequireDefault(require("lodash.isequal")),_utils=require("./utils"),_responsiveUtils=require("./responsiveUtils"),_ReactGridLayout=_interopRequireDefault(require("./ReactGridLayout"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=_objectWithoutPropertiesLoose(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var type=function(obj){return Object.prototype.toString.call(obj)};function getIndentationValue(param,breakpoint){return null==param?null:Array.isArray(param)?param:param[breakpoint]}var ResponsiveReactGridLayout=function(_React$Component){_inherits(ResponsiveReactGridLayout,_React$Component);var _super=_createSuper(ResponsiveReactGridLayout);function ResponsiveReactGridLayout(){var _this;_classCallCheck(this,ResponsiveReactGridLayout);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=_super.call.apply(_super,[this].concat(args)),_defineProperty(_assertThisInitialized(_this),"state",_this.generateInitialState()),_defineProperty(_assertThisInitialized(_this),"onLayoutChange",function(layout){_this.props.onLayoutChange(layout,_objectSpread(_objectSpread({},_this.props.layouts),{},_defineProperty({},_this.state.breakpoint,layout)))}),_this}return _createClass(ResponsiveReactGridLayout,[{key:"generateInitialState",value:function(){var _this$props=this.props,width=_this$props.width,breakpoints=_this$props.breakpoints,layouts=_this$props.layouts,cols=_this$props.cols,breakpoint=(0,_responsiveUtils.getBreakpointFromWidth)(breakpoints,width),colNo=(0,_responsiveUtils.getColsFromBreakpoint)(breakpoint,cols),compactType=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,_responsiveUtils.findOrGenerateResponsiveLayout)(layouts,breakpoints,breakpoint,breakpoint,colNo,compactType),breakpoint:breakpoint,cols:colNo}}},{key:"componentDidUpdate",value:function(prevProps){this.props.width==prevProps.width&&this.props.breakpoint===prevProps.breakpoint&&(0,_lodash.default)(this.props.breakpoints,prevProps.breakpoints)&&(0,_lodash.default)(this.props.cols,prevProps.cols)||this.onWidthChange(prevProps)}},{key:"onWidthChange",value:function(prevProps){var _this$props2=this.props,breakpoints=_this$props2.breakpoints,cols=_this$props2.cols,layouts=_this$props2.layouts,compactType=_this$props2.compactType,newBreakpoint=this.props.breakpoint||(0,_responsiveUtils.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),lastBreakpoint=this.state.breakpoint,newCols=(0,_responsiveUtils.getColsFromBreakpoint)(newBreakpoint,cols),newLayouts=_objectSpread({},layouts);if(lastBreakpoint!==newBreakpoint||prevProps.breakpoints!==breakpoints||prevProps.cols!==cols){lastBreakpoint in newLayouts||(newLayouts[lastBreakpoint]=(0,_utils.cloneLayout)(this.state.layout));var layout=(0,_responsiveUtils.findOrGenerateResponsiveLayout)(newLayouts,breakpoints,newBreakpoint,lastBreakpoint,newCols,compactType);layout=(0,_utils.synchronizeLayoutWithChildren)(layout,this.props.children,newCols,compactType),newLayouts[newBreakpoint]=layout,this.props.onLayoutChange(layout,newLayouts),this.props.onBreakpointChange(newBreakpoint,newCols),this.setState({breakpoint:newBreakpoint,layout:layout,cols:newCols})}var margin=getIndentationValue(this.props.margin,newBreakpoint),containerPadding=getIndentationValue(this.props.containerPadding,newBreakpoint);this.props.onWidthChange(this.props.width,margin,newCols,containerPadding)}},{key:"render",value:function(){var _this$props3=this.props,margin=(_this$props3.breakpoint,_this$props3.breakpoints,_this$props3.cols,_this$props3.layouts,_this$props3.margin),containerPadding=_this$props3.containerPadding,other=(_this$props3.onBreakpointChange,_this$props3.onLayoutChange,_this$props3.onWidthChange,_objectWithoutProperties(_this$props3,["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"]));return React.createElement(_ReactGridLayout.default,_extends({},other,{margin:getIndentationValue(margin,this.state.breakpoint),containerPadding:getIndentationValue(containerPadding,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}],[{key:"getDerivedStateFromProps",value:function(nextProps,prevState){if(!(0,_lodash.default)(nextProps.layouts,prevState.layouts)){var breakpoint=prevState.breakpoint,_cols=prevState.cols;return{layout:(0,_responsiveUtils.findOrGenerateResponsiveLayout)(nextProps.layouts,nextProps.breakpoints,breakpoint,breakpoint,_cols,nextProps.compactType),layouts:nextProps.layouts}}return null}}]),ResponsiveReactGridLayout}(React.Component);exports.default=ResponsiveReactGridLayout,_defineProperty(ResponsiveReactGridLayout,"propTypes",{breakpoint:_propTypes.default.string,breakpoints:_propTypes.default.object,cols:_propTypes.default.object,margin:_propTypes.default.oneOfType([_propTypes.default.array,_propTypes.default.object]),containerPadding:_propTypes.default.oneOfType([_propTypes.default.array,_propTypes.default.object]),layouts:function(props,propName){if("[object Object]"!==type(props[propName]))throw new Error("Layout property must be an object. Received: "+type(props[propName]));Object.keys(props[propName]).forEach(function(key){if(!(key in props.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,_utils.validateLayout)(props.layouts[key],"layouts."+key)})},width:_propTypes.default.number.isRequired,onBreakpointChange:_propTypes.default.func,onLayoutChange:_propTypes.default.func,onWidthChange:_propTypes.default.func}),_defineProperty(ResponsiveReactGridLayout,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],onBreakpointChange:_utils.noop,onLayoutChange:_utils.noop,onWidthChange:_utils.noop})},{"./ReactGridLayout":71,"./responsiveUtils":77,"./utils":78,"lodash.isequal":67,"prop-types":"prop-types",react:"react"}],74:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.calcGridColWidth=calcGridColWidth,exports.calcGridItemWHPx=calcGridItemWHPx,exports.calcGridItemPosition=calcGridItemPosition,exports.calcXY=calcXY,exports.calcWH=calcWH,exports.clamp=clamp;function calcGridColWidth(positionParams){var margin=positionParams.margin,containerPadding=positionParams.containerPadding,containerWidth=positionParams.containerWidth,cols=positionParams.cols;return(containerWidth-margin[0]*(cols-1)-2*containerPadding[0])/cols}function calcGridItemWHPx(gridUnits,colOrRowSize,marginPx){return Number.isFinite(gridUnits)?Math.round(colOrRowSize*gridUnits+Math.max(0,gridUnits-1)*marginPx):gridUnits}function calcGridItemPosition(positionParams,x,y,w,h,state){var margin=positionParams.margin,containerPadding=positionParams.containerPadding,rowHeight=positionParams.rowHeight,colWidth=calcGridColWidth(positionParams),out={};return state&&state.resizing?(out.width=Math.round(state.resizing.width),out.height=Math.round(state.resizing.height)):(out.width=calcGridItemWHPx(w,colWidth,margin[0]),out.height=calcGridItemWHPx(h,rowHeight,margin[1])),state&&state.dragging?(out.top=Math.round(state.dragging.top),out.left=Math.round(state.dragging.left)):(out.top=Math.round((rowHeight+margin[1])*y+containerPadding[1]),out.left=Math.round((colWidth+margin[0])*x+containerPadding[0])),out}function calcXY(positionParams,top,left,w,h){var margin=positionParams.margin,cols=positionParams.cols,rowHeight=positionParams.rowHeight,maxRows=positionParams.maxRows,colWidth=calcGridColWidth(positionParams),x=Math.round((left-margin[0])/(colWidth+margin[0])),y=Math.round((top-margin[1])/(rowHeight+margin[1]));return x=clamp(x,0,cols-w),y=clamp(y,0,maxRows-h),{x:x,y:y}}function calcWH(positionParams,width,height,x,y){var margin=positionParams.margin,maxRows=positionParams.maxRows,cols=positionParams.cols,rowHeight=positionParams.rowHeight,colWidth=calcGridColWidth(positionParams),w=Math.round((width+margin[0])/(colWidth+margin[0])),h=Math.round((height+margin[1])/(rowHeight+margin[1]));return w=clamp(w,0,cols-x),h=clamp(h,0,maxRows-y),{w:w,h:h}}function clamp(num,lowerBound,upperBound){return Math.max(Math.min(num,upperBound),lowerBound)}},{}],75:[function(require,module,exports){"use strict";function _typeof(obj){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=WidthProvider;var React=_interopRequireWildcard(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_reactDom=_interopRequireDefault(require("react-dom"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=_objectWithoutPropertiesLoose(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function WidthProvider(ComposedComponent){var _class,_temp;return _temp=_class=function(_React$Component){_inherits(WidthProvider,_React$Component);var _super=_createSuper(WidthProvider);function WidthProvider(){var _this;_classCallCheck(this,WidthProvider);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=_super.call.apply(_super,[this].concat(args)),_defineProperty(_assertThisInitialized(_this),"state",{width:1280}),_defineProperty(_assertThisInitialized(_this),"mounted",!1),_defineProperty(_assertThisInitialized(_this),"onWindowResize",function(){if(_this.mounted){var node=_reactDom.default.findDOMNode(_assertThisInitialized(_this));node instanceof HTMLElement&&_this.setState({width:node.offsetWidth})}}),_this}return _createClass(WidthProvider,[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var _this$props=this.props,measureBeforeMount=_this$props.measureBeforeMount,rest=_objectWithoutProperties(_this$props,["measureBeforeMount"]);return measureBeforeMount&&!this.mounted?React.createElement("div",{className:this.props.className,style:this.props.style}):React.createElement(ComposedComponent,_extends({},rest,this.state))}}]),WidthProvider}(React.Component),_defineProperty(_class,"defaultProps",{measureBeforeMount:!1}),_defineProperty(_class,"propTypes",{measureBeforeMount:_propTypes.default.bool}),_temp}},{"prop-types":"prop-types",react:"react","react-dom":"react-dom"}],76:[function(require,module,exports){module.exports=function(a,b,isEqualImpl){return a===b||a.className===b.className&&isEqualImpl(a.style,b.style)&&a.width===b.width&&a.autoSize===b.autoSize&&a.cols===b.cols&&a.draggableCancel===b.draggableCancel&&a.draggableHandle===b.draggableHandle&&isEqualImpl(a.verticalCompact,b.verticalCompact)&&isEqualImpl(a.compactType,b.compactType)&&isEqualImpl(a.layout,b.layout)&&isEqualImpl(a.margin,b.margin)&&isEqualImpl(a.containerPadding,b.containerPadding)&&a.rowHeight===b.rowHeight&&a.maxRows===b.maxRows&&a.isBounded===b.isBounded&&a.isDraggable===b.isDraggable&&a.isResizable===b.isResizable&&a.preventCollision===b.preventCollision&&a.useCSSTransforms===b.useCSSTransforms&&a.transformScale===b.transformScale&&a.isDroppable===b.isDroppable&&isEqualImpl(a.resizeHandles,b.resizeHandles)&&isEqualImpl(a.resizeHandle,b.resizeHandle)&&a.onLayoutChange===b.onLayoutChange&&a.onDragStart===b.onDragStart&&a.onDrag===b.onDrag&&a.onDragStop===b.onDragStop&&a.onResizeStart===b.onResizeStart&&a.onResize===b.onResize&&a.onResizeStop===b.onResizeStop&&a.onDrop===b.onDrop&&isEqualImpl(a.droppingItem,b.droppingItem)&&isEqualImpl(a.innerRef,b.innerRef)}},{}],77:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBreakpointFromWidth=getBreakpointFromWidth,exports.getColsFromBreakpoint=getColsFromBreakpoint,exports.findOrGenerateResponsiveLayout=findOrGenerateResponsiveLayout,exports.sortBreakpoints=sortBreakpoints;var _utils=require("./utils");function getBreakpointFromWidth(breakpoints,width){for(var sorted=sortBreakpoints(breakpoints),matching=sorted[0],i=1,len=sorted.length;i<len;i++){var breakpointName=sorted[i];width>breakpoints[breakpointName]&&(matching=breakpointName)}return matching}function getColsFromBreakpoint(breakpoint,cols){if(!cols[breakpoint])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+breakpoint+" is missing!");return cols[breakpoint]}function findOrGenerateResponsiveLayout(layouts,breakpoints,breakpoint,lastBreakpoint,cols,compactType){if(layouts[breakpoint])return(0,_utils.cloneLayout)(layouts[breakpoint]);for(var layout=layouts[lastBreakpoint],breakpointsSorted=sortBreakpoints(breakpoints),breakpointsAbove=breakpointsSorted.slice(breakpointsSorted.indexOf(breakpoint)),i=0,len=breakpointsAbove.length;i<len;i++){var b=breakpointsAbove[i];if(layouts[b]){layout=layouts[b];break}}return layout=(0,_utils.cloneLayout)(layout||[]),(0,_utils.compact)((0,_utils.correctBounds)(layout,{cols:cols}),compactType,cols)}function sortBreakpoints(breakpoints){return Object.keys(breakpoints).sort(function(a,b){return breakpoints[a]-breakpoints[b]})}},{"./utils":78}],78:[function(require,module,exports){(function(process){"use strict";Object.defineProperty(exports,"__esModule",{
value:!0}),exports.bottom=bottom,exports.cloneLayout=cloneLayout,exports.modifyLayout=modifyLayout,exports.withLayoutItem=withLayoutItem,exports.cloneLayoutItem=cloneLayoutItem,exports.childrenEqual=childrenEqual,exports.fastPositionEqual=fastPositionEqual,exports.collides=collides,exports.compact=compact,exports.compactItem=compactItem,exports.correctBounds=correctBounds,exports.getLayoutItem=getLayoutItem,exports.getFirstCollision=getFirstCollision,exports.getAllCollisions=getAllCollisions,exports.getStatics=getStatics,exports.moveElement=moveElement,exports.moveElementAwayFromCollision=moveElementAwayFromCollision,exports.perc=perc,exports.setTransform=setTransform,exports.setTopLeft=setTopLeft,exports.sortLayoutItems=sortLayoutItems,exports.sortLayoutItemsByRowCol=sortLayoutItemsByRowCol,exports.sortLayoutItemsByColRow=sortLayoutItemsByColRow,exports.synchronizeLayoutWithChildren=synchronizeLayoutWithChildren,exports.validateLayout=validateLayout,exports.compactType=compactType,exports.autoBindHandlers=autoBindHandlers,exports.noop=exports.fastRGLPropsEqual=void 0;var _lodash=_interopRequireDefault(require("lodash.isequal")),_react=_interopRequireDefault(require("react"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var isProduction="production"===process.env.NODE_ENV,DEBUG=!1;function bottom(layout){for(var bottomY,max=0,i=0,len=layout.length;i<len;i++)(bottomY=layout[i].y+layout[i].h)>max&&(max=bottomY);return max}function cloneLayout(layout){for(var newLayout=Array(layout.length),i=0,len=layout.length;i<len;i++)newLayout[i]=cloneLayoutItem(layout[i]);return newLayout}function modifyLayout(layout,layoutItem){for(var newLayout=Array(layout.length),i=0,len=layout.length;i<len;i++)layoutItem.i===layout[i].i?newLayout[i]=layoutItem:newLayout[i]=layout[i];return newLayout}function withLayoutItem(layout,itemKey,cb){var item=getLayoutItem(layout,itemKey);return item?(item=cb(cloneLayoutItem(item)),layout=modifyLayout(layout,item),[layout,item]):[layout,null]}function cloneLayoutItem(layoutItem){return{w:layoutItem.w,h:layoutItem.h,x:layoutItem.x,y:layoutItem.y,i:layoutItem.i,minW:layoutItem.minW,maxW:layoutItem.maxW,minH:layoutItem.minH,maxH:layoutItem.maxH,moved:Boolean(layoutItem.moved),static:Boolean(layoutItem.static),isDraggable:layoutItem.isDraggable,isResizable:layoutItem.isResizable,resizeHandles:layoutItem.resizeHandles,isBounded:layoutItem.isBounded}}function childrenEqual(a,b){return(0,_lodash.default)(_react.default.Children.map(a,function(c){return c.key}),_react.default.Children.map(b,function(c){return c.key}))}var fastRGLPropsEqual=require("./fastRGLPropsEqual");exports.fastRGLPropsEqual=fastRGLPropsEqual;function fastPositionEqual(a,b){return a.left===b.left&&a.top===b.top&&a.width===b.width&&a.height===b.height}function collides(l1,l2){return l1.i!==l2.i&&(!(l1.x+l1.w<=l2.x)&&(!(l1.x>=l2.x+l2.w)&&(!(l1.y+l1.h<=l2.y)&&!(l1.y>=l2.y+l2.h))))}function compact(layout,compactType,cols){for(var compareWith=getStatics(layout),sorted=sortLayoutItems(layout,compactType),out=Array(layout.length),i=0,len=sorted.length;i<len;i++){var l=cloneLayoutItem(sorted[i]);l.static||(l=compactItem(compareWith,l,compactType,cols,sorted),compareWith.push(l)),out[layout.indexOf(sorted[i])]=l,l.moved=!1}return out}var heightWidth={x:"w",y:"h"};function resolveCompactionCollision(layout,item,moveToCoord,axis){var sizeProp=heightWidth[axis];item[axis]+=1;for(var itemIndex=layout.map(function(layoutItem){return layoutItem.i}).indexOf(item.i),i=itemIndex+1;i<layout.length;i++){var otherItem=layout[i];if(!otherItem.static){if(otherItem.y>item.y+item.h)break;collides(item,otherItem)&&resolveCompactionCollision(layout,otherItem,moveToCoord+item[sizeProp],axis)}}item[axis]=moveToCoord}function compactItem(compareWith,l,compactType,cols,fullLayout){var compactV="vertical"===compactType,compactH="horizontal"===compactType;if(compactV)for(l.y=Math.min(bottom(compareWith),l.y);l.y>0&&!getFirstCollision(compareWith,l);)l.y--;else if(compactH)for(;l.x>0&&!getFirstCollision(compareWith,l);)l.x--;for(var collides;collides=getFirstCollision(compareWith,l);)compactH?resolveCompactionCollision(fullLayout,l,collides.x+collides.w,"x"):resolveCompactionCollision(fullLayout,l,collides.y+collides.h,"y"),compactH&&l.x+l.w>cols&&(l.x=cols-l.w,l.y++);return l}function correctBounds(layout,bounds){for(var collidesWith=getStatics(layout),i=0,len=layout.length;i<len;i++){var l=layout[i];if(l.x+l.w>bounds.cols&&(l.x=bounds.cols-l.w),l.x<0&&(l.x=0,l.w=bounds.cols),l.static)for(;getFirstCollision(collidesWith,l);)l.y++;else collidesWith.push(l)}return layout}function getLayoutItem(layout,id){for(var i=0,len=layout.length;i<len;i++)if(layout[i].i===id)return layout[i]}function getFirstCollision(layout,layoutItem){for(var i=0,len=layout.length;i<len;i++)if(collides(layout[i],layoutItem))return layout[i]}function getAllCollisions(layout,layoutItem){return layout.filter(function(l){return collides(l,layoutItem)})}function getStatics(layout){return layout.filter(function(l){return l.static})}function moveElement(layout,l,x,y,isUserAction,preventCollision,compactType,cols){if(l.static&&!0!==l.isDraggable)return layout;if(l.y===y&&l.x===x)return layout;log("Moving element ".concat(l.i," to [").concat(String(x),",").concat(String(y),"] from [").concat(l.x,",").concat(l.y,"]"));var oldX=l.x,oldY=l.y;"number"==typeof x&&(l.x=x),"number"==typeof y&&(l.y=y),l.moved=!0;var sorted=sortLayoutItems(layout,compactType);("vertical"===compactType&&"number"==typeof y?oldY>=y:"horizontal"===compactType&&"number"==typeof x&&oldX>=x)&&(sorted=sorted.reverse());var collisions=getAllCollisions(sorted,l);if(preventCollision&&collisions.length)return log("Collision prevented on ".concat(l.i,", reverting.")),l.x=oldX,l.y=oldY,l.moved=!1,layout;for(var i=0,len=collisions.length;i<len;i++){var collision=collisions[i];log("Resolving collision between ".concat(l.i," at [").concat(l.x,",").concat(l.y,"] and ").concat(collision.i," at [").concat(collision.x,",").concat(collision.y,"]")),collision.moved||(layout=collision.static?moveElementAwayFromCollision(layout,collision,l,isUserAction,compactType,cols):moveElementAwayFromCollision(layout,l,collision,isUserAction,compactType,cols))}return layout}function moveElementAwayFromCollision(layout,collidesWith,itemToMove,isUserAction,compactType,cols){var compactH="horizontal"===compactType,compactV="horizontal"!==compactType,preventCollision=collidesWith.static;if(isUserAction){isUserAction=!1;var fakeItem={x:compactH?Math.max(collidesWith.x-itemToMove.w,0):itemToMove.x,y:compactV?Math.max(collidesWith.y-itemToMove.h,0):itemToMove.y,w:itemToMove.w,h:itemToMove.h,i:"-1"};if(!getFirstCollision(layout,fakeItem))return log("Doing reverse collision on ".concat(itemToMove.i," up to [").concat(fakeItem.x,",").concat(fakeItem.y,"].")),moveElement(layout,itemToMove,compactH?fakeItem.x:void 0,compactV?fakeItem.y:void 0,isUserAction,preventCollision,compactType,cols)}return moveElement(layout,itemToMove,compactH?itemToMove.x+1:void 0,compactV?itemToMove.y+1:void 0,isUserAction,preventCollision,compactType,cols)}function perc(num){return 100*num+"%"}function setTransform(_ref){var top=_ref.top,left=_ref.left,width=_ref.width,height=_ref.height,translate="translate(".concat(left,"px,").concat(top,"px)");return{transform:translate,WebkitTransform:translate,MozTransform:translate,msTransform:translate,OTransform:translate,width:"".concat(width,"px"),height:"".concat(height,"px"),position:"absolute"}}function setTopLeft(_ref2){var top=_ref2.top,left=_ref2.left,width=_ref2.width,height=_ref2.height;return{top:"".concat(top,"px"),left:"".concat(left,"px"),width:"".concat(width,"px"),height:"".concat(height,"px"),position:"absolute"}}function sortLayoutItems(layout,compactType){return"horizontal"===compactType?sortLayoutItemsByColRow(layout):sortLayoutItemsByRowCol(layout)}function sortLayoutItemsByRowCol(layout){return layout.slice(0).sort(function(a,b){return a.y>b.y||a.y===b.y&&a.x>b.x?1:a.y===b.y&&a.x===b.x?0:-1})}function sortLayoutItemsByColRow(layout){return layout.slice(0).sort(function(a,b){return a.x>b.x||a.x===b.x&&a.y>b.y?1:-1})}function synchronizeLayoutWithChildren(initialLayout,children,cols,compactType){initialLayout=initialLayout||[];var layout=[];return _react.default.Children.forEach(children,function(child,i){var exists=getLayoutItem(initialLayout,String(child.key));if(exists)layout[i]=cloneLayoutItem(exists);else{!isProduction&&child.props._grid&&console.warn("`_grid` properties on children have been deprecated as of React 15.2. Please use `data-grid` or add your properties directly to the `layout`.");var g=child.props["data-grid"]||child.props._grid;g?(isProduction||validateLayout([g],"ReactGridLayout.children"),layout[i]=cloneLayoutItem(_objectSpread(_objectSpread({},g),{},{i:child.key}))):layout[i]=cloneLayoutItem({w:1,h:1,x:0,y:bottom(layout),i:String(child.key)})}}),compact(correctBounds(layout,{cols:cols}),compactType,cols)}function validateLayout(layout){var contextName=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",subProps=["x","y","w","h"];if(!Array.isArray(layout))throw new Error(contextName+" must be an array!");for(var i=0,len=layout.length;i<len;i++){for(var item=layout[i],j=0;j<subProps.length;j++)if("number"!=typeof item[subProps[j]])throw new Error("ReactGridLayout: "+contextName+"["+i+"]."+subProps[j]+" must be a number!");if(item.i&&"string"!=typeof item.i)throw new Error("ReactGridLayout: "+contextName+"["+i+"].i must be a string!");if(void 0!==item.static&&"boolean"!=typeof item.static)throw new Error("ReactGridLayout: "+contextName+"["+i+"].static must be a boolean!")}}function compactType(props){var _ref3=props||{},verticalCompact=_ref3.verticalCompact,compactType=_ref3.compactType;return!1===verticalCompact?null:compactType}function autoBindHandlers(el,fns){fns.forEach(function(key){return el[key]=el[key].bind(el)})}function log(){var _console;DEBUG&&(_console=console).log.apply(_console,arguments)}var noop=function(){};exports.noop=noop}).call(this,require("_process"))},{"./fastRGLPropsEqual":76,_process:69,"lodash.isequal":67,react:"react"}],79:[function(require,module,exports){module.exports=require("./build/ReactGridLayout").default,module.exports.utils=require("./build/utils"),module.exports.Responsive=require("./build/ResponsiveReactGridLayout").default,module.exports.Responsive.utils=require("./build/responsiveUtils"),module.exports.WidthProvider=require("./build/components/WidthProvider").default},{"./build/ReactGridLayout":71,"./build/ResponsiveReactGridLayout":73,"./build/components/WidthProvider":75,"./build/responsiveUtils":77,"./build/utils":78}],80:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default=void 0;var _react=_interopRequireDefault(require("react")),_reactDraggable=require("react-draggable"),_utils=require("./utils"),_propTypes=require("./propTypes");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Resizable=function(_React$Component){_inheritsLoose(Resizable,_React$Component);function Resizable(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=_React$Component.call.apply(_React$Component,[this].concat(args))||this,_defineProperty(_assertThisInitialized(_this),"state",void 0),_defineProperty(_assertThisInitialized(_this),"lastHandleRect",null),_defineProperty(_assertThisInitialized(_this),"slack",null),_this}var _proto=Resizable.prototype;return _proto.componentWillUnmount=function(){this.resetData()},_proto.lockAspectRatio=function(width,height,aspectRatio){return height=width/aspectRatio,width=height*aspectRatio,[width,height]},_proto.resetData=function(){this.lastHandleRect=this.slack=null},_proto.runConstraints=function(width,height){var _ref=[this.props.minConstraints,this.props.maxConstraints],min=_ref[0],max=_ref[1];if(!min&&!max)return[width,height];if(this.props.lockAspectRatio){if(height===this.props.height){var ratio=this.props.width/this.props.height;height=width/ratio,width=height*ratio}else{var _ratio=this.props.height/this.props.width;width=height/_ratio,height=width*_ratio}}var oldW=width,oldH=height,_ref2=this.slack||[0,0],slackW=_ref2[0],slackH=_ref2[1];return width+=slackW,height+=slackH,min&&(width=Math.max(min[0],width),height=Math.max(min[1],height)),max&&(width=Math.min(max[0],width),height=Math.min(max[1],height)),this.slack=[slackW+(oldW-width),slackH+(oldH-height)],[width,height]},_proto.resizeHandler=function(handlerName,axis){var _this2=this;return function(e,_ref3){var node=_ref3.node,deltaX=_ref3.deltaX,deltaY=_ref3.deltaY;"onResizeStart"===handlerName&&_this2.resetData();var canDragX=("both"===_this2.props.axis||"x"===_this2.props.axis)&&"n"!==axis&&"s"!==axis,canDragY=("both"===_this2.props.axis||"y"===_this2.props.axis)&&"e"!==axis&&"w"!==axis;if(canDragX||canDragY){var axisV=axis[0],axisH=axis[axis.length-1],handleRect=node.getBoundingClientRect();if(null!=_this2.lastHandleRect){if("w"===axisH){deltaX+=handleRect.left-_this2.lastHandleRect.left}if("n"===axisV){deltaY+=handleRect.top-_this2.lastHandleRect.top}}_this2.lastHandleRect=handleRect,"w"===axisH&&(deltaX=-deltaX),"n"===axisV&&(deltaY=-deltaY);var width=_this2.props.width+(canDragX?deltaX/_this2.props.transformScale:0),height=_this2.props.height+(canDragY?deltaY/_this2.props.transformScale:0),_this2$runConstraints=_this2.runConstraints(width,height);width=_this2$runConstraints[0],height=_this2$runConstraints[1];var dimensionsChanged=width!==_this2.props.width||height!==_this2.props.height,cb="function"==typeof _this2.props[handlerName]?_this2.props[handlerName]:null,shouldSkipCb="onResize"===handlerName&&!dimensionsChanged;cb&&!shouldSkipCb&&("function"==typeof e.persist&&e.persist(),cb(e,{node:node,size:{width:width,height:height},handle:axis})),"onResizeStop"===handlerName&&_this2.resetData()}}},_proto.renderResizeHandle=function(resizeHandleAxis){var handle=this.props.handle;return handle?"function"==typeof handle?handle(resizeHandleAxis):handle:_react.default.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+resizeHandleAxis})},_proto.render=function(){var _this3=this,_this$props=this.props,children=_this$props.children,className=_this$props.className,draggableOpts=_this$props.draggableOpts,resizeHandles=(_this$props.width,_this$props.height,_this$props.handle,_this$props.handleSize,_this$props.lockAspectRatio,_this$props.axis,_this$props.minConstraints,_this$props.maxConstraints,_this$props.onResize,_this$props.onResizeStop,_this$props.onResizeStart,_this$props.resizeHandles),p=(_this$props.transformScale,_objectWithoutPropertiesLoose(_this$props,["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"]));return(0,_utils.cloneElement)(children,_objectSpread(_objectSpread({},p),{},{className:(className?className+" ":"")+"react-resizable",children:[].concat(children.props.children,resizeHandles.map(function(handleAxis){return _react.default.createElement(_reactDraggable.DraggableCore,_extends({},draggableOpts,{key:"resizableHandle-"+handleAxis,onStop:_this3.resizeHandler("onResizeStop",handleAxis),onStart:_this3.resizeHandler("onResizeStart",handleAxis),onDrag:_this3.resizeHandler("onResize",handleAxis)}),_this3.renderResizeHandle(handleAxis))}))}))},Resizable}(_react.default.Component);exports.default=Resizable,_defineProperty(Resizable,"propTypes",_propTypes.resizableProps),_defineProperty(Resizable,"defaultProps",{handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1})},{"./propTypes":82,"./utils":83,react:"react","react-draggable":"react-draggable"}],81:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default=void 0;var React=_interopRequireWildcard(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_Resizable=_interopRequireDefault(require("./Resizable")),_propTypes2=require("./propTypes");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!=typeof obj&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ResizableBox=function(_React$Component){_inheritsLoose(ResizableBox,_React$Component);function ResizableBox(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=_React$Component.call.apply(_React$Component,[this].concat(args))||this,_defineProperty(_assertThisInitialized(_this),"state",{width:_this.props.width,height:_this.props.height,propsWidth:_this.props.width,propsHeight:_this.props.height}),_defineProperty(_assertThisInitialized(_this),"onResize",function(e,data){var size=data.size;_this.props.onResize?(e.persist&&e.persist(),_this.setState(size,function(){return _this.props.onResize&&_this.props.onResize(e,data)})):_this.setState(size)}),_this}return ResizableBox.getDerivedStateFromProps=function(props,state){return state.propsWidth!==props.width||state.propsHeight!==props.height?{width:props.width,height:props.height,propsWidth:props.width,propsHeight:props.height}:null},ResizableBox.prototype.render=function(){var _this$props=this.props,handle=_this$props.handle,handleSize=_this$props.handleSize,onResizeStart=(_this$props.onResize,_this$props.onResizeStart),onResizeStop=_this$props.onResizeStop,draggableOpts=_this$props.draggableOpts,minConstraints=_this$props.minConstraints,maxConstraints=_this$props.maxConstraints,lockAspectRatio=_this$props.lockAspectRatio,axis=_this$props.axis,resizeHandles=(_this$props.width,_this$props.height,_this$props.resizeHandles),style=_this$props.style,transformScale=_this$props.transformScale,props=_objectWithoutPropertiesLoose(_this$props,["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"]);return React.createElement(_Resizable.default,{axis:axis,draggableOpts:draggableOpts,handle:handle,handleSize:handleSize,height:this.state.height,lockAspectRatio:lockAspectRatio,maxConstraints:maxConstraints,minConstraints:minConstraints,onResizeStart:onResizeStart,onResize:this.onResize,onResizeStop:onResizeStop,resizeHandles:resizeHandles,transformScale:transformScale,width:this.state.width},React.createElement("div",_extends({},props,{style:_objectSpread(_objectSpread({},style),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},ResizableBox}(React.Component);exports.default=ResizableBox,_defineProperty(ResizableBox,"propTypes",_objectSpread(_objectSpread({},_propTypes2.resizableProps),{},{children:_propTypes.default.element}))},{"./Resizable":80,"./propTypes":82,"prop-types":"prop-types",react:"react"}],82:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.resizableProps=void 0;var _propTypes=_interopRequireDefault(require("prop-types"));require("react-draggable");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var resizableProps={axis:_propTypes.default.oneOf(["both","x","y","none"]),className:_propTypes.default.string,children:_propTypes.default.element.isRequired,draggableOpts:_propTypes.default.shape({allowAnyClick:_propTypes.default.bool,cancel:_propTypes.default.string,children:_propTypes.default.node,disabled:_propTypes.default.bool,enableUserSelectHack:_propTypes.default.bool,offsetParent:_propTypes.default.node,grid:_propTypes.default.arrayOf(_propTypes.default.number),handle:_propTypes.default.string,nodeRef:_propTypes.default.object,onStart:_propTypes.default.func,onDrag:_propTypes.default.func,onStop:_propTypes.default.func,onMouseDown:_propTypes.default.func,scale:_propTypes.default.number}),height:_propTypes.default.number.isRequired,handle:_propTypes.default.oneOfType([_propTypes.default.node,_propTypes.default.func]),handleSize:_propTypes.default.arrayOf(_propTypes.default.number),lockAspectRatio:_propTypes.default.bool,maxConstraints:_propTypes.default.arrayOf(_propTypes.default.number),minConstraints:_propTypes.default.arrayOf(_propTypes.default.number),onResizeStop:_propTypes.default.func,onResizeStart:_propTypes.default.func,onResize:_propTypes.default.func,resizeHandles:_propTypes.default.arrayOf(_propTypes.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:_propTypes.default.number,width:_propTypes.default.number.isRequired};exports.resizableProps=resizableProps},{"prop-types":"prop-types","react-draggable":"react-draggable"}],83:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.cloneElement=cloneElement;var _react=_interopRequireDefault(require("react"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function cloneElement(element,props){return props.style&&element.props.style&&(props.style=_objectSpread(_objectSpread({},element.props.style),props.style)),props.className&&element.props.className&&(props.className=element.props.className+" "+props.className),_react.default.cloneElement(element,props)}},{react:"react"}],84:[function(require,module,exports){"use strict";module.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},module.exports.Resizable=require("./build/Resizable").default,module.exports.ResizableBox=require("./build/ResizableBox").default},{"./build/Resizable":80,"./build/ResizableBox":81}],85:[function(require,module,exports){!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ScrollArea=t(require("react")):e.ScrollArea=t(e.React)}(this,function(e){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n(31);var r=n(13),i=o(r);t.default=i.default},function(t,n){t.exports=e},function(e,t,n){e.exports=n(19)()},function(e,t){"use strict";function n(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="number"==typeof e[n]?e[n]:e[n].val);return t}t.__esModule=!0,t.default=n,e.exports=t.default},function(e,t,n){(function(t){(function(){var n,o,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-r)/1e6},o=t.hrtime,n=function(){var e;return e=o(),1e9*e[0]+e[1]},r=n()):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,n(10))},function(e,t,n){(function(t){for(var o=n(23),r="undefined"==typeof window?t:window,i=["moz","webkit"],a="AnimationFrame",l=r["request"+a],s=r["cancel"+a]||r["cancelRequest"+a],u=0;!l&&u<i.length;u++)l=r[i[u]+"Request"+a],s=r[i[u]+"Cancel"+a]||r[i[u]+"CancelRequest"+a];if(!l||!s){var c=0,f=0,p=[],d=1e3/60;l=function(e){if(0===p.length){var t=o(),n=Math.max(0,d-(t-c));c=n+t,setTimeout(function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return p.push({handle:++f,callback:e,cancelled:!1}),f},s=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return l.call(r,e)},e.exports.cancel=function(){s.apply(r,arguments)},e.exports.polyfill=function(e){e||(e=r),e.requestAnimationFrame=l,e.cancelAnimationFrame=s}}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=0);return t}t.__esModule=!0,t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e,t,n){for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(0!==n[o])return!1;var r="number"==typeof t[o]?t[o]:t[o].val;if(e[o]!==r)return!1}return!0}t.__esModule=!0,t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e,t,n,r,i,a,l){var s=-i*(t-r),u=-a*n,c=s+u,f=n+c*e,p=t+f*e;return Math.abs(f)<l&&Math.abs(p-r)<l?(o[0]=r,o[1]=0,o):(o[0]=p,o[1]=f,o)}t.__esModule=!0,t.default=n;var o=[0,0];e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){return p?f.default.findDOMNode(e):e}function i(){d||p||(d=!0,console.error("With React 0.14 and later versions, you no longer need to wrap <ScrollArea> child into a function."))}function a(){!d&&p&&(d=!0,console.error("With React 0.13, you need to wrap <ScrollArea> child into a function."))}function l(e){return e<0?0:e}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=t(e[o]));return n}function u(e){var t=e.version;if("string"!=typeof t)return!0;var n=t.split("."),o=parseInt(n[0],10),r=parseInt(n[1],10);return 0===o&&13===r}Object.defineProperty(t,"__esModule",{value:!0}),t.findDOMNode=r,t.warnAboutFunctionChild=i,t.warnAboutElementChild=a,t.positiveOrZero=l,t.modifyObjValues=s,t.isReact13=u;var c=n(1),f=o(c),p=u(f.default),d=!1},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){
try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){y&&d&&(y=!1,d.length?h=d.concat(h):v=-1,h.length&&l())}function l(){if(!y){var e=r(a);y=!0;for(var t=h.length;t;){for(d=h,h=[];++v<t;)d&&d[v].run();v=-1,t=h.length}d=null,y=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var c,f,p=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(e){f=o}}();var d,h=[],y=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new s(e,t)),1!==h.length||y||r(l)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var r=n(24);t.Motion=o(r);var i=n(25);t.StaggeredMotion=o(i);var a=n(26);t.TransitionMotion=o(a);var l=n(29);t.spring=o(l);var s=n(11);t.presets=o(s);var u=n(3);t.stripStyle=o(u);var c=n(28);t.reorderKeys=o(c)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(1),f=o(c),p=n(2),d=o(p),h=n(18),y=o(h),v=n(12),m=n(9),b=n(14),S=o(b),g={wheel:"wheel",api:"api",touch:"touch",touchEnd:"touchEnd",mousemove:"mousemove",keyPress:"keypress"},w=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={topPosition:0,leftPosition:0,realHeight:0,containerHeight:0,realWidth:0,containerWidth:0},n.scrollArea={refresh:function(){n.setSizesToState()},scrollTop:function(){n.scrollTop()},scrollBottom:function(){n.scrollBottom()},scrollYTo:function(e){n.scrollYTo(e)},scrollLeft:function(){n.scrollLeft()},scrollRight:function(){n.scrollRight()},scrollXTo:function(e){n.scrollXTo(e)}},n.evntsPreviousValues={clientX:0,clientY:0,deltaX:0,deltaY:0},n.bindedHandleWindowResize=n.handleWindowResize.bind(n),n.bindedHandleWheel=n.handleWheel.bind(n),n}return a(t,e),u(t,[{key:"getChildContext",value:function(){return{scrollArea:this.scrollArea}}},{key:"componentDidMount",value:function(){this.props.contentWindow&&this.props.contentWindow.addEventListener("resize",this.bindedHandleWindowResize),this.lineHeightPx=(0,y.default)((0,m.findDOMNode)(this.content)),this.setSizesToState(),this.wrapper.addEventListener("wheel",this.bindedHandleWheel,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.props.contentWindow&&this.props.contentWindow.removeEventListener("resize",this.bindedHandleWindowResize),this.wrapper.removeEventListener("wheel",this.bindedHandleWheel)}},{key:"componentDidUpdate",value:function(){this.setSizesToState()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.className,r=t.contentClassName,i=t.ownerDocument,a=this.props.smoothScrolling&&(this.state.eventType===g.wheel||this.state.eventType===g.api||this.state.eventType===g.touchEnd||this.state.eventType===g.keyPress),l=this.canScrollY()?f.default.createElement(S.default,{ownerDocument:i,realSize:this.state.realHeight,containerSize:this.state.containerHeight,position:this.state.topPosition,onMove:this.handleScrollbarMove.bind(this),onPositionChange:this.handleScrollbarYPositionChange.bind(this),containerStyle:this.props.verticalContainerStyle,scrollbarStyle:this.props.verticalScrollbarStyle,smoothScrolling:a,minScrollSize:this.props.minScrollSize,onFocus:this.focusContent.bind(this),type:"vertical"}):null,u=this.canScrollX()?f.default.createElement(S.default,{ownerDocument:i,realSize:this.state.realWidth,containerSize:this.state.containerWidth,position:this.state.leftPosition,onMove:this.handleScrollbarMove.bind(this),onPositionChange:this.handleScrollbarXPositionChange.bind(this),containerStyle:this.props.horizontalContainerStyle,scrollbarStyle:this.props.horizontalScrollbarStyle,smoothScrolling:a,minScrollSize:this.props.minScrollSize,onFocus:this.focusContent.bind(this),type:"horizontal"}):null;"function"==typeof n?((0,m.warnAboutFunctionChild)(),n=n()):(0,m.warnAboutElementChild)();var c="scrollarea "+(o||""),p="scrollarea-content "+(r||""),d={marginTop:-this.state.topPosition,marginLeft:-this.state.leftPosition},h=a?(0,m.modifyObjValues)(d,function(e){return(0,v.spring)(e)}):d;return f.default.createElement(v.Motion,{style:h},function(t){return f.default.createElement("div",{ref:function(t){return e.wrapper=t},className:c,style:e.props.style},f.default.createElement("div",{ref:function(t){return e.content=t},style:s({},e.props.contentStyle,t),className:p,onTouchStart:e.handleTouchStart.bind(e),onTouchMove:e.handleTouchMove.bind(e),onTouchEnd:e.handleTouchEnd.bind(e),onKeyDown:e.handleKeyDown.bind(e),tabIndex:e.props.focusableTabIndex},n),l,u)})}},{key:"setStateFromEvent",value:function(e,t){this.props.onScroll&&this.props.onScroll(e),this.setState(s({},e,{eventType:t}))}},{key:"handleTouchStart",value:function(e){var t=e.touches;if(1===t.length){var n=t[0],o=n.clientX,r=n.clientY;this.eventPreviousValues=s({},this.eventPreviousValues,{clientY:r,clientX:o,timestamp:Date.now()})}}},{key:"handleTouchMove",value:function(e){this.canScroll()&&(e.preventDefault(),e.stopPropagation());var t=e.touches;if(1===t.length){var n=t[0],o=n.clientX,r=n.clientY,i=this.eventPreviousValues.clientY-r,a=this.eventPreviousValues.clientX-o;this.eventPreviousValues=s({},this.eventPreviousValues,{deltaY:i,deltaX:a,clientY:r,clientX:o,timestamp:Date.now()}),this.setStateFromEvent(this.composeNewState(-a,-i))}}},{key:"handleTouchEnd",value:function(e){var t=this.eventPreviousValues,n=t.deltaX,o=t.deltaY,r=t.timestamp;void 0===n&&(n=0),void 0===o&&(o=0),Date.now()-r<200&&this.setStateFromEvent(this.composeNewState(10*-n,10*-o),g.touchEnd),this.eventPreviousValues=s({},this.eventPreviousValues,{deltaY:0,deltaX:0})}},{key:"handleScrollbarMove",value:function(e,t){this.setStateFromEvent(this.composeNewState(t,e))}},{key:"handleScrollbarXPositionChange",value:function(e){this.scrollXTo(e)}},{key:"handleScrollbarYPositionChange",value:function(e){this.scrollYTo(e)}},{key:"handleWheel",value:function(e){var t=e.deltaY,n=e.deltaX;if(this.props.swapWheelAxes){var o=[n,t];t=o[0],n=o[1]}1===e.deltaMode&&(t*=this.lineHeightPx,n*=this.lineHeightPx),t*=this.props.speed,n*=this.props.speed;var r=this.composeNewState(-n,-t);(r.topPosition&&this.state.topPosition!==r.topPosition||r.leftPosition&&this.state.leftPosition!==r.leftPosition||this.props.stopScrollPropagation)&&(e.preventDefault(),e.stopPropagation()),this.setStateFromEvent(r,g.wheel),this.focusContent()}},{key:"handleKeyDown",value:function(e){if("input"!==e.target.tagName.toLowerCase()&&"textarea"!==e.target.tagName.toLowerCase()&&!e.target.isContentEditable){var t=0,n=0,o=this.lineHeightPx?this.lineHeightPx:10;switch(e.keyCode){case 33:t=this.state.containerHeight-o;break;case 34:t=-this.state.containerHeight+o;break;case 37:n=o;break;case 38:t=o;break;case 39:n=-o;break;case 40:t=-o}if(0!==t||0!==n){var r=this.composeNewState(n,t);e.preventDefault(),e.stopPropagation(),this.setStateFromEvent(r,g.keyPress)}}}},{key:"handleWindowResize",value:function(){var e=this.computeSizes();e=this.getModifiedPositionsIfNeeded(e),this.setStateFromEvent(e)}},{key:"composeNewState",value:function(e,t){var n=this.computeSizes();return this.canScrollY(n)?n.topPosition=this.computeTopPosition(t,n):n.topPosition=0,this.canScrollX(n)&&(n.leftPosition=this.computeLeftPosition(e,n)),n}},{key:"computeTopPosition",value:function(e,t){var n=this.state.topPosition-e;return this.normalizeTopPosition(n,t)}},{key:"computeLeftPosition",value:function(e,t){var n=this.state.leftPosition-e;return this.normalizeLeftPosition(n,t)}},{key:"normalizeTopPosition",value:function(e,t){return e>t.realHeight-t.containerHeight&&(e=t.realHeight-t.containerHeight),e<0&&(e=0),e}},{key:"normalizeLeftPosition",value:function(e,t){return e>t.realWidth-t.containerWidth?e=t.realWidth-t.containerWidth:e<0&&(e=0),e}},{key:"computeSizes",value:function(){return{realHeight:this.content.offsetHeight,containerHeight:this.wrapper.offsetHeight,realWidth:this.content.offsetWidth,containerWidth:this.wrapper.offsetWidth}}},{key:"setSizesToState",value:function(){var e=this.computeSizes();e.realHeight===this.state.realHeight&&e.realWidth===this.state.realWidth||this.setStateFromEvent(this.getModifiedPositionsIfNeeded(e))}},{key:"scrollTop",value:function(){this.scrollYTo(0)}},{key:"scrollBottom",value:function(){this.scrollYTo(this.state.realHeight-this.state.containerHeight)}},{key:"scrollLeft",value:function(){this.scrollXTo(0)}},{key:"scrollRight",value:function(){this.scrollXTo(this.state.realWidth-this.state.containerWidth)}},{key:"scrollYTo",value:function(e){if(this.canScrollY()){var t=this.normalizeTopPosition(e,this.computeSizes());this.setStateFromEvent({topPosition:t},g.api)}}},{key:"scrollXTo",value:function(e){if(this.canScrollX()){var t=this.normalizeLeftPosition(e,this.computeSizes());this.setStateFromEvent({leftPosition:t},g.api)}}},{key:"canScrollY",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return e.realHeight>e.containerHeight&&this.props.vertical}},{key:"canScrollX",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return e.realWidth>e.containerWidth&&this.props.horizontal}},{key:"canScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return this.canScrollY(e)||this.canScrollX(e)}},{key:"getModifiedPositionsIfNeeded",value:function(e){var t=e.realHeight-e.containerHeight;this.state.topPosition>=t&&(e.topPosition=this.canScrollY(e)?(0,m.positiveOrZero)(t):0);var n=e.realWidth-e.containerWidth;return this.state.leftPosition>=n&&(e.leftPosition=this.canScrollX(e)?(0,m.positiveOrZero)(n):0),e}},{key:"focusContent",value:function(){this.content&&(0,m.findDOMNode)(this.content).focus()}}]),t}(f.default.Component);t.default=w,w.childContextTypes={scrollArea:d.default.object},w.propTypes={className:d.default.string,style:d.default.object,speed:d.default.number,contentClassName:d.default.string,contentStyle:d.default.object,vertical:d.default.bool,verticalContainerStyle:d.default.object,verticalScrollbarStyle:d.default.object,horizontal:d.default.bool,horizontalContainerStyle:d.default.object,horizontalScrollbarStyle:d.default.object,onScroll:d.default.func,contentWindow:d.default.any,ownerDocument:d.default.any,smoothScrolling:d.default.bool,minScrollSize:d.default.number,swapWheelAxes:d.default.bool,stopScrollPropagation:d.default.bool,focusableTabIndex:d.default.number},w.defaultProps={speed:1,vertical:!0,horizontal:!0,smoothScrolling:!1,swapWheelAxes:!1,contentWindow:"object"===("undefined"==typeof window?"undefined":l(window))?window:void 0,ownerDocument:"object"===("undefined"==typeof document?"undefined":l(document))?document:void 0,focusableTabIndex:1}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),f=n(2),p=o(f),d=n(12),h=n(9),y=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=n.calculateState(e);return n.state={position:o.position,scrollSize:o.scrollSize,isDragging:!1,lastClientPosition:0},"vertical"===e.type?n.bindedHandleMouseMove=n.handleMouseMoveForVertical.bind(n):n.bindedHandleMouseMove=n.handleMouseMoveForHorizontal.bind(n),n.bindedHandleMouseUp=n.handleMouseUp.bind(n),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.ownerDocument&&(this.props.ownerDocument.addEventListener("mousemove",this.bindedHandleMouseMove),this.props.ownerDocument.addEventListener("mouseup",this.bindedHandleMouseUp))}},{key:"componentWillReceiveProps",value:function(e){this.setState(this.calculateState(e))}},{key:"componentWillUnmount",value:function(){this.props.ownerDocument&&(this.props.ownerDocument.removeEventListener("mousemove",this.bindedHandleMouseMove),this.props.ownerDocument.removeEventListener("mouseup",this.bindedHandleMouseUp))}},{key:"calculateFractionalPosition",value:function(e,t,n){var o=e-t;return 1-(o-n)/o}},{key:"calculateState",value:function(e){var t=this.calculateFractionalPosition(e.realSize,e.containerSize,e.position),n=e.containerSize*e.containerSize/e.realSize,o=n<e.minScrollSize?e.minScrollSize:n,r=(e.containerSize-o)*t;return{scrollSize:o,position:Math.round(r)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.smoothScrolling,o=t.isDragging,r=t.type,i=t.scrollbarStyle,a=t.containerStyle,s="horizontal"===r,u="vertical"===r,f=this.createScrollStyles(),p=n?(0,h.modifyObjValues)(f,function(e){return(0,d.spring)(e)}):f,y="scrollbar-container "+(o?"active":"")+" "+(s?"horizontal":"")+" "+(u?"vertical":"");return c.default.createElement(d.Motion,{style:p},function(t){return c.default.createElement("div",{className:y,style:a,onMouseDown:e.handleScrollBarContainerClick.bind(e),ref:function(t){return e.scrollbarContainer=t}},c.default.createElement("div",{className:"scrollbar",style:l({},i,t),onMouseDown:e.handleMouseDown.bind(e)}))})}},{key:"handleScrollBarContainerClick",value:function(e){e.preventDefault();var t=this.computeMultiplier(),n=this.isVertical()?e.clientY:e.clientX,o=this.scrollbarContainer.getBoundingClientRect(),r=o.top,i=o.left,a=this.isVertical()?r:i,l=n-a,s=this.props.containerSize*this.props.containerSize/this.props.realSize;this.setState({isDragging:!0,lastClientPosition:n}),this.props.onPositionChange((l-s/2)/t)}},{key:"handleMouseMoveForHorizontal",value:function(e){var t=this.computeMultiplier();if(this.state.isDragging){e.preventDefault();var n=this.state.lastClientPosition-e.clientX;this.setState({lastClientPosition:e.clientX}),this.props.onMove(0,n/t)}}},{key:"handleMouseMoveForVertical",value:function(e){var t=this.computeMultiplier();if(this.state.isDragging){e.preventDefault();var n=this.state.lastClientPosition-e.clientY;this.setState({lastClientPosition:e.clientY}),this.props.onMove(n/t,0)}}},{key:"handleMouseDown",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.isVertical()?e.clientY:e.clientX;this.setState({isDragging:!0,lastClientPosition:t}),this.props.onFocus()}},{key:"handleMouseUp",value:function(e){this.state.isDragging&&(e.preventDefault(),this.setState({isDragging:!1}))}},{key:"createScrollStyles",value:function(){return"vertical"===this.props.type?{height:this.state.scrollSize,marginTop:this.state.position}:{width:this.state.scrollSize,marginLeft:this.state.position}}},{key:"computeMultiplier",value:function(){return this.props.containerSize/this.props.realSize}},{key:"isVertical",value:function(){return"vertical"===this.props.type}}]),t}(c.default.Component);y.propTypes={onMove:p.default.func,onPositionChange:p.default.func,onFocus:p.default.func,realSize:p.default.number,containerSize:p.default.number,position:p.default.number,containerStyle:p.default.object,scrollbarStyle:p.default.object,type:p.default.oneOf(["vertical","horizontal"]),ownerDocument:p.default.any,smoothScrolling:p.default.bool,minScrollSize:p.default.number},y.defaultProps={type:"vertical",smoothScrolling:!1},t.default=y},function(e,t){var n=function(e,t,n){return n=window.getComputedStyle,(n?n(e):e.currentStyle)[t.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()})]};e.exports=n},function(e,t,n){t=e.exports=n(17)(),t.push([e.id,".scrollarea-content{margin:0;padding:0;overflow:hidden;position:relative;touch-action:none}.scrollarea-content:focus{outline:0}.scrollarea{position:relative;overflow:hidden}.scrollarea .scrollbar-container{position:absolute;background:none;opacity:.1;z-index:99;-webkit-transition:all .4s;transition:all .4s}.scrollarea .scrollbar-container.horizontal{width:100%;height:10px;left:0;bottom:0}.scrollarea .scrollbar-container.horizontal .scrollbar{width:20px;height:8px;background:#000;margin-top:1px}.scrollarea .scrollbar-container.vertical{width:10px;height:100%;right:0;top:0}.scrollarea .scrollbar-container.vertical .scrollbar{width:8px;height:20px;background:#000;margin-left:1px}.scrollarea .scrollbar-container.active,.scrollarea .scrollbar-container:hover{background:gray;opacity:.6!important}.scrollarea:hover .scrollbar-container{opacity:.3}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){function o(e){var t=r(e,"line-height"),n=parseFloat(t,10);if(t===n+""){var o=e.style.lineHeight;e.style.lineHeight=t+"em",t=r(e,"line-height"),n=parseFloat(t,10),o?e.style.lineHeight=o:delete e.style.lineHeight}if(-1!==t.indexOf("pt")?(n*=4,n/=3):-1!==t.indexOf("mm")?(n*=96,n/=25.4):-1!==t.indexOf("cm")?(n*=96,n/=2.54):-1!==t.indexOf("in")?n*=96:-1!==t.indexOf("pc")&&(n*=16),n=Math.round(n),"normal"===t){var i=e.nodeName,a=document.createElement(i);a.innerHTML="&nbsp;";var l=r(e,"font-size");a.style.fontSize=l;var s=document.body;s.appendChild(a);n=a.offsetHeight,s.removeChild(a)}return n}var r=n(15);e.exports=o},function(e,t,n){"use strict";var o=n(21),r=n(22),i=n(20);e.exports=function(){function e(e,t,n,o,a,l){l!==i&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){"use strict";function n(e){return function(){return e}}var o=function(){};o.thatReturns=n,o.thatReturnsFalse=n(!1),o.thatReturnsTrue=n(!0),o.thatReturnsNull=n(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";function o(e,t,n,o,i,a,l,s){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,i,a,l,s],f=0;u=new Error(t.replace(/%s/g,function(){return c[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var r=function(e){};e.exports=o},function(e,t,n){(function(t){(function(){var n,o,r,i,a,l;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},o=t.hrtime,n=function(){var e;return e=o(),1e9*e[0]+e[1]},i=n(),l=1e9*t.uptime(),a=i-l):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,n(10))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(6),u=o(s),c=n(3),f=o(c),p=n(8),d=o(p),h=n(4),y=o(h),v=n(5),m=o(v),b=n(7),S=o(b),g=n(1),w=o(g),P=n(2),T=o(P),k=1e3/60,O=function(e){function t(n){var o=this;r(this,t),e.call(this,n),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,n=o.state,r=n.currentStyle,i=n.currentVelocity,l=n.lastIdealStyle,s=n.lastIdealVelocity;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var c=e[u];"number"==typeof c&&(t||(t=!0,r=a({},r),i=a({},i),l=a({},l),s=a({},s)),r[u]=c,i[u]=0,l[u]=c,s[u]=0)}t&&o.setState({currentStyle:r,currentVelocity:i,lastIdealStyle:l,lastIdealVelocity:s})},this.startAnimationIfNecessary=function(){o.animationID=m.default(function(e){var t=o.props.style;if(S.default(o.state.currentStyle,t,o.state.currentVelocity))return o.wasAnimating&&o.props.onRest&&o.props.onRest(),o.animationID=null,o.wasAnimating=!1,void(o.accumulatedTime=0);o.wasAnimating=!0;var n=e||y.default(),r=n-o.prevTime;if(o.prevTime=n,o.accumulatedTime=o.accumulatedTime+r,o.accumulatedTime>10*k&&(o.accumulatedTime=0),0===o.accumulatedTime)return o.animationID=null,void o.startAnimationIfNecessary();var i=(o.accumulatedTime-Math.floor(o.accumulatedTime/k)*k)/k,a=Math.floor(o.accumulatedTime/k),l={},s={},u={},c={};for(var f in t)if(Object.prototype.hasOwnProperty.call(t,f)){var p=t[f];if("number"==typeof p)u[f]=p,c[f]=0,l[f]=p,s[f]=0;else{for(var h=o.state.lastIdealStyle[f],v=o.state.lastIdealVelocity[f],m=0;m<a;m++){var b=d.default(k/1e3,h,v,p.val,p.stiffness,p.damping,p.precision);h=b[0],v=b[1]}var g=d.default(k/1e3,h,v,p.val,p.stiffness,p.damping,p.precision),w=g[0],P=g[1];u[f]=h+(w-h)*i,c[f]=v+(P-v)*i,l[f]=h,s[f]=v}}o.animationID=null,o.accumulatedTime-=a*k,o.setState({currentStyle:u,currentVelocity:c,lastIdealStyle:l,lastIdealVelocity:s}),o.unreadPropStyle=null,o.startAnimationIfNecessary()})},this.state=this.defaultState()}return i(t,e),l(t,null,[{key:"propTypes",value:{defaultStyle:T.default.objectOf(T.default.number),style:T.default.objectOf(T.default.oneOfType([T.default.number,T.default.object])).isRequired,children:T.default.func.isRequired,onRest:T.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,n=e.style,o=t||f.default(n),r=u.default(o);return{currentStyle:o,currentVelocity:r,lastIdealStyle:o,lastIdealVelocity:r}},t.prototype.componentDidMount=function(){this.prevTime=y.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=y.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(m.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&w.default.Children.only(e)},t}(w.default.Component);t.default=O,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n){for(var o=0;o<e.length;o++)if(!g.default(e[o],t[o],n[o]))return!1;return!0}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(6),c=o(u),f=n(3),p=o(f),d=n(8),h=o(d),y=n(4),v=o(y),m=n(5),b=o(m),S=n(7),g=o(S),w=n(1),P=o(w),T=n(2),k=o(T),O=1e3/60,M=function(e){function t(n){var o=this;r(this,t),e.call(this,n),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=o.state,n=t.currentStyles,r=t.currentVelocities,i=t.lastIdealStyles,a=t.lastIdealVelocities,s=!1,u=0;u<e.length;u++){var c=e[u],f=!1;for(var p in c)if(Object.prototype.hasOwnProperty.call(c,p)){var d=c[p];"number"==typeof d&&(f||(f=!0,s=!0,n[u]=l({},n[u]),r[u]=l({},r[u]),i[u]=l({},i[u]),a[u]=l({},a[u])),n[u][p]=d,r[u][p]=0,i[u][p]=d,a[u][p]=0)}}s&&o.setState({currentStyles:n,currentVelocities:r,lastIdealStyles:i,lastIdealVelocities:a})},this.startAnimationIfNecessary=function(){o.animationID=b.default(function(e){var t=o.props.styles(o.state.lastIdealStyles);if(a(o.state.currentStyles,t,o.state.currentVelocities))return o.animationID=null,void(o.accumulatedTime=0);var n=e||v.default(),r=n-o.prevTime;if(o.prevTime=n,o.accumulatedTime=o.accumulatedTime+r,o.accumulatedTime>10*O&&(o.accumulatedTime=0),0===o.accumulatedTime)return o.animationID=null,void o.startAnimationIfNecessary();for(var i=(o.accumulatedTime-Math.floor(o.accumulatedTime/O)*O)/O,l=Math.floor(o.accumulatedTime/O),s=[],u=[],c=[],f=[],p=0;p<t.length;p++){var d=t[p],y={},m={},b={},S={};for(var g in d)if(Object.prototype.hasOwnProperty.call(d,g)){var w=d[g];if("number"==typeof w)y[g]=w,m[g]=0,b[g]=w,S[g]=0;else{for(var P=o.state.lastIdealStyles[p][g],T=o.state.lastIdealVelocities[p][g],k=0;k<l;k++){var M=h.default(O/1e3,P,T,w.val,w.stiffness,w.damping,w.precision);P=M[0],T=M[1]}var x=h.default(O/1e3,P,T,w.val,w.stiffness,w.damping,w.precision),I=x[0],D=x[1];y[g]=P+(I-P)*i,m[g]=T+(D-T)*i,b[g]=P,S[g]=T}}c[p]=y,f[p]=m,s[p]=b,u[p]=S}o.animationID=null,o.accumulatedTime-=l*O,o.setState({currentStyles:c,currentVelocities:f,lastIdealStyles:s,lastIdealVelocities:u}),o.unreadPropStyles=null,o.startAnimationIfNecessary()})},this.state=this.defaultState()}return i(t,e),s(t,null,[{key:"propTypes",value:{defaultStyles:k.default.arrayOf(k.default.objectOf(k.default.number)),styles:k.default.func.isRequired,children:k.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,o=t||n().map(p.default),r=o.map(function(e){return c.default(e)});return{currentStyles:o,currentVelocities:r,lastIdealStyles:o,lastIdealVelocities:r}},t.prototype.componentDidMount=function(){this.prevTime=v.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=v.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(b.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&P.default.Children.only(e)},t}(P.default.Component);t.default=M,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n){var o=t;return null==o?e.map(function(e,t){return{key:e.key,data:e.data,style:n[t]}}):e.map(function(e,t){for(var r=0;r<o.length;r++)if(o[r].key===e.key)return{key:o[r].key,data:o[r].data,style:n[t]};return{key:e.key,data:e.data,style:n[t]}})}function l(e,t,n,o){if(o.length!==t.length)return!1;for(var r=0;r<o.length;r++)if(o[r].key!==t[r].key)return!1;for(var r=0;r<o.length;r++)if(!k.default(e[r],t[r].style,n[r]))return!1;return!0}function s(e,t,n,o,r,i,a,l,s){for(var u=b.default(o,r,function(e,o){var r=t(o);return null==r?(n({key:o.key,data:o.data}),null):k.default(i[e],r,a[e])?(n({key:o.key,data:o.data}),null):{key:o.key,data:o.data,style:r}}),c=[],f=[],d=[],h=[],y=0;y<u.length;y++){for(var v=u[y],m=null,S=0;S<o.length;S++)if(o[S].key===v.key){m=S;break}if(null==m){var g=e(v);c[y]=g,d[y]=g;var w=p.default(v.style);f[y]=w,h[y]=w}else c[y]=i[m],d[y]=l[m],f[y]=a[m],h[y]=s[m]}return[u,c,f,d,h]}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,
"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(6),p=o(f),d=n(3),h=o(d),y=n(8),v=o(y),m=n(27),b=o(m),S=n(4),g=o(S),w=n(5),P=o(w),T=n(7),k=o(T),O=n(1),M=o(O),x=n(2),I=o(x),D=1e3/60,_=function(e){function t(n){var o=this;r(this,t),e.call(this,n),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=s(o.props.willEnter,o.props.willLeave,o.props.didLeave,o.state.mergedPropsStyles,e,o.state.currentStyles,o.state.currentVelocities,o.state.lastIdealStyles,o.state.lastIdealVelocities),n=t[0],r=t[1],i=t[2],a=t[3],l=t[4],c=0;c<e.length;c++){var f=e[c].style,p=!1;for(var d in f)if(Object.prototype.hasOwnProperty.call(f,d)){var h=f[d];"number"==typeof h&&(p||(p=!0,r[c]=u({},r[c]),i[c]=u({},i[c]),a[c]=u({},a[c]),l[c]=u({},l[c]),n[c]={key:n[c].key,data:n[c].data,style:u({},n[c].style)}),r[c][d]=h,i[c][d]=0,a[c][d]=h,l[c][d]=0,n[c].style[d]=h)}}o.setState({currentStyles:r,currentVelocities:i,mergedPropsStyles:n,lastIdealStyles:a,lastIdealVelocities:l})},this.startAnimationIfNecessary=function(){o.unmounting||(o.animationID=P.default(function(e){if(!o.unmounting){var t=o.props.styles,n="function"==typeof t?t(a(o.state.mergedPropsStyles,o.unreadPropStyles,o.state.lastIdealStyles)):t;if(l(o.state.currentStyles,n,o.state.currentVelocities,o.state.mergedPropsStyles))return o.animationID=null,void(o.accumulatedTime=0);var r=e||g.default(),i=r-o.prevTime;if(o.prevTime=r,o.accumulatedTime=o.accumulatedTime+i,o.accumulatedTime>10*D&&(o.accumulatedTime=0),0===o.accumulatedTime)return o.animationID=null,void o.startAnimationIfNecessary();for(var u=(o.accumulatedTime-Math.floor(o.accumulatedTime/D)*D)/D,c=Math.floor(o.accumulatedTime/D),f=s(o.props.willEnter,o.props.willLeave,o.props.didLeave,o.state.mergedPropsStyles,n,o.state.currentStyles,o.state.currentVelocities,o.state.lastIdealStyles,o.state.lastIdealVelocities),p=f[0],d=f[1],h=f[2],y=f[3],m=f[4],b=0;b<p.length;b++){var S=p[b].style,w={},P={},T={},k={};for(var O in S)if(Object.prototype.hasOwnProperty.call(S,O)){var M=S[O];if("number"==typeof M)w[O]=M,P[O]=0,T[O]=M,k[O]=0;else{for(var x=y[b][O],I=m[b][O],_=0;_<c;_++){var j=v.default(D/1e3,x,I,M.val,M.stiffness,M.damping,M.precision);x=j[0],I=j[1]}var C=v.default(D/1e3,x,I,M.val,M.stiffness,M.damping,M.precision),z=C[0],E=C[1];w[O]=x+(z-x)*u,P[O]=I+(E-I)*u,T[O]=x,k[O]=I}}y[b]=T,m[b]=k,d[b]=w,h[b]=P}o.animationID=null,o.accumulatedTime-=c*D,o.setState({currentStyles:d,currentVelocities:h,lastIdealStyles:y,lastIdealVelocities:m,mergedPropsStyles:p}),o.unreadPropStyles=null,o.startAnimationIfNecessary()}}))},this.state=this.defaultState()}return i(t,e),c(t,null,[{key:"propTypes",value:{defaultStyles:I.default.arrayOf(I.default.shape({key:I.default.string.isRequired,data:I.default.any,style:I.default.objectOf(I.default.number).isRequired})),styles:I.default.oneOfType([I.default.func,I.default.arrayOf(I.default.shape({key:I.default.string.isRequired,data:I.default.any,style:I.default.objectOf(I.default.oneOfType([I.default.number,I.default.object])).isRequired}))]).isRequired,children:I.default.func.isRequired,willEnter:I.default.func,willLeave:I.default.func,didLeave:I.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return h.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,o=e.willEnter,r=e.willLeave,i=e.didLeave,a="function"==typeof n?n(t):n,l=void 0;l=null==t?a:t.map(function(e){for(var t=0;t<a.length;t++)if(a[t].key===e.key)return a[t];return e});var u=null==t?a.map(function(e){return h.default(e.style)}):t.map(function(e){return h.default(e.style)}),c=null==t?a.map(function(e){return p.default(e.style)}):t.map(function(e){return p.default(e.style)}),f=s(o,r,i,l,a,u,c,u,c),d=f[0];return{currentStyles:f[1],currentVelocities:f[2],lastIdealStyles:f[3],lastIdealVelocities:f[4],mergedPropsStyles:d}},t.prototype.componentDidMount=function(){this.prevTime=g.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"==typeof t?t(a(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=g.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(P.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=a(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&M.default.Children.only(t)},t}(M.default.Component);t.default=_,e.exports=t.default},function(e,t){"use strict";function n(e,t,n){for(var o={},r=0;r<e.length;r++)o[e[r].key]=r;for(var i={},r=0;r<t.length;r++)i[t[r].key]=r;for(var a=[],r=0;r<t.length;r++)a[r]=t[r];for(var r=0;r<e.length;r++)if(!Object.prototype.hasOwnProperty.call(i,e[r].key)){var l=n(r,e[r]);null!=l&&a.push(l)}return a.sort(function(e,n){var r=i[e.key],a=i[n.key],l=o[e.key],s=o[n.key];if(null!=r&&null!=a)return i[e.key]-i[n.key];if(null!=l&&null!=s)return o[e.key]-o[n.key];if(null!=r){for(var u=0;u<t.length;u++){var c=t[u].key;if(Object.prototype.hasOwnProperty.call(o,c)){if(r<i[c]&&s>o[c])return-1;if(r>i[c]&&s<o[c])return 1}}return 1}for(var u=0;u<t.length;u++){var c=t[u].key;if(Object.prototype.hasOwnProperty.call(o,c)){if(a<i[c]&&l>o[c])return 1;if(a>i[c]&&l<o[c])return-1}}return-1})}t.__esModule=!0,t.default=n,e.exports=t.default},function(e,t,n){"use strict";function o(){}t.__esModule=!0,t.default=o,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return i({},s,t,{val:e})}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=r;var a=n(11),l=o(a),s=i({},l.default.noWobble,{precision:.01});e.exports=t.default},function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=d[o.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](o.parts[i]);for(;i<o.parts.length;i++)r.parts.push(u(o.parts[i],t))}else{for(var a=[],i=0;i<o.parts.length;i++)a.push(u(o.parts[i],t));d[o.id]={id:o.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},o=0;o<e.length;o++){var r=e[o],i=r[0],a=r[1],l=r[2],s=r[3],u={css:a,media:l,sourceMap:s};n[i]?n[i].parts.push(u):t.push(n[i]={id:i,parts:[u]})}return t}function i(e,t){var n=v(),o=S[S.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),S.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=S.indexOf(e);t>=0&&S.splice(t,1)}function l(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function u(e,t){var n,o,r;if(t.singleton){var i=b++;n=m||(m=l(t)),o=c.bind(null,n,i,!1),r=c.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),o=p.bind(null,n),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=l(t),o=f.bind(null,n),r=function(){a(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}function c(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=g(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function f(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t){var n=t.css,o=t.sourceMap;o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(r),i&&URL.revokeObjectURL(i)}var d={},h=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},y=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=h(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,b=0,S=[];e.exports=function(e,t){t=t||{},void 0===t.singleton&&(t.singleton=y()),void 0===t.insertAt&&(t.insertAt="bottom");var n=r(e);return o(n,t),function(e){for(var i=[],a=0;a<n.length;a++){var l=n[a],s=d[l.id];s.refs--,i.push(s)}if(e){o(r(e),t)}for(var a=0;a<i.length;a++){var s=i[a];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete d[s.id]}}}};var g=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){var o=n(16);"string"==typeof o&&(o=[[e.id,o,""]]),n(30)(o,{}),o.locals&&(e.exports=o.locals)}])})},{react:"react"}],86:[function(require,module,exports){"use strict";var isWebSocket=function(constructor){return constructor&&2===constructor.CLOSING},isGlobalWebSocket=function(){return"undefined"!=typeof WebSocket&&isWebSocket(WebSocket)},getDefaultOptions=function(){return{constructor:isGlobalWebSocket()?WebSocket:null,maxReconnectionDelay:1e4,minReconnectionDelay:1500,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,debug:!1}},bypassProperty=function(src,dst,name){Object.defineProperty(dst,name,{get:function(){return src[name]},set:function(value){src[name]=value},enumerable:!0,configurable:!0})},initReconnectionDelay=function(config){return config.minReconnectionDelay+Math.random()*config.minReconnectionDelay},updateReconnectionDelay=function(config,previousDelay){var newDelay=previousDelay*config.reconnectionDelayGrowFactor;return newDelay>config.maxReconnectionDelay?config.maxReconnectionDelay:newDelay},LEVEL_0_EVENTS=["onopen","onclose","onmessage","onerror"],reassignEventListeners=function(ws,oldWs,listeners){Object.keys(listeners).forEach(function(type){listeners[type].forEach(function(_a){var listener=_a[0],options=_a[1];ws.addEventListener(type,listener,options)})}),oldWs&&LEVEL_0_EVENTS.forEach(function(name){ws[name]=oldWs[name]})},ReconnectingWebsocket=function(url,protocols,options){var _this=this;void 0===options&&(options={});var ws,connectingTimeout,reconnectDelay=0,retriesCount=0,shouldRetry=!0,savedOnClose=null,listeners={};if(!(this instanceof ReconnectingWebsocket))throw new TypeError("Failed to construct 'ReconnectingWebSocket': Please use the 'new' operator");var config=getDefaultOptions();if(Object.keys(config).filter(function(key){return options.hasOwnProperty(key)}).forEach(function(key){return config[key]=options[key]}),!isWebSocket(config.constructor))throw new TypeError("Invalid WebSocket constructor. Set `options.constructor`");var log=config.debug?function(){for(var params=[],_i=0;_i<arguments.length;_i++)params[_i]=arguments[_i];return console.log.apply(console,["RWS:"].concat(params))}:function(){},emitError=function(code,msg){return setTimeout(function(){var err=new Error(msg);err.code=code,Array.isArray(listeners.error)&&listeners.error.forEach(function(_a){return(0,_a[0])(err)}),ws.onerror&&ws.onerror(err)},0)},handleClose=function(){if(log("handleClose",{shouldRetry:shouldRetry}),retriesCount++,log("retries count:",retriesCount),retriesCount>config.maxRetries)return void emitError("EHOSTDOWN","Too many failed connection attempts");reconnectDelay=reconnectDelay?updateReconnectionDelay(config,reconnectDelay):initReconnectionDelay(config),log("handleClose - reconnectDelay:",reconnectDelay),shouldRetry&&setTimeout(connect,reconnectDelay)},connect=function(){if(shouldRetry){log("connect");var oldWs=ws,wsUrl="function"==typeof url?url():url;ws=new config.constructor(wsUrl,protocols),connectingTimeout=setTimeout(function(){log("timeout"),ws.close(),emitError("ETIMEDOUT","Connection timeout")},config.connectionTimeout),log("bypass properties");for(var key in ws)["addEventListener","removeEventListener","close","send"].indexOf(key)<0&&bypassProperty(ws,_this,key);ws.addEventListener("open",function(){clearTimeout(connectingTimeout),log("open"),reconnectDelay=initReconnectionDelay(config),log("reconnectDelay:",reconnectDelay),retriesCount=0}),ws.addEventListener("close",handleClose),reassignEventListeners(ws,oldWs,listeners),ws.onclose=ws.onclose||savedOnClose,savedOnClose=null}};log("init"),connect(),this.close=function(code,reason,_a){void 0===code&&(code=1e3),void 0===reason&&(reason="");var _b=void 0===_a?{}:_a,_c=_b.keepClosed,keepClosed=void 0!==_c&&_c,_d=_b.fastClose,fastClose=void 0===_d||_d,_e=_b.delay,delay=void 0===_e?0:_e;if(log("close - params:",{reason:reason,keepClosed:keepClosed,fastClose:fastClose,delay:delay,retriesCount:retriesCount,maxRetries:config.maxRetries}),shouldRetry=!keepClosed&&retriesCount<=config.maxRetries,delay&&(reconnectDelay=delay),ws.close(code,reason),fastClose){var fakeCloseEvent_1={code:code,reason:reason,wasClean:!0};handleClose(),ws.removeEventListener("close",handleClose),Array.isArray(listeners.close)&&listeners.close.forEach(function(_a){var listener=_a[0],options=_a[1];listener(fakeCloseEvent_1),ws.removeEventListener("close",listener,options)}),ws.onclose&&(savedOnClose=ws.onclose,ws.onclose(fakeCloseEvent_1),ws.onclose=null)}},this.send=function(data){ws.send(data)},this.addEventListener=function(type,listener,options){Array.isArray(listeners[type])?listeners[type].some(function(_a){return _a[0]===listener})||listeners[type].push([listener,options]):listeners[type]=[[listener,options]],ws.addEventListener(type,listener,options)},this.removeEventListener=function(type,listener,options){Array.isArray(listeners[type])&&(listeners[type]=listeners[type].filter(function(_a){return _a[0]!==listener})),ws.removeEventListener(type,listener,options)}};module.exports=ReconnectingWebsocket},{}]},{},[18])(18)});