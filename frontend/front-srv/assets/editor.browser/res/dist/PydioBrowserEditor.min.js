!function r(n,i,u){function a(o,e){if(!i[o]){if(!n[o]){var t="function"==typeof require&&require;if(!e&&t)return t(o,!0);if(s)return s(o,!0);t=new Error("Cannot find module '"+o+"'");throw t.code="MODULE_NOT_FOUND",t}t=i[o]={exports:{}};n[o][0].call(t.exports,function(e){var t=n[o][1][e];return a(t||e)},t,t.exports,r,n,i,u)}return i[o].exports}for(var s="function"==typeof require&&require,e=0;e<u.length;e++)a(u[e]);return a}({1:[function(p,e,t){!function(r){"use strict";var o=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e};function n(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var e,i=p("react"),u=(e=i)&&e.__esModule?e:{default:e},a=p("react-redux"),s=p("pydio/http/api"),l=Pydio.requireLib("hoc").EditorActions,t=function(){function e(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,o){for(var r=!0;r;){var n=e,i=t,u=o,r=!1;null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(u)}n=Object.getPrototypeOf(n);if(null===n)return;e=n,t=i,o=u,r=!0,a=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={frameSrc:null}}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,i.Component),o(e,null,[{key:"styles",get:function(){return{iframe:{border:0,flex:1,width:"100%",backgroundColor:"white"}}}}]),o(e,[{key:"componentDidMount",value:function(){var e=this.props,t=e.pydio,o=e.node,r=e.editorModify,e=e.isActive,t=t.getPluginConfigs("editor.browser");"url"===o.getAjxpMime()||"website"===o.getAjxpMime()?this.openBookmark(o,t):this.openNode(o,t),r&&e&&r({fixedToolbar:!1})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.editorModify;t&&e.isActive&&t({fixedToolbar:!1})}},{key:"openBookmark",value:function(e,t){var o=this,r="browser"===t.get("OPEN_LINK_IN_TAB");s.getClient().getPlainContent(e,function(e){-1!==e.indexOf("URL=")&&-1!==(e=e.split("URL=")[1]).indexOf("\n")&&(e=e.split("\n")[0]),o._openURL(e,r,!0)})}},{key:"openNode",value:function(e,t){var o=this,r=(this.props.pydio,"browser"===t.get("OPEN_DOCS_IN_TAB"));s.getClient().buildPresignedGetUrl(e,function(e){o._openURL(e,r,!1)},"detect")}},{key:"_openURL",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],o=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];t?(r.open(e,"","location=yes,menubar=yes,resizable=yes,scrollbars=yes,toolbar=yes,status=yes"),this.props.onRequestTabClose&&this.props.onRequestTabClose()):(o&&this.props.onRequestTabTitleUpdate&&this.props.onRequestTabTitleUpdate(e),this.setState({frameSrc:e}))}},{key:"render",value:function(){return u.default.createElement("iframe",{style:e.styles.iframe,src:this.state.frameSrc,sandbox:""})}}]);var t=e;return e=(0,a.connect)(null,l)(e)||e}();window.PydioBrowserEditor={Editor:t}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"pydio/http/api":"pydio/http/api",react:"react","react-redux":"react-redux"}]},{},[1]);